{"version":3,"file":"ContentLoader.js","sources":["../../../../resources/js/modules/form/components/checkInput.vue","../../../../resources/js/lib/helper/array.ts","../../../../resources/js/modules/calendar/lib/calendar.ts","../../../../resources/js/modules/calendar/components/Calendar.vue","../../../../resources/js/modules/calendar/components/DateModalInput.vue","../../../../resources/js/hooks/slot-ref.ts","../../../../resources/js/modules/bootstrap/components/Popover.vue","../../../../resources/js/modules/calendar/components/DatePopoverInput.vue","../../../../resources/js/modules/calendar/components/DateInput.vue","../../../../resources/js/modules/bootstrap/controllers/modal-controller.ts","../../../../resources/js/modules/bootstrap/lib/confirm.ts","../../../../resources/js/modules/upload/components/ImageUploader.vue","../../../../resources/js/modules/upload/components/form/ImageInput.vue","../../../../resources/js/modules/upload/components/SelectFile.vue","../../../../resources/js/modules/upload/components/form/FileInput.vue","../../../../resources/js/modules/form/components/RangeInput.vue","../../../../resources/js/modules/form/components/SelectInput.vue","../../../../resources/js/modules/form/components/ToggleInput.vue","../../../../resources/js/modules/upload/components/GalleryUploader.vue","../../../../resources/js/modules/upload/components/form/GalleryInput.vue","../../../../resources/js/directives/css-vars.ts","../../../../resources/js/directives/debounce.ts","../../../../resources/js/modules/form/components/TagsInput.vue","../../../../resources/js/modules/editor/plugins/author/author-model.ts","../../../../resources/js/modules/form/components/EditableInput.vue","../../../../resources/js/modules/editor/plugins/author/Author.vue","../../../../resources/js/modules/editor/plugins/author/author.ts","../../../../resources/js/modules/editor/blocks/index.ts","../../../../resources/js/modules/editor/components/EditorInput.vue","../../../../resources/js/modules/form/components/RepeaterInput.vue","../../../../resources/js/modules/form/components/AttrsInput.vue","../../../../resources/js/components/ContentLoader.vue"],"sourcesContent":["<script lang=\"ts\" setup>\r\nimport { Field } from \"../lib/field\";\r\nimport FieldWrapper, { GroupSlots } from \"./base/FieldWrapper.vue\";\r\nimport { ref, watch } from \"vue\";\r\nimport Icon from '@/components/Icon.vue';\r\nimport { mdiClose } from \"@mdi/js\";\r\n\r\ndefineOptions({\r\n  inheritAttrs: false,\r\n});\r\n\r\ndefineSlots<GroupSlots>();\r\n\r\nexport type Item = {\r\n  value: any;\r\n  label: string;\r\n  deletable?: boolean;\r\n};\r\n\r\ntype Props = {\r\n  field: Field;\r\n  noLabel?: boolean;\r\n  options: Array<Item | \"delimiter\">;\r\n  inline?: boolean;\r\n};\r\nconst { field, noLabel = false, options, inline = false } = defineProps<Props>();\r\n\r\nconst items = ref<any>(options);\r\n\r\nwatch(\r\n  () => options,\r\n  (newList: any) => {\r\n    items.value = newList;\r\n  },\r\n  {\r\n    deep: true,\r\n  }\r\n);\r\n\r\nconst emit = defineEmits([\"change\", \"remove\"]);\r\n\r\nconst update = (e) => {\r\n  let value = field.value;\r\n  if (!Array.isArray(value)) {\r\n    value = [];\r\n  }\r\n  if (!e.target.checked) {\r\n    const index = value.findIndex(\r\n      (str: string) => `${str}` === `${e.target.value}`\r\n    );\r\n    if (index >= 0) {\r\n      value.splice(index, 1);\r\n    }\r\n  } else {\r\n    value = [...new Set([...value, e.target.value])];\r\n  }\r\n  field.update(value);\r\n  emit(\"change\", value);\r\n};\r\n\r\nconst touch = (e) => {\r\n  field.touch(e);\r\n};\r\n\r\nconst blur = (e) => {\r\n  field.blur(e);\r\n};\r\n\r\nconst remove = (item: Item) => {\r\n  if (item.deletable) {\r\n    const index = items.value.findIndex(\r\n      (row: any) => `${row.value}` === `${item.value}`\r\n    );\r\n    if (index >= 0) {\r\n      items.value.splice(index, 1);\r\n      emit(\"remove\", item);\r\n    }\r\n  }\r\n};\r\n</script>\r\n<template>\r\n  <FieldWrapper :field=\"field\" :no-label=\"noLabel\">\r\n    <template v-for=\"(_, slot) in $slots\" v-slot:[slot]=\"scope\">\r\n      <slot :name=\"slot\" v-bind=\"{ ...scope }\" />\r\n    </template>\r\n    <template #=\"{ id }\">\r\n      <div class=\"options\">\r\n        <template v-for=\"(item, i) in items\" :key=\"i\">\r\n          <template v-if=\"item === 'delimiter'\">\r\n            <div :class=\"{ delimiter: true, inline }\"></div>\r\n          </template>\r\n          <template v-else>\r\n            <div class=\"form-check\" :class=\"{ 'form-check-inline': inline }\">\r\n              <input\r\n                class=\"form-check-input\"\r\n                type=\"checkbox\"\r\n                :name=\"`${field.name}[${i}]`\"\r\n                :id=\"`${id}-${i}`\"\r\n                :value=\"item.value\"\r\n                v-bind=\"$attrs\"\r\n                @input=\"update\"\r\n                @focus=\"touch\"\r\n                @blur=\"blur\"\r\n                :checked=\"field?.value?.includes(item.value) ?? false\"\r\n              />\r\n              <label\r\n                class=\"form-check-label position-relative\"\r\n                :for=\"`${id}-${i}`\"\r\n              >\r\n                <div\r\n                  v-html=\"item.label\"\r\n                  :class=\"{ 'ps-3': item.deletable }\"\r\n                ></div>\r\n                <template v-if=\"item.deletable\">\r\n                  <Icon :path=\"mdiClose\" color=\"danger\" class=\"position-absolute top-0 start-0\" />\r\n                </template>\r\n              </label>\r\n            </div>\r\n          </template>\r\n        </template>\r\n      </div>\r\n    </template>\r\n  </FieldWrapper>\r\n</template>\r\n<style scoped lang=\"scss\">\r\n@import \"@scss/config/colors\";\r\n\r\n.delimiter {\r\n    height: 21px;\r\n    position: relative;\r\n    min-height: 1.5rem;\r\n    padding-left: 1.5em;\r\n    margin-bottom: .125rem;\r\n    padding-left: 1.5em;\r\n    margin-bottom: .125rem;\r\n\r\n    &:before {\r\n        content: \"\";\r\n        display: block;\r\n        position: absolute;\r\n        top: 50%;\r\n        left: 50%;\r\n        width: 90%;\r\n        height: 1px;\r\n        background: $gray-3;\r\n        transform: translateX(-50%) translateY(-50%);\r\n    }\r\n\r\n    &.inline {\r\n        height: auto;\r\n        min-height: 24px;\r\n        width: 21px;\r\n        display: inline-block;\r\n        margin-right: 1rem;\r\n        top: 7px;\r\n\r\n        &:before {\r\n            width: 1px;\r\n            height: 90%;\r\n        }\r\n    }\r\n}\r\n</style>\r\n","export function chunk(array: Array<any>, size: number) {\r\n\tconst chunked_arr: any = []\r\n\tlet index = 0\r\n\twhile (index < array.length) {\r\n\t\tchunked_arr.push(array.slice(index, size + index))\r\n\t\tindex += size\r\n\t}\r\n\treturn chunked_arr\r\n}\r\n\r\nexport function groupBy(\r\n\tarray: Array<any>,\r\n\tname: string | ((item: any) => string),\r\n) {\r\n\treturn array.reduce((group, item) => {\r\n\t\tconst value = typeof name === \"function\" ? name(item) : item[name]\r\n\t\tgroup[value] = group[value] ?? []\r\n\t\tgroup[value].push(item)\r\n\t\treturn group\r\n\t}, {})\r\n}\r\n\r\nexport function extract(\r\n\tarray: Array<any>,\r\n\tname: string | ((item: any) => string),\r\n) {\r\n\treturn Object.values(\r\n\t\tarray.reduce((list, item) => {\r\n\t\t\tconst value = typeof name === \"function\" ? name(item) : item[name]\r\n\t\t\tif (!Object.hasOwn(list, value)) {\r\n\t\t\t\tlist[value] = item\r\n\t\t\t}\r\n\t\t\treturn list\r\n\t\t}, {}),\r\n\t)\r\n}\r\n\r\nexport type TreeDisplayOptions = {\r\n\tfilterBy?: string\r\n\tfilterValue?: any\r\n\tprefix?: string\r\n\tlevel?: number\r\n\tdelimiter?: string\r\n}\r\n\r\nexport function displayTree(\r\n\tcallback: (\r\n\t\titem: any,\r\n\t\tprefix: string,\r\n\t\tlevel: number,\r\n\t\thasChildren: boolean,\r\n\t) => any,\r\n\titems: any[],\r\n\t{\r\n\t\tfilterBy = \"parent_id\",\r\n\t\tfilterValue = null,\r\n\t\tprefix = \"\",\r\n\t\tlevel = 0,\r\n\t\tdelimiter = \"|__\",\r\n\t}: any,\r\n): any[] {\r\n\tlet out: any = []\r\n\tconst chunk = items.filter((item: any) => item[filterBy] === filterValue)\r\n\tchunk.forEach((item: any) => {\r\n\t\tconst children = displayTree(callback, items, {\r\n\t\t\tfilterBy,\r\n\t\t\tfilterValue: item.id,\r\n\t\t\tprefix: `${prefix}${delimiter}`,\r\n\t\t\tlevel: level + 1,\r\n\t\t\tdelimiter,\r\n\t\t})\r\n\t\tout.push(callback(item, prefix, level, children.length > 0))\r\n\t\tout = [...out, ...children]\r\n\t})\r\n\treturn out\r\n}\r\n","export function getDaysCount(month: number, year: number) {\r\n\tif (month < 0) {\r\n\t\tmonth = 11\r\n\t\tyear--\r\n\t} else if (month > 11) {\r\n\t\tmonth = 0\r\n\t\tyear++\r\n\t}\r\n\treturn 32 - new Date(year, month, 32).getDate()\r\n}\r\n\r\nexport function getFirstDay(month: number, year: number) {\r\n\tlet d = new Date(year, month, 1)\r\n\tlet i = d.getDay() - 1\r\n\tif (i < 0) {\r\n\t\ti = 6\r\n\t}\r\n\treturn i\r\n}\r\n\r\nexport function calculateDays(month: number, year: number, selectedDate) {\r\n\tconst today: Date = new Date()\r\n\tconst daysList: any = []\r\n\tconst days: number = getDaysCount(month, year)\r\n\tconst firstDay: number = getFirstDay(month, year)\r\n\tconst prevDays: number = getDaysCount(month - 1, year)\r\n\tlet count: number = 0\r\n\r\n\t// previous\r\n\tlet toStart = prevDays - firstDay\r\n\tfor (let i = 0; i < firstDay; i++) {\r\n\t\ttoStart++\r\n\t\tlet date = getDate(year, month, toStart, \"--\")\r\n\t\tdaysList.push({\r\n\t\t\ttext: toStart,\r\n\t\t\ttoday: date.toDateString() === today.toDateString(),\r\n\t\t\ttype: \"previous\",\r\n\t\t\tdate: getDateFormat(date),\r\n\t\t\tday: date.getDate(),\r\n\t\t\tactive: isActiveDate(date, selectedDate),\r\n\t\t})\r\n\t\tcount++\r\n\t}\r\n\r\n\t// current\r\n\tfor (let i = 1; i <= days; i++) {\r\n\t\tlet date = getDate(year, month, i)\r\n\t\tdaysList.push({\r\n\t\t\ttext: i,\r\n\t\t\ttoday: date.toDateString() === today.toDateString(),\r\n\t\t\ttype: \"current\",\r\n\t\t\tdate: getDateFormat(date),\r\n\t\t\tday: date.getDate(),\r\n\t\t\tactive: isActiveDate(date, selectedDate),\r\n\t\t})\r\n\t\tcount++\r\n\t}\r\n\r\n\t// next\r\n\tlet toEnd = 42 - count\r\n\tfor (let i = 0; i < toEnd; i++) {\r\n\t\tlet date = getDate(year, month, i + 1, \"++\")\r\n\t\tdaysList.push({\r\n\t\t\ttext: i + 1,\r\n\t\t\ttoday: date.toDateString() === today.toDateString(),\r\n\t\t\ttype: \"next\",\r\n\t\t\tdate: getDateFormat(date),\r\n\t\t\tday: date.getDate(),\r\n\t\t\tactive: isActiveDate(date, selectedDate),\r\n\t\t})\r\n\t}\r\n\r\n\treturn daysList\r\n}\r\n\r\nexport function getDate(\r\n\tyear: number,\r\n\tmonth: number,\r\n\tday: number,\r\n\toperation: string = \"\",\r\n) {\r\n\tif (operation === \"--\") {\r\n\t\tmonth--\r\n\t} else if (operation === \"++\") {\r\n\t\tmonth++\r\n\t}\r\n\tif (month < 0) {\r\n\t\tmonth = 11\r\n\t\tyear--\r\n\t} else if (month > 11) {\r\n\t\tmonth = 0\r\n\t\tyear++\r\n\t}\r\n\treturn new Date(year, month, day)\r\n}\r\n\r\nexport function getDateFormat(date: Date) {\r\n\treturn `${date.getFullYear()}-${(date.getMonth() + 1)\r\n\t\t.toString()\r\n\t\t.padStart(2, \"0\")}-${date.getDate().toString().padStart(2, \"0\")}`\r\n}\r\n\r\nexport function isActiveDate(date: Date, selectedDate) {\r\n\treturn (\r\n\t\tdate.getFullYear() === selectedDate.getFullYear() &&\r\n\t\tdate.getMonth() === selectedDate.getMonth() &&\r\n\t\tdate.getDate() === selectedDate.getDate()\r\n\t)\r\n}\r\n\r\nexport function daysToRows(array: any) {\r\n\tlet i: number,\r\n\t\tj: number,\r\n\t\tlist: any = [],\r\n\t\tchunk: number = 7\r\n\tfor (i = 0, j = array.length; i < j; i += chunk) {\r\n\t\tlist.push(array.slice(i, i + chunk))\r\n\t}\r\n\treturn list\r\n}\r\n","<script setup lang=\"ts\">\r\nimport { chunk } from \"@/lib/helper/array\";\r\nimport { computed, ref, watch } from \"vue\";\r\nimport { calculateDays, getDateFormat } from \"../lib/calendar\";\r\nimport { mdiChevronLeft, mdiChevronRight } from \"@mdi/js\";\r\nimport { isDark } from \"@/modules/theme\";\r\nimport Icon from \"@/components/Icon.vue\";\r\n\r\nconst props = defineProps({\r\n  date: {\r\n    type: [String, Object as () => Date],\r\n    default: () => new Date(),\r\n  },\r\n});\r\n\r\nconst emit = defineEmits([\"change\", \"done\"]);\r\n\r\nlet date = ref(\r\n  props.date\r\n    ? props.date instanceof Date\r\n      ? props.date\r\n      : new Date(props.date)\r\n    : new Date()\r\n);\r\nconst day = ref(date.value.getDate());\r\nconst month = ref(date.value.getMonth());\r\nconst year = ref(date.value.getFullYear());\r\nconst view = ref(\"dates\");\r\nconst centerYear = ref(year.value);\r\n\r\nwatch(\r\n  date,\r\n  (d) => {\r\n    emit(\"change\", getDateFormat(d as Date));\r\n  },\r\n  {\r\n    immediate: true,\r\n  }\r\n);\r\n\r\nwatch(year, (value) => {\r\n  centerYear.value = value;\r\n});\r\n\r\nconst setView = (name) => {\r\n  view.value = name;\r\n};\r\n\r\nconst setYear = (y) => {\r\n  year.value = y;\r\n  date.value = new Date(year.value, month.value, day.value);\r\n  setView(\"months\");\r\n};\r\n\r\nconst setMonth = (m, y) => {\r\n  month.value = m;\r\n  year.value = y;\r\n  date.value = new Date(year.value, month.value, day.value);\r\n  setView(\"dates\");\r\n};\r\n\r\nconst setDay = (ds) => {\r\n  date.value = new Date(ds);\r\n  day.value = date.value.getDate();\r\n  month.value = date.value.getMonth();\r\n  year.value = date.value.getFullYear();\r\n  emit(\"done\");\r\n};\r\n\r\nconst yearsMeta = computed(() => {\r\n  return {\r\n    from: centerYear.value - 7,\r\n    to: centerYear.value + 7,\r\n  };\r\n});\r\n\r\nconst years = computed(() => {\r\n  const y: any = [];\r\n  for (let i = yearsMeta.value.from; i <= yearsMeta.value.to; i++) {\r\n    y.push(i);\r\n  }\r\n  return chunk(y, 3);\r\n});\r\n\r\nconst monthsNames = [\r\n  \"Jan\",\r\n  \"Feb\",\r\n  \"Mar\",\r\n  \"Apr\",\r\n  \"May\",\r\n  \"Jun\",\r\n  \"Jul\",\r\n  \"Aug\",\r\n  \"Sep\",\r\n  \"Oct\",\r\n  \"Nov\",\r\n  \"Dec\",\r\n];\r\n\r\nconst months = computed(() => {\r\n  const m = monthsNames.map((v, i) => {\r\n    return {\r\n      value: i,\r\n      name: v,\r\n    };\r\n  });\r\n  return chunk(m, 3);\r\n});\r\n\r\nconst previous = () => {\r\n  if (view.value === \"years\") {\r\n    centerYear.value -= 15;\r\n  } else if (view.value === \"months\") {\r\n    year.value--;\r\n  } else if (view.value === \"dates\") {\r\n    month.value--;\r\n    if (month.value < 0) {\r\n      month.value = 11;\r\n      year.value--;\r\n    }\r\n  }\r\n  date.value = new Date(year.value, month.value, day.value);\r\n};\r\nconst next = () => {\r\n  if (view.value === \"years\") {\r\n    centerYear.value += 15;\r\n  } else if (view.value === \"months\") {\r\n    year.value++;\r\n  } else if (view.value === \"dates\") {\r\n    month.value++;\r\n    if (month.value > 11) {\r\n      month.value = 0;\r\n      year.value++;\r\n    }\r\n  }\r\n  date.value = new Date(year.value, month.value, day.value);\r\n};\r\n\r\nconst daysNames = [\"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\", \"Su\"];\r\n\r\nconst days = computed(() => {\r\n  return chunk(calculateDays(month.value, year.value, date.value), 7);\r\n});\r\n</script>\r\n<template>\r\n  <div class=\"calendar-component\">\r\n    <div class=\"card\">\r\n      <div class=\"card-header\">\r\n        <div class=\"row\">\r\n          <div class=\"col text-center\">\r\n            <Icon :path=\"mdiChevronLeft\" @click.stop.prevent=\"previous()\" />\r\n          </div>\r\n          <div class=\"col-sm-8\">\r\n            <div class=\"heading\">\r\n              <template v-if=\"view === 'years'\">\r\n                <strong\r\n                  :class=\"{ 'text-dark': !isDark(), 'text-light': isDark() }\"\r\n                  >{{ yearsMeta.from }}</strong\r\n                >\r\n                -\r\n                <strong\r\n                  :class=\"{ 'text-dark': !isDark(), 'text-light': isDark() }\"\r\n                  >{{ yearsMeta.to }}</strong\r\n                >\r\n              </template>\r\n              <template v-if=\"view === 'months'\">\r\n                <strong\r\n                  :class=\"{ 'text-dark': !isDark(), 'text-light': isDark() }\"\r\n                  @click.stop.prevent=\"setView('years')\"\r\n                  >{{ year }}</strong\r\n                >\r\n              </template>\r\n              <template v-if=\"view === 'dates'\">\r\n                <div @click.stop.prevent=\"setView('months')\">\r\n                  <strong\r\n                    :class=\"{ 'text-dark': !isDark(), 'text-light': isDark() }\"\r\n                    >{{ date.getDate().toString().padStart(2, \"0\") }}</strong\r\n                  >\r\n                  &nbsp;\r\n                  <strong\r\n                    :class=\"{ 'text-dark': !isDark(), 'text-light': isDark() }\"\r\n                    >{{ monthsNames[date.getMonth()] }}</strong\r\n                  >\r\n                  &nbsp;\r\n                  <strong\r\n                    :class=\"{ 'text-dark': !isDark(), 'text-light': isDark() }\"\r\n                    >{{ date.getFullYear() }}</strong\r\n                  >\r\n                </div>\r\n              </template>\r\n            </div>\r\n          </div>\r\n          <div class=\"col text-center\">\r\n            <Icon :path=\"mdiChevronRight\" @click.stop.prevent=\"next()\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"card-body\">\r\n        <div\r\n          class=\"view-layout view-years\"\r\n          :class=\"{ active: view === 'years' }\"\r\n        >\r\n          <div v-for=\"(items, i) in years\" :key=\"i\" class=\"row no-full-height\">\r\n            <div v-for=\"y in items\" :key=\"y\" class=\"col\">\r\n              <a\r\n                href=\"#\"\r\n                class=\"item year\"\r\n                :class=\"{ active: y === year }\"\r\n                @click.stop.prevent=\"setYear(y)\"\r\n                >{{ y }}</a\r\n              >\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div\r\n          class=\"view-layout view-months\"\r\n          :class=\"{ active: view === 'months' }\"\r\n        >\r\n          <div v-for=\"(items, i) in months\" :key=\"i\" class=\"row no-full-height\">\r\n            <div v-for=\"m in items\" :key=\"m\" class=\"col\">\r\n              <a\r\n                href=\"#\"\r\n                class=\"item month\"\r\n                :class=\"{ active: m.value === month }\"\r\n                @click.stop.prevent=\"setMonth(m.value, year)\"\r\n                >{{ m.name }}</a\r\n              >\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div\r\n          class=\"view-layout view-dates\"\r\n          :class=\"{ active: view === 'dates' }\"\r\n        >\r\n          <div class=\"row\">\r\n            <div v-for=\"d in daysNames\" :key=\"d\" class=\"col px-0\">\r\n              <div class=\"day-name\">{{ d }}</div>\r\n            </div>\r\n          </div>\r\n          <div v-for=\"(chunk, i) in days\" :key=\"i\" class=\"row\">\r\n            <div v-for=\"day in chunk\" :key=\"day.date\" class=\"col px-0\">\r\n              <div\r\n                class=\"day-date\"\r\n                @click.stop.prevent=\"setDay(day.date)\"\r\n                :class=\"{\r\n                  active: day.active,\r\n                  today: day.today,\r\n                  [day.type]: true,\r\n                }\"\r\n              >\r\n                {{ day.text }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<style scoped lang=\"scss\">\r\n@import \"@scss/config\";\r\n@import \"@scss/mixins/dark\";\r\n\r\n.calendar-component {\r\n  position: relative;\r\n\r\n  .card {\r\n    * {\r\n      user-select: none;\r\n    }\r\n\r\n    --bs-card-bg: #{$white};\r\n    @include dark {\r\n      --bs-card-bg: #{$gray-9};\r\n    }\r\n\r\n    border-radius: 0;\r\n    border: none;\r\n\r\n    .card-header {\r\n      border-radius: 0;\r\n      svg {\r\n        cursor: pointer;\r\n        color: $gray-9;\r\n        @include dark {\r\n          color: $gray-1;\r\n        }\r\n      }\r\n\r\n      .heading {\r\n        display: flex;\r\n        flex-direction: row;\r\n        justify-content: center;\r\n        align-items: center;\r\n        min-height: 100%;\r\n        cursor: pointer;\r\n      }\r\n    }\r\n\r\n    .card-body {\r\n      position: relative;\r\n      padding-top: 260px;\r\n      overflow: hidden;\r\n      border-radius: 0;\r\n\r\n      .view-layout {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        z-index: 0;\r\n        opacity: 0;\r\n        visibility: hidden;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: center;\r\n        align-items: center;\r\n        background: $white;\r\n        @include dark {\r\n          background: $gray-9;\r\n        }\r\n\r\n        &.active {\r\n          z-index: 1;\r\n          opacity: 1;\r\n          visibility: visible;\r\n        }\r\n\r\n        .row {\r\n          min-width: 100%;\r\n          margin-bottom: 10px;\r\n\r\n          &:last-child {\r\n            margin: 0;\r\n          }\r\n\r\n          .item {\r\n            position: relative;\r\n            text-decoration: none;\r\n            color: dark;\r\n            display: flex;\r\n            flex-direction: column;\r\n            justify-content: center;\r\n            align-items: center;\r\n            min-height: 40px;\r\n            padding: 0 10px;\r\n            cursor: pointer;\r\n            border-radius: 10px;\r\n\r\n            &:hover,\r\n            &.active {\r\n              background: $gray-2;\r\n              color: $black;\r\n              @include dark {\r\n                background: $gray-8;\r\n                color: $white;\r\n              }\r\n            }\r\n          }\r\n\r\n          .day-name {\r\n            position: relative;\r\n            display: flex;\r\n            flex-direction: column;\r\n            justify-content: center;\r\n            align-items: center;\r\n            min-height: 40px;\r\n            padding: 0 10px;\r\n            color: $black;\r\n            border-bottom: 1px solid $gray-2;\r\n            @include dark {\r\n              color: $white;\r\n              border-bottom: 1px solid $gray-8;\r\n            }\r\n          }\r\n\r\n          .day-date {\r\n            position: relative;\r\n            display: flex;\r\n            flex-direction: column;\r\n            justify-content: center;\r\n            align-items: center;\r\n            min-height: 36px;\r\n            padding: 0 10px;\r\n            margin: 2px;\r\n            cursor: pointer;\r\n            border-radius: 10px;\r\n            &,\r\n            * {\r\n              transition: all 0.25s ease;\r\n            }\r\n\r\n            &:hover,\r\n            &.active {\r\n              background: $gray-2;\r\n              color: $black;\r\n              @include dark {\r\n                background: $gray-8;\r\n                color: $white;\r\n              }\r\n            }\r\n\r\n            &.today {\r\n              &:before {\r\n                content: \"\";\r\n                display: block;\r\n                position: absolute;\r\n                bottom: 2px;\r\n                left: 50%;\r\n                transform: translateX(-50%);\r\n                width: 6px;\r\n                height: 6px;\r\n                border-radius: 50%;\r\n                background: $black;\r\n                @include dark {\r\n                  background: $white;\r\n                }\r\n              }\r\n            }\r\n\r\n            &.previous,\r\n            &.next {\r\n              color: $gray-3;\r\n              @include dark {\r\n                color: $gray-7;\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        &.view-dates {\r\n          .row {\r\n            margin: 0;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<script lang=\"ts\" setup>\r\nimport { Field } from \"@/modules/form/lib/field\";\r\nimport { GroupSlots } from \"@/modules/form/components/base/FieldWrapper.vue\";\r\nimport { ref } from \"vue\";\r\nimport StringInput from \"@/modules/form/components/StringInput.vue\";\r\nimport Modal from \"@/modules/bootstrap/components/Modal.vue\";\r\nimport Calendar from \"@/modules/calendar/components/Calendar.vue\";\r\nimport Icon from \"@/components/Icon.vue\";\r\nimport { mdiDelete } from \"@mdi/js\";\r\nimport Button from '@/modules/bootstrap/components/Button.vue';\r\n\r\ndefineOptions({\r\n  inheritAttrs: false,\r\n});\r\n\r\ndefineSlots<GroupSlots>();\r\n\r\ntype Props = {\r\n  field: Field;\r\n  noLabel?: boolean;\r\n  noValue?: boolean;\r\n  cleanable?: boolean;\r\n};\r\nconst props = defineProps<Props>();\r\n\r\nconst { field, noLabel = false, noValue = false, cleanable = false } = props;\r\n\r\nconst initValue = ref<boolean>(!noValue);\r\nconst calendarRef = ref<any>(null);\r\n\r\ntype Emits = {\r\n  open: any;\r\n  change: [value: null | string];\r\n  close: any;\r\n};\r\nconst emit = defineEmits<Emits>();\r\n\r\nconst openCalendar = () => {\r\n  calendarRef.value.open();\r\n  emit(\"open\");\r\n};\r\n\r\nconst setDate = (dateStr: string) => {\r\n  if (initValue.value) {\r\n    field.update(dateStr);\r\n    emit(\"change\", dateStr);\r\n  }\r\n  initValue.value = true;\r\n};\r\n\r\nconst onCloseCalendar = () => {\r\n  emit(\"close\", field.value);\r\n};\r\n\r\nconst closeCalendar = () => {\r\n  calendarRef.value?.close?.();\r\n};\r\n\r\nconst clean = () => {\r\n  field.update(null);\r\n  emit(\"change\", null);\r\n  closeCalendar();\r\n};\r\n\r\ndefineExpose({ open: openCalendar, close: closeCalendar });\r\n</script>\r\n<template>\r\n  <StringInput :field=\"field\" :no-label=\"noLabel\" @focus=\"openCalendar()\">\r\n    <template v-for=\"(_, slot) in $slots\" v-slot:[slot]=\"scope\">\r\n      <slot :name=\"slot\" v-bind=\"{ ...scope }\" />\r\n    </template>\r\n  </StringInput>\r\n  <Modal\r\n    :title=\"field.label\"\r\n    default-size\r\n    ref=\"calendarRef\"\r\n    @close=\"onCloseCalendar\"\r\n    padding=\"0\"\r\n  >\r\n    <Calendar\r\n      :date=\"field.value\"\r\n      @change=\"setDate\"\r\n      @done=\"closeCalendar\"\r\n    ></Calendar>\r\n    <template v-if=\"cleanable\" #buttons>\r\n      <Button color=\"danger\" @click=\"clean\">\r\n        <Icon :path=\"mdiDelete\" />Remove\r\n      </Button>\r\n    </template>\r\n  </Modal>\r\n</template>\r\n","import { ref, Ref } from \"vue\";\r\n\r\ntype SlotRef = [Ref<any>, (el: any) => void]\r\n\r\nexport const createSlotRef = (): SlotRef => {\r\n\r\n    const element = ref<any>(null)\r\n\r\n    const setElement = (el: any) => {\r\n        element.value = el\r\n    }\r\n\r\n    return [element, setElement];\r\n}\r\n","<script setup lang=\"ts\">\r\nimport { onMounted, ref, nextTick, onUnmounted } from \"vue\";\r\nimport { Popover } from \"bootstrap\";\r\nimport { createSlotRef } from \"@/hooks/slot-ref\";\r\nimport Button from \"@/modules/bootstrap/components/Button.vue\";\r\nimport { autoId } from \"@/lib/helper/strings\";\r\n\r\ndefineOptions({\r\n  inheritAttrs: false,\r\n});\r\n\r\ntype OffsetsFunction = ({\r\n  popper,\r\n  reference,\r\n  placement,\r\n}: any) => [number, number];\r\n\r\ntype Props = {\r\n  title?: string;\r\n  trigger?: \"hover\" | \"focus\" | \"click\" | \"manual\";\r\n  animation?: boolean;\r\n  delay?: number | any;\r\n  customClass?: string;\r\n  container?: any;\r\n  disabled?: boolean;\r\n  placement?: \"auto\" | \"top\" | \"bottom\" | \"left\" | \"right\";\r\n  offset?: string | OffsetsFunction | number[];\r\n  width?: string;\r\n  controller?: any;\r\n  padding?: string;\r\n};\r\nconst {\r\n  title = \"\",\r\n  animation = false,\r\n  delay = 0,\r\n  customClass = \"\",\r\n  container = false,\r\n  trigger = \"hover\",\r\n  disabled = false,\r\n  placement = \"auto\",\r\n  offset = [0, 8],\r\n  width = \"auto\",\r\n  controller = null,\r\n  padding = \"1rem\",\r\n} = defineProps<Props>();\r\n\r\nconst popover = ref<any>(null);\r\n\r\nconst [target, setTarget] = createSlotRef();\r\nconst [content, setContent] = createSlotRef();\r\nconst [template, setTemplate] = createSlotRef();\r\n\r\ntype Slots = {\r\n  default: (props: { element: (el: any) => void }) => void;\r\n  content: (props: { element: (el: any) => void }) => void;\r\n  template: (props: { element: (el: any) => void }) => void;\r\n};\r\n\r\ndefineSlots<Slots>();\r\n\r\nconst toX = ref<any>(null);\r\n\r\nconst key = autoId(\"popover\");\r\n\r\ntype Emits = {\r\n  open: [e: any];\r\n  opened: [e: any];\r\n  close: [e: any];\r\n  closed: [e: any];\r\n  inserted: [e: any];\r\n};\r\nconst emit = defineEmits<Emits>();\r\n\r\nconst onClose = (e) => {\r\n  emit(\"close\", e);\r\n};\r\n\r\nconst onClosed = (e) => {\r\n  emit(\"closed\", e);\r\n  if (controller) {\r\n    controller.removeController();\r\n  }\r\n};\r\n\r\nconst onOpen = (e) => {\r\n  emit(\"open\", e);\r\n};\r\n\r\nconst onOpened = (e) => {\r\n  emit(\"opened\", e);\r\n  const wrapper: any = document.querySelector(`.${key}`);\r\n  if (wrapper) {\r\n    wrapper.style.setProperty(\"--bs-popover-max-width\", width);\r\n    wrapper.style.setProperty(\"width\", width);\r\n    const body: any = wrapper.querySelector(\".popover-body\");\r\n    if (body) {\r\n      body.style.setProperty(\"--bs-popover-body-padding-x\", padding);\r\n      body.style.setProperty(\"--bs-popover-body-padding-y\", padding);\r\n    }\r\n  }\r\n};\r\n\r\nconst onInserted = (e) => {\r\n  emit(\"inserted\", e);\r\n};\r\n\r\nconst createPopover = () => {\r\n  popover.value = new Popover(target.value, {\r\n    title: title,\r\n    content: content.value,\r\n    trigger,\r\n    animation,\r\n    delay,\r\n    customClass,\r\n    container,\r\n    placement,\r\n    template: template.value.outerHTML,\r\n    offset,\r\n    html: true,\r\n  });\r\n  nextTick(() => {\r\n    target.value?.addEventListener(\"show.bs.popover\", onOpen);\r\n    target.value?.addEventListener(\"shown.bs.popover\", onOpened);\r\n    target.value?.addEventListener(\"hide.bs.popover\", onClose);\r\n    target.value?.addEventListener(\"hidden.bs.popover\", onClosed);\r\n    target.value?.addEventListener(\"inserted.bs.popover\", onInserted);\r\n    toX.value?.remove();\r\n  });\r\n};\r\n\r\nconst toggle = () => {\r\n  popover.value.toggle();\r\n};\r\nconst open = () => {\r\n  popover.value.show();\r\n};\r\nconst close = () => {\r\n  popover.value.hide();\r\n};\r\n\r\nconst dispose = () => {\r\n  target.value?.removeEventListener?.(\"hide.bs.popover\", onClose);\r\n  target.value?.removeEventListener?.(\"hidden.bs.popover\", onClosed);\r\n  target.value?.removeEventListener?.(\"show.bs.popover\", onOpen);\r\n  target.value?.removeEventListener?.(\"shown.bs.popover\", onOpened);\r\n  target.value?.addEventListener(\"inserted.bs.popover\", onInserted);\r\n  popover.value?.dispose?.();\r\n};\r\n\r\nconst disable = () => {\r\n  popover.value.disable();\r\n};\r\n\r\nconst enable = () => {\r\n  popover.value.enable();\r\n};\r\n\r\nconst updateContent = (header = null, body = null) => {\r\n  const conf: any = {};\r\n  if (header) {\r\n    conf[\".popover-header\"] = header;\r\n  }\r\n  if (body) {\r\n    conf[\".popover-body\"] = body;\r\n  }\r\n  popover.value.setContent();\r\n};\r\n\r\nconst toggleEnabled = () => {\r\n  popover.value.toggleEnabled();\r\n};\r\n\r\nconst update = () => {\r\n  popover.value.update();\r\n};\r\n\r\ndefineExpose({\r\n  open,\r\n  close,\r\n  toggle,\r\n  dispose,\r\n  disable,\r\n  enable,\r\n  updateContent,\r\n  toggleEnabled,\r\n  update,\r\n});\r\n\r\nonMounted(() => {\r\n  createPopover();\r\n  setTimeout(() => {\r\n    const root = content.value?.parentElement?.parentElement ?? null;\r\n    if (root) {\r\n      root.style.width = \"100%\";\r\n      root.style.maxWidth = width;\r\n    }\r\n  }, 500);\r\n});\r\n\r\nonUnmounted(() => {\r\n  dispose();\r\n});\r\n</script>\r\n<template>\r\n  <slot :element=\"setTarget\">\r\n    <Button :ref=\"setTarget\">{{ title }}</Button>\r\n  </slot>\r\n  <Teleport to=\"body\">\r\n    <div style=\"display: none\" ref=\"toX\">\r\n      <slot name=\"content\" :element=\"setContent\"></slot>\r\n      <slot name=\"template\" :element=\"setTemplate\">\r\n        <div\r\n          :class=\"{ popover: true, [`popover-${width}`]: true, [key]: true }\"\r\n          role=\"tooltip\"\r\n          :ref=\"setTemplate\"\r\n          :style=\"{ '--bs-popover-max-width': 'auto', width }\"\r\n        >\r\n          <div class=\"popover-arrow\"></div>\r\n          <h3 class=\"popover-header\"></h3>\r\n          <div class=\"popover-body\"></div>\r\n        </div>\r\n      </slot>\r\n    </div>\r\n  </Teleport>\r\n</template>\r\n","<script lang=\"ts\" setup>\r\nimport { Field } from \"@/modules/form/lib/field\";\r\nimport { GroupSlots } from \"@/modules/form/components/base/FieldWrapper.vue\";\r\nimport { ref } from \"vue\";\r\nimport StringInput from \"@/modules/form/components/StringInput.vue\";\r\nimport Calendar from \"@/modules/calendar/components/Calendar.vue\";\r\nimport Icon from \"@/components/Icon.vue\";\r\nimport { mdiClose, mdiDelete } from \"@mdi/js\";\r\nimport Popover from \"@/modules/bootstrap/components/Popover.vue\";\r\nimport Button from \"@/modules/bootstrap/components/Button.vue\";\r\n\r\ndefineOptions({\r\n  inheritAttrs: false,\r\n});\r\n\r\ndefineSlots<GroupSlots>();\r\n\r\ntype Props = {\r\n  field: Field;\r\n  noLabel?: boolean;\r\n  noValue?: boolean;\r\n  cleanable?: boolean;\r\n};\r\nconst props = defineProps<Props>();\r\n\r\nconst { field, noLabel = false, noValue = false, cleanable = false } = props;\r\n\r\nconst initValue = ref<boolean>(!noValue);\r\nconst calendarRef = ref<any>(null);\r\n\r\ntype Emits = {\r\n  open: any;\r\n  change: [value: null | string];\r\n  close: any;\r\n};\r\nconst emit = defineEmits<Emits>();\r\n\r\nconst openCalendar = () => {\r\n  calendarRef.value.open();\r\n  emit(\"open\");\r\n};\r\n\r\nconst setDate = (dateStr: string) => {\r\n  if (initValue.value) {\r\n    field.update(dateStr);\r\n    emit(\"change\", dateStr);\r\n  }\r\n  initValue.value = true;\r\n};\r\n\r\nconst onCloseCalendar = () => {\r\n  emit(\"close\", field.value);\r\n};\r\n\r\nconst closeCalendar = () => {\r\n  calendarRef.value?.close?.();\r\n};\r\n\r\nconst clean = () => {\r\n  field.update(null);\r\n  emit(\"change\", null);\r\n  closeCalendar();\r\n};\r\n\r\ndefineExpose({ open: openCalendar, close: closeCalendar });\r\n</script>\r\n<template>\r\n  <Popover\r\n    :title=\"field.label\"\r\n    ref=\"calendarRef\"\r\n    @close=\"onCloseCalendar\"\r\n    trigger=\"manual\"\r\n    width=\"500px\"\r\n    padding=\"0\"\r\n  >\r\n    <template #=\"{ element }\">\r\n      <div :ref=\"element\">\r\n        <StringInput :field=\"field\" :no-label=\"noLabel\" @click=\"openCalendar\">\r\n          <template v-for=\"(_, slot) in $slots\" v-slot:[slot]=\"scope\">\r\n            <slot :name=\"slot\" v-bind=\"{ ...scope }\" />\r\n          </template>\r\n        </StringInput>\r\n      </div>\r\n    </template>\r\n    <template #content=\"{ element }\">\r\n      <div :ref=\"element\">\r\n        <Calendar\r\n          :date=\"field.value\"\r\n          @change=\"setDate\"\r\n          @done=\"closeCalendar\"\r\n        ></Calendar>\r\n\r\n        <div\r\n          class=\"d-flex flex-horizontal gap-3 p-3 mt-3 justify-content-end border-top\"\r\n        >\r\n          <Button color=\"dark\" @click=\"closeCalendar\">\r\n            <Icon :path=\"mdiClose\" />Close\r\n          </Button>\r\n          <template v-if=\"cleanable\">\r\n            <Button color=\"danger\" @click=\"clean\">\r\n              <Icon :path=\"mdiDelete\" />Remove\r\n            </Button>\r\n          </template>\r\n        </div>\r\n      </div>\r\n    </template>\r\n  </Popover>\r\n</template>\r\n","<script lang=\"ts\" setup>\r\nimport { Field } from \"@/modules/form/lib/field\";\r\nimport { GroupSlots } from \"@/modules/form/components/base/FieldWrapper.vue\";\r\nimport { ref } from \"vue\";\r\nimport StringInput from \"@/modules/form/components/StringInput.vue\";\r\nimport Modal from \"@/modules/bootstrap/components/Modal.vue\";\r\nimport Calendar from \"@/modules/calendar/components/Calendar.vue\";\r\nimport Icon from \"@/components/Icon.vue\";\r\nimport { mdiDelete } from \"@mdi/js\";\r\nimport Popover from \"@/modules/bootstrap/components/Popover.vue\";\r\nimport DateModalInput from \"./DateModalInput.vue\";\r\nimport DatePopoverInput from \"./DatePopoverInput.vue\";\r\n\r\ndefineOptions({\r\n  inheritAttrs: false,\r\n});\r\n\r\ndefineSlots<GroupSlots>();\r\n\r\ntype Props = {\r\n  field: Field;\r\n  noLabel?: boolean;\r\n  noValue?: boolean;\r\n  cleanable?: boolean;\r\n  popover?: boolean;\r\n};\r\nconst props = defineProps<Props>();\r\n\r\nconst {\r\n  field,\r\n  noLabel = false,\r\n  noValue = false,\r\n  cleanable = false,\r\n  popover = false,\r\n} = props;\r\n\r\nconst initValue = ref<boolean>(!noValue);\r\nconst calendarRef = ref<any>(null);\r\n\r\ntype Emits = {\r\n  open: any;\r\n  change: [value: null | string];\r\n  close: any;\r\n};\r\nconst emit = defineEmits<Emits>();\r\n\r\nconst openCalendar = () => {\r\n  calendarRef.value.open();\r\n  emit(\"open\");\r\n};\r\n\r\nconst setDate = (dateStr: string) => {\r\n  if (initValue.value) {\r\n    field.update(dateStr);\r\n    emit(\"change\", dateStr);\r\n  }\r\n  initValue.value = true;\r\n};\r\n\r\nconst onCloseCalendar = () => {\r\n  emit(\"close\", field.value);\r\n};\r\n\r\nconst closeCalendar = () => {\r\n  calendarRef.value?.close?.();\r\n};\r\n\r\nconst clean = () => {\r\n  field.update(null);\r\n  emit(\"change\", null);\r\n  closeCalendar();\r\n};\r\n\r\ndefineExpose({ openCalendar, closeCalendar });\r\n</script>\r\n<template>\r\n  <template v-if=\"popover\">\r\n    <DatePopoverInput\r\n      ref=\"calendarRef\"\r\n      :field=\"field\"\r\n      :no-label=\"noLabel\"\r\n      :no-value=\"noValue\"\r\n      :cleanable=\"cleanable\"\r\n      @close=\"onCloseCalendar\"\r\n    ></DatePopoverInput>\r\n  </template>\r\n  <template v-else>\r\n    <DateModalInput\r\n      ref=\"calendarRef\"\r\n      :field=\"field\"\r\n      :no-label=\"noLabel\"\r\n      :no-value=\"noValue\"\r\n      :cleanable=\"cleanable\"\r\n      @close=\"onCloseCalendar\"\r\n    ></DateModalInput>\r\n  </template>\r\n</template>\r\n","import Modal from \"../components/Modal.vue\";\r\nimport type { Expose, Props, Slots } from \"../components/Modal.vue\";\r\nimport { createComponent } from \"@/lib/create-component\";\r\n\r\n\r\nexport const ModalController = createComponent<Props, Expose, Slots>(Modal)\r\n","import { ModalController } from \"../controllers/modal-controller\";\r\nimport { h } from \"vue\";\r\nimport { autoId } from \"@/lib/helper/strings\";\r\nimport Icon from \"@/components/Icon.vue\";\r\nimport { mdiCheckBold } from \"@mdi/js\";\r\nimport Button from '@/modules/bootstrap/components/Button.vue';\r\n\r\nconst createConfirm = (\r\n  title: string,\r\n  message?: string,\r\n  noText: string = \"No\",\r\n  yesText: string = \"Yes\"\r\n): Promise<boolean> => {\r\n  return new Promise(async (resolve) => {\r\n    const id = autoId(\"confirm\");\r\n    const modal = await ModalController(\r\n      {\r\n        title,\r\n        closeText: noText,\r\n        onOpened: () => {\r\n          document.querySelector(`#${id}`)?.addEventListener(\"click\", () => {\r\n            modal.close();\r\n            resolve(true);\r\n          });\r\n        },\r\n        onDismiss: () => {\r\n          resolve(false);\r\n        },\r\n      },\r\n      {\r\n        ...(message ? { default: () => h(\"p\", {}, message) } : {}),\r\n        buttons: () => [\r\n          h(Button, { class: [\"btn\", \"btn-primary\"], id }, [\r\n            h(Icon, {path: mdiCheckBold, color: 'success'}, ''),\r\n            yesText\r\n          ]),\r\n        ],\r\n      }\r\n    );\r\n    modal.open();\r\n  });\r\n};\r\n\r\nexport function confirm(title: string, message?: string): Promise<boolean> {\r\n  return createConfirm(title, message);\r\n}\r\n","<script setup lang=\"ts\">\r\nimport Crop from \"tinycrop\";\r\nimport Modal from \"@/modules/bootstrap/components/Modal.vue\";\r\nimport { ref, nextTick, computed, watch } from \"vue\";\r\nimport { translate } from \"@/lib/metadata\";\r\nimport { api } from \"@/lib/api\";\r\nimport { chunk } from \"@/lib/helper/array\";\r\nimport { dangerToast } from \"@/modules/bootstrap/lib/toast\";\r\nimport { confirm } from \"@/modules/bootstrap/lib/confirm\";\r\nimport { Fancybox } from \"@/lib/fancybox\";\r\nimport Icon from \"@/components/Icon.vue\";\r\nimport { mdiCrop, mdiDelete, mdiEye, mdiPlusThick } from \"@mdi/js\";\r\n\r\ntype Accept = \"image/jpeg\" | \"image/png\" | \"image/webp\";\r\n\r\ninterface Props {\r\n  section?: string;\r\n  crop?: boolean;\r\n  aspectRatio?: number | false | undefined;\r\n  accept?: Array<Accept> | Accept;\r\n  width?: number | null;\r\n  height?: number | null;\r\n  url?: any | null;\r\n  gallery?: number;\r\n}\r\n\r\nconst {\r\n  section = \"images\",\r\n  crop = false,\r\n  aspectRatio = false,\r\n  accept = \"image/jpeg\",\r\n  width = null,\r\n  height = null,\r\n  url = null,\r\n  gallery = -1,\r\n} = defineProps<Props>();\r\n\r\nconst cropperModal = ref<any>(null);\r\nconst cropperWrapper = ref<any>(null);\r\nconst cropper = ref<Crop>(null);\r\nconst image = ref<any>(url || null);\r\nconst uploading = ref<boolean>(false);\r\nconst dragOver = ref<boolean>(false);\r\n\r\nconst emit = defineEmits([\"image\", \"add\", \"remove\", \"done\", \"view\", \"cancel\"]);\r\n\r\nconst loadFiles = (e: any) => {\r\n  const files = e.target.files;\r\n  if (files.length > 0) {\r\n    loadFile(files[0]);\r\n  } else {\r\n    emit(\"cancel\");\r\n  }\r\n};\r\n\r\nconst handleDragOver = (event: DragEvent) => {\r\n  event.preventDefault();\r\n  dragOver.value = true;\r\n};\r\n\r\nconst handleDragLeave = (event: DragEvent) => {\r\n  event.preventDefault();\r\n  dragOver.value = false;\r\n};\r\n\r\nconst handleDrop = (event: DragEvent) => {\r\n  event.preventDefault();\r\n  const files = event.dataTransfer?.files ?? [];\r\n  if (files.length > 0) {\r\n    loadFile(files[0]);\r\n  } else {\r\n    emit(\"cancel\");\r\n  }\r\n};\r\n\r\nconst loadFile = (file: File) => {\r\n  emit(\"add\", \"file\", file);\r\n  const reader = new FileReader();\r\n  reader.onload = (e: any) => {\r\n    const base64 = e.target.result;\r\n    emit(\"add\", \"base64\", base64);\r\n    if (crop && ![\"image/svg+xml\"].includes(file.type)) {\r\n      cropImage(base64);\r\n    } else {\r\n      imageDataFromBase64(base64).then((imageData: ImageData) => {\r\n        uploadToServer(base64, imageData);\r\n      });\r\n    }\r\n  };\r\n  reader.onerror = () => {\r\n    console.error(`Error occurred reading file: ${file.name}`);\r\n  };\r\n  reader.readAsDataURL(file);\r\n};\r\n\r\nconst cropImage = (base64: string) => {\r\n  cropperModal.value?.open();\r\n  nextTick(() => {\r\n    setTimeout(() => {\r\n      cropper.value = Crop.create({\r\n        parent: cropperWrapper.value,\r\n        image: base64,\r\n        bounds: {\r\n          width: \"100%\",\r\n          height: \"auto\",\r\n        },\r\n        backgroundColors: [\"#ffffff\", \"#f3f3f3\"],\r\n        selection: {\r\n          color: \"#045892\",\r\n          activeColor: \"#034b7c\",\r\n          aspectRatio: aspectRatio,\r\n          minWidth: width || 200,\r\n          minHeight: height || 300,\r\n          width: width || 400,\r\n          height: height || 500,\r\n          x: 0,\r\n          y: 0,\r\n        },\r\n        onInit: () => {\r\n          console.log(\"Initial\");\r\n        },\r\n      });\r\n      cropper.value\r\n        .on(\"start\", function (region) {\r\n          console.log(\"Start\", region);\r\n        })\r\n        .on(\"move\", function (region) {\r\n          console.log(\"Move\", region);\r\n        })\r\n        .on(\"resize\", function (region) {\r\n          console.log(\"Resize\", region);\r\n        })\r\n        .on(\"change\", function (region) {\r\n          console.log(\"Change\", region);\r\n        })\r\n        .on(\"end\", function (region) {\r\n          console.log(\"End\", region);\r\n        });\r\n    }, 300);\r\n  });\r\n};\r\n\r\nconst saveCrop = () => {\r\n  if (cropper.value) {\r\n    const c = cropper.value?.selectionLayer?.selection?.region ?? null;\r\n    if (c) {\r\n      const type = cropper.value?.image?.src?.split(\";\")[0].split(\"/\")[1];\r\n      const canvas: any = document.createElement(\"canvas\");\r\n      canvas.width = c.right - c.left;\r\n      canvas.height = c.bottom - c.top;\r\n      const ctx: any = canvas.getContext(\"2d\");\r\n      ctx.drawImage(cropper.value?.image?.source, -c.left, -c.top);\r\n      const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\r\n      cropperModal.value?.close();\r\n      uploadToServer(canvas?.toDataURL(`image/${type}`) ?? null, imageData);\r\n    } else {\r\n      dangerToast(\"Something went wrong\");\r\n    }\r\n  }\r\n};\r\n\r\nconst imageDataFromBase64 = (base64: string): Promise<ImageData> => {\r\n  return new Promise((resolve) => {\r\n    const canvas: any = document.createElement(\"canvas\");\r\n    const ctx: any = canvas.getContext(\"2d\");\r\n    const image = new Image();\r\n    image.onload = function () {\r\n      ctx.drawImage(image, 0, 0);\r\n      const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\r\n      resolve(imageData);\r\n    };\r\n    image.src = base64;\r\n  });\r\n};\r\n\r\nconst swatches = (imageData: ImageData) => {\r\n  return Object.entries(\r\n    chunk([...imageData.data], 4)\r\n      .map(([r, g, b, a]) => `rgba(${r},${g},${b},${a})`)\r\n      .reduce((colors, color) => {\r\n        if (!Object.hasOwn(colors, color)) {\r\n          colors[color] = 0;\r\n        }\r\n        colors[color]++;\r\n        return colors;\r\n      }, {})\r\n  )\r\n    .filter(([color, count]: any) => count > 1)\r\n    .sort(([, a]: any, [, b]: any) => b - a)\r\n    .slice(0, 10)\r\n    .map(([color]) => color);\r\n};\r\n\r\nconst uploadToServer = (base64: string, imageData?: ImageData) => {\r\n  if (base64) {\r\n    uploading.value = true;\r\n    image.value = base64;\r\n    api()\r\n      .post(\"/media/image\", { section, base64 })\r\n      .then(({ data }: any) => {\r\n        data = { ...data, palette: imageData ? swatches(imageData) : [] };\r\n        image.value = data;\r\n        emit(\"image\", data);\r\n      })\r\n      .finally(() => {\r\n        uploading.value = false;\r\n        emit(\"done\", base64);\r\n      });\r\n  } else {\r\n    dangerToast(\"Something went wrong\");\r\n  }\r\n};\r\n\r\nconst closeCropModal = () => {\r\n  cropper.value = null;\r\n  if (cropperWrapper.value) {\r\n    cropperWrapper.value.innerHTML = \"\";\r\n  }\r\n};\r\n\r\nconst view = () => {\r\n  if (gallery !== undefined && gallery >= 0) {\r\n    emit(\"view\", gallery);\r\n  } else {\r\n    const fancybox = Fancybox.show([\r\n      {\r\n        src: image.value?.url ?? image.value,\r\n        caption:\r\n          typeof image.value === \"object\"\r\n            ? `Size: <span class=\"text-primary\">${image.value.size}</span>, Dimension: <span class=\"text-primary\">${image.value.width}x${image.value.height}</span>, Bits: <span class=\"text-primary\">${image.value.bits}</span>, Mime: <span class=\"text-primary\">${image.value.mime}</span>`\r\n            : undefined,\r\n      },\r\n    ]);\r\n    emit(\"view\", fancybox);\r\n  }\r\n};\r\n\r\nconst remove = () => {\r\n  confirm(\"Remove Image\").then((confirmed: boolean) => {\r\n    if (confirmed) {\r\n      image.value = null;\r\n      emit(\"image\", null);\r\n      emit(\"remove\");\r\n    }\r\n  });\r\n};\r\n\r\nconst addBtnHeight = computed(() => {\r\n  return aspectRatio ? `${200 / aspectRatio}px` : \"100px\";\r\n});\r\n\r\nconst gradient = computed(() => {\r\n  if (\r\n    image.value &&\r\n    Array.isArray(image.value.palette) &&\r\n    image.value.palette.length > 0\r\n  ) {\r\n    const positions = [\r\n      \"to top left\",\r\n      \"to top\",\r\n      \"to top right\",\r\n      \"to left\",\r\n      \"to bottom left\",\r\n      \"to right\",\r\n      \"to bottom left\",\r\n      \"to bottom\",\r\n      \"to bottom right\",\r\n      \"to top right\",\r\n    ];\r\n    return `${image.value.palette\r\n      .map(\r\n        (color, i) => `linear-gradient(${positions[i]},  transparent, ${color})`\r\n      )\r\n      .join(\", \")}`;\r\n  }\r\n  return \"#ffffff\";\r\n});\r\n\r\ndefineExpose({ image: () => image.value });\r\n</script>\r\n<template>\r\n  <template v-if=\"image\">\r\n    <div class=\"image\" :class=\"{ [image.extension]: true }\">\r\n      <img :src=\"image?.url ?? image\" loading=\"lazy\" class=\"img-fluid\" />\r\n      <div v-if=\"uploading\" class=\"uploading\">\r\n        <div class=\"spinner-border text-primary\" role=\"status\" style=\"width: 3rem; height: 3rem\">\r\n          <span class=\"visually-hidden\">Loading...</span>\r\n        </div>\r\n      </div>\r\n      <div v-if=\"!uploading\" class=\"actions\">\r\n        <button type=\"button\" class=\"btn btn-primary btn-sm\" @click=\"view\">\r\n          <Icon :path=\"mdiEye\" />\r\n        </button>\r\n        <button type=\"button\" class=\"btn btn-danger btn-sm\" @click=\"remove\">\r\n          <Icon :path=\"mdiDelete\" />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  <template v-else>\r\n    <label class=\"media-input-wrapper\" @dragover=\"handleDragOver\" @dragleave=\"handleDragLeave\" @drop=\"handleDrop\">\r\n      <template v-if=\"dragOver\">\r\n        <div class=\"drop-zone\">Drop an image to upload</div>\r\n      </template>\r\n      <template v-else>\r\n        <input type=\"file\" @input=\"loadFiles\" class=\"file-input\"\r\n          :accept=\"Array.isArray(accept) ? accept.join(',') : accept\" />\r\n        <slot name=\"add\">\r\n          <div class=\"add-btn\">\r\n            <Icon :path=\"mdiPlusThick\" />\r\n          </div>\r\n        </slot>\r\n      </template>\r\n    </label>\r\n  </template>\r\n  <Modal v-if=\"crop\" title=\"Crop Image\" ref=\"cropperModal\" size=\"xl\" @close=\"closeCropModal\">\r\n    <div class=\"image-crop-wrapper\" ref=\"cropperWrapper\"></div>\r\n    <template #buttons>\r\n      <button type=\"button\" class=\"btn btn-primary\" @click=\"saveCrop\">\r\n        <Icon :path=\"mdiCrop\" />&nbsp;{{ translate(\"Crop\") }}\r\n      </button>\r\n    </template>\r\n  </Modal>\r\n</template>\r\n<style scoped lang=\"scss\">\r\n@import \"@scss/config\";\r\n@import \"@scss/mixins/font-size\";\r\n\r\n.image {\r\n  position: relative;\r\n  width: 200px;\r\n  height: auto;\r\n  border-radius: 10px;\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background: v-bind(gradient);\r\n  background-blend-mode: screen;\r\n\r\n  &.svg {\r\n    background: $white;\r\n    min-height: 160px;\r\n\r\n    img {\r\n      scale: 0.8;\r\n    }\r\n  }\r\n\r\n  .uploading,\r\n  .actions {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    translate: -50% -50%;\r\n    width: 100%;\r\n    height: 100%;\r\n    z-index: 2;\r\n    background: rgba(255, 255, 255, 0.6);\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: center;\r\n    align-items: center;\r\n    overflow: hidden;\r\n  }\r\n\r\n  .actions {\r\n    gap: 10px;\r\n    transition: all 0.25s ease;\r\n    transform: translateY(100vh);\r\n  }\r\n\r\n  &:hover {\r\n    .actions {\r\n      transform: translateY(0);\r\n    }\r\n  }\r\n}\r\n\r\n.media-input-wrapper {\r\n  position: relative;\r\n  overflow: hidden;\r\n  display: block;\r\n  width: 200px;\r\n\r\n  .file-input {\r\n    position: absolute;\r\n    left: -100vw;\r\n  }\r\n\r\n  .add-btn {\r\n    position: relative;\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: center;\r\n    align-items: center;\r\n    @include font-size(4);\r\n    border: 1px solid $gray-3;\r\n    background: $white;\r\n    transition: all 0.25s ease;\r\n    border-radius: 10px;\r\n    height: v-bind(addBtnHeight);\r\n    max-width: 200px;\r\n    width: 100%;\r\n    cursor: pointer;\r\n    color: $gray-7;\r\n    transition: all 0.25s ease;\r\n\r\n    &:hover {\r\n      color: $blue;\r\n    }\r\n  }\r\n\r\n  .drop-zone {\r\n    position: relative;\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: center;\r\n    align-items: center;\r\n    text-align: center;\r\n    @include font-size(1.2);\r\n    border: 1px solid $gray-3;\r\n    background: $white;\r\n    transition: all 0.25s ease;\r\n    border-radius: 10px;\r\n    height: v-bind(addBtnHeight);\r\n    max-width: 200px;\r\n    width: 100%;\r\n    cursor: pointer;\r\n    color: $gray-7;\r\n    transition: all 0.25s ease;\r\n    white-space: pre-wrap;\r\n  }\r\n}\r\n\r\n.image-crop-wrapper {\r\n  position: relative;\r\n  min-height: 200px;\r\n}\r\n</style>\r\n","<script lang=\"ts\" setup>\r\nimport { Field } from \"@/modules/form/lib/field\";\r\nimport FieldWrapper, {\r\n  GroupSlots,\r\n} from \"@/modules/form/components/base/FieldWrapper.vue\";\r\nimport ImageUploader from \"../ImageUploader.vue\";\r\n\r\ntype Accept = \"image/jpeg\" | \"image/png\" | \"image/webp\";\r\n\r\ndefineOptions({\r\n  inheritAttrs: false,\r\n});\r\n\r\ndefineSlots<GroupSlots>();\r\n\r\ntype Props = {\r\n  field: Field;\r\n  noLabel?: boolean;\r\n  section?: string;\r\n  crop?: boolean;\r\n  aspectRatio?: number | false | undefined;\r\n  accept?: Array<Accept> | Accept;\r\n  width?: number | null;\r\n  height?: number | null;\r\n};\r\nconst props = defineProps<Props>();\r\n\r\nconst {\r\n  field,\r\n  noLabel = false,\r\n  section = \"images\",\r\n  crop = false,\r\n  aspectRatio = false,\r\n  accept = \"image/jpeg\",\r\n  width = null,\r\n  height = null,\r\n} = props;\r\n\r\nconst update = (image: any) => {\r\n  field.update(image);\r\n};\r\n\r\nconst touch = (type, data) => {\r\n  field.touch({ target: { value: data } });\r\n};\r\n\r\nconst blur = (base64) => {\r\n  field.blur({ target: { value: base64 } });\r\n};\r\n</script>\r\n<template>\r\n  <FieldWrapper :field=\"field\" :no-label=\"noLabel\">\r\n    <template v-for=\"(_, slot) in $slots\" v-slot:[slot]=\"scope\">\r\n      <slot :name=\"slot\" v-bind=\"{ ...scope }\" />\r\n    </template>\r\n    <template #=\"{ id }\">\r\n      <ImageUploader\r\n        :accept=\"accept\"\r\n        :aspect-ratio=\"aspectRatio\"\r\n        :crop=\"crop\"\r\n        :height=\"height\"\r\n        :section=\"section\"\r\n        :width=\"width\"\r\n        :url=\"field.value ?? null\"\r\n        @add=\"touch\"\r\n        @image=\"update\"\r\n        @done=\"blur\"\r\n      >\r\n        <template #add>\r\n          <slot name=\"add\"></slot>\r\n        </template>\r\n      </ImageUploader>\r\n    </template>\r\n  </FieldWrapper>\r\n</template>\r\n","<script setup lang=\"ts\">\r\nimport { api } from '@/lib/api';\r\nimport { confirm } from '@/modules/bootstrap/lib/confirm';\r\nimport { dangerToast } from '@/modules/bootstrap/lib/toast';\r\nimport Icon from '@/components/Icon.vue';\r\nimport { mdiDelete, mdiEye, mdiPlusThick } from '@mdi/js';\r\nimport { ref } from 'vue';\r\n\r\ninterface Props {\r\n    section?: string,\r\n    accept?: Array<string> | string\r\n    url?: any | null\r\n}\r\n\r\nconst props = withDefaults(defineProps<Props>(), {\r\n    section: 'files',\r\n    accept: \"*\",\r\n    url: null,\r\n});\r\n\r\nconst file = ref<any>(props.url || null)\r\nconst uploading = ref<boolean>(false)\r\n\r\nconst emit = defineEmits(['file', 'add', 'remove', 'done', 'view', 'cancel'])\r\n\r\nconst loadFiles = (e: any) => {\r\n    const files = e.target.files\r\n    if (files.length > 0) {\r\n        loadFile(files[0])\r\n    } else {\r\n        emit('cancel')\r\n    }\r\n}\r\n\r\nconst loadFile = (file: File) => {\r\n    emit('add', 'file', file)\r\n    const reader = new FileReader()\r\n    reader.onload = (e: any) => {\r\n        const base64 = e.target.result\r\n        emit('add', 'base64', base64)\r\n        uploadToServer(base64, file.name)\r\n    }\r\n    reader.onerror = () => {\r\n        console.error(`Error occurred reading file: ${file.name}`)\r\n    }\r\n    reader.readAsDataURL(file)\r\n}\r\n\r\nconst uploadToServer = (base64: string, name: string) => {\r\n    if (base64) {\r\n        uploading.value = true\r\n        file.value = base64\r\n        api().post('/media/file', { section: props.section, base64, name }).then(({ data }: any) => {\r\n            data = { ...data }\r\n            file.value = data\r\n            emit('file', data)\r\n        }).finally(() => {\r\n            uploading.value = false\r\n            emit('done', base64)\r\n        })\r\n    } else {\r\n        dangerToast('Something went wrong')\r\n    }\r\n}\r\n\r\nconst open = () => {\r\n    if (file.value) {\r\n        window.open(file.value.url, '_blank');\r\n    }\r\n}\r\n\r\nconst remove = () => {\r\n    confirm(\"Remove File\").then((confirmed: boolean) => {\r\n        if (confirmed) {\r\n            file.value = null\r\n            emit('file', null)\r\n            emit('remove')\r\n        }\r\n    })\r\n}\r\n</script>\r\n<template>\r\n    <div class=\"select-file-component\">\r\n        <template v-if=\"file\">\r\n            <div class=\"file-output\">\r\n                <div :class=\"{ icon: true, [file.extension]: true }\">\r\n                    <div class=\"extension\">{{ file.extension }}</div>\r\n                    <div class=\"mime\">{{ file.mime }}</div>\r\n                    <div class=\"size\">{{ file.size }}</div>\r\n                </div>\r\n                <div class=\"name\">{{ file.name }}</div>\r\n            </div>\r\n            <div v-if=\"uploading\" class=\"uploading\">\r\n                <div class=\"spinner-border text-primary\" role=\"status\" style=\"width: 3rem; height: 3rem;\">\r\n                    <span class=\"visually-hidden\">Loading...</span>\r\n                </div>\r\n            </div>\r\n            <div v-if=\"!uploading\" class=\"actions\">\r\n                <button type=\"button\" class=\"btn btn-primary btn-sm\" @click=\"open\">\r\n                    <Icon :path=\"mdiEye\" />\r\n                </button>\r\n                <button type=\"button\" class=\"btn btn-danger btn-sm\" @click=\"remove\">\r\n                    <Icon :path=\"mdiDelete\" />\r\n                </button>\r\n            </div>\r\n        </template>\r\n        <template v-else>\r\n            <label class=\"file-input\">\r\n                <input type=\"file\" @input=\"loadFiles\" class=\"file-input\"\r\n                    :accept=\"Array.isArray(accept) ? accept.join(',') : accept\">\r\n                <slot name=\"add\">\r\n                    <div class=\"add-btn\">\r\n                        <Icon :path=\"mdiPlusThick\" />\r\n                    </div>\r\n                </slot>\r\n            </label>\r\n        </template>\r\n    </div>\r\n</template>\r\n<style scoped lang=\"scss\">\r\n@import \"@scss/config\";\r\n@import \"@scss/mixins/font-size\";\r\n\r\n.select-file-component {\r\n    position: relative;\r\n    width: 200px;\r\n    padding-top: 200px;\r\n    background: $gray-1;\r\n    border: 1px solid $gray-2;\r\n    background: $white;\r\n    border-radius: 10px;\r\n    user-select: none;\r\n    overflow: hidden;\r\n\r\n    .file-input {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        overflow: hidden;\r\n        display: flex;\r\n        flex-direction: row;\r\n        cursor: pointer;\r\n\r\n        input[type=file] {\r\n            position: absolute;\r\n            left: -200vw;\r\n        }\r\n\r\n        .add-btn {\r\n            flex: auto;\r\n            display: flex;\r\n            flex-direction: row;\r\n            justify-content: center;\r\n            align-items: center;\r\n            @include font-size(5);\r\n        }\r\n    }\r\n\r\n    .file-output {\r\n        $color: $blue;\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        overflow: hidden;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: center;\r\n        align-items: center;\r\n        cursor: pointer;\r\n\r\n        .icon {\r\n            width: 100%;\r\n            height: 140px;\r\n            position: relative;\r\n\r\n            &.pdf {\r\n                $color: $red-6;\r\n            }\r\n\r\n            background: $color;\r\n\r\n            .extension {\r\n                position: relative;\r\n                color: $white;\r\n                flex: auto;\r\n                height: 100%;\r\n                display: flex;\r\n                flex-direction: row;\r\n                justify-content: center;\r\n                align-items: center;\r\n                @include font-size(2.5);\r\n            }\r\n\r\n            .size {\r\n                position: absolute;\r\n                bottom: 5px;\r\n                left: 5px;\r\n                display: flex;\r\n                flex-direction: row;\r\n                @include font-size(.7);\r\n                background: $white;\r\n                padding: 1px 5px;\r\n                border-radius: 5px;\r\n            }\r\n\r\n            .mime {\r\n                position: absolute;\r\n                bottom: 5px;\r\n                right: 5px;\r\n                display: flex;\r\n                flex-direction: row;\r\n                @include font-size(.7);\r\n                background: $white;\r\n                padding: 1px 5px;\r\n                border-radius: 5px;\r\n            }\r\n        }\r\n\r\n        .name {\r\n            flex: auto;\r\n            position: relative;\r\n            margin-top: auto;\r\n            white-space: wrap;\r\n            @include font-size(.8);\r\n            color: $white;\r\n            background: darken($color, 10%);\r\n            display: flex;\r\n            flex-direction: row;\r\n            flex-wrap: wrap;\r\n            justify-content: center;\r\n            align-items: center;\r\n            overflow-wrap: anywhere;\r\n            text-align: center;\r\n            padding: 0 10px;\r\n            width: 100%;\r\n        }\r\n    }\r\n\r\n    .uploading,\r\n    .actions {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        z-index: 2;\r\n        background: rgba(255, 255, 255, 0.6);\r\n        display: flex;\r\n        flex-direction: row;\r\n        justify-content: center;\r\n        align-items: center;\r\n        overflow: hidden;\r\n    }\r\n\r\n    .actions {\r\n        gap: 10px;\r\n        transition: all 0.25s ease;\r\n        transform: translateY(100vh);\r\n    }\r\n\r\n    &:hover {\r\n        .actions {\r\n            transform: translateY(0);\r\n        }\r\n    }\r\n}\r\n</style>\r\n","<script lang=\"ts\" setup>\r\nimport SelectFile from \"../SelectFile.vue\";\r\nimport { Field } from \"@/modules/form/lib/field\";\r\nimport FieldWrapper, { GroupSlots } from \"@/modules/form/components/base/FieldWrapper.vue\";\r\n\r\ndefineOptions({\r\n  inheritAttrs: false,\r\n});\r\n\r\ndefineSlots<GroupSlots>();\r\n\r\ntype Props = {\r\n  field: Field;\r\n  noLabel?: boolean;\r\n  section?: string;\r\n  accept?: Array<string> | string;\r\n};\r\nconst props = defineProps<Props>();\r\n\r\nconst { field, noLabel = false, section = \"files\", accept = \"*\" } = props;\r\n\r\nconst update = (image: any) => {\r\n  field.update(image);\r\n};\r\n\r\nconst touch = (type, data) => {\r\n  field.touch({ target: { value: data } });\r\n};\r\n\r\nconst blur = (base64) => {\r\n  field.blur({ target: { value: base64 } });\r\n};\r\n</script>\r\n<template>\r\n  <FieldWrapper :field=\"field\" :no-label=\"noLabel\">\r\n    <template v-for=\"(_, slot) in $slots\" v-slot:[slot]=\"scope\">\r\n      <slot :name=\"slot\" v-bind=\"{ ...scope }\" />\r\n    </template>\r\n    <template #=\"{ id }\">\r\n      <SelectFile\r\n        :id=\"id\"\r\n        :accept=\"accept\"\r\n        :section=\"section\"\r\n        :url=\"field.value ?? null\"\r\n        @add=\"touch\"\r\n        @file=\"update\"\r\n        @done=\"blur\"\r\n      >\r\n        <template #add>\r\n          <slot name=\"add\"></slot>\r\n        </template>\r\n      </SelectFile>\r\n    </template>\r\n  </FieldWrapper>\r\n</template>\r\n","<script lang=\"ts\" setup>\r\nimport { Field } from \"../lib/field\";\r\nimport FieldWrapper, { GroupSlots } from \"./base/FieldWrapper.vue\";\r\n\r\ndefineOptions({\r\n  inheritAttrs: false,\r\n});\r\n\r\ndefineSlots<GroupSlots>();\r\n\r\ntype Props = {\r\n  field: Field;\r\n  noLabel?: boolean;\r\n  options?: Array<string>;\r\n};\r\nconst props = defineProps<Props>();\r\n\r\nconst { field, noLabel = false, options = [] } = props;\r\n\r\nconst update = (e) => {\r\n  field.update(e.target.value);\r\n};\r\n\r\nconst touch = (e) => {\r\n  field.touch(e);\r\n};\r\n\r\nconst blur = (e) => {\r\n  field.blur(e);\r\n};\r\n</script>\r\n<template>\r\n  <FieldWrapper :field=\"field\" :no-label=\"noLabel\">\r\n    <template v-for=\"(_, slot) in $slots\" v-slot:[slot]=\"scope\">\r\n      <slot :name=\"slot\" v-bind=\"{ ...scope }\" />\r\n    </template>\r\n    <template #=\"{ id }\">\r\n      <input\r\n        :id=\"id\"\r\n        :class=\"{ 'is-invalid': field.hasErrors }\"\r\n        :value=\"field.value\"\r\n        type=\"range\"\r\n        v-bind=\"$attrs\"\r\n        @input=\"update\"\r\n        @focus=\"touch\"\r\n        @blur=\"blur\"\r\n        autocomplete=\"off\"\r\n        spellcheck=\"false\"\r\n        :list=\"`list-of-${id}`\"\r\n      />\r\n      <datalist v-if=\"options.length > 0\" :id=\"`list-of-${id}`\">\r\n        <option\r\n          v-for=\"value in options\"\r\n          :key=\"value\"\r\n          :value=\"value\"\r\n          :label=\"`${value}`\"\r\n        ></option>\r\n      </datalist>\r\n    </template>\r\n  </FieldWrapper>\r\n</template>\r\n","<script lang=\"ts\" setup>\r\nimport { Field } from \"../lib/field\";\r\nimport FieldWrapper, { GroupSlots } from \"./base/FieldWrapper.vue\";\r\nimport { computed } from \"vue\";\r\n\r\ndefineOptions({\r\n  inheritAttrs: false,\r\n});\r\n\r\ndefineSlots<GroupSlots>();\r\n\r\ntype Props = {\r\n  field: Field;\r\n  noLabel?: boolean;\r\n  options: { value: string; label: string }[];\r\n  prompt?: string | false;\r\n};\r\nconst props = defineProps<Props>();\r\n\r\nconst { field, noLabel = false, options, prompt = false } = props;\r\n\r\nconst update = (e) => {\r\n  field.update(e.target.value);\r\n};\r\n\r\nconst touch = (e) => {\r\n  field.touch(e);\r\n};\r\n\r\nconst blur = (e) => {\r\n  field.blur(e);\r\n};\r\n\r\nconst optionsList = computed(() => {\r\n  return prompt ? [{ value: \"\", label: prompt }, ...options] : options;\r\n});\r\n</script>\r\n<template>\r\n  <FieldWrapper :field=\"field\" :no-label=\"noLabel\">\r\n    <template v-for=\"(_, slot) in $slots\" v-slot:[slot]=\"scope\">\r\n      <slot :name=\"slot\" v-bind=\"{ ...scope }\" />\r\n    </template>\r\n    <template #=\"{ id }\">\r\n      <select\r\n        :id=\"id\"\r\n        class=\"form-control\"\r\n        :class=\"{ 'is-invalid': field.hasErrors }\"\r\n        v-bind=\"$attrs\"\r\n        @input=\"update\"\r\n        @click=\"touch\"\r\n        @blur=\"blur\"\r\n      >\r\n        <option\r\n          v-for=\"item in optionsList\"\r\n          :key=\"item.value\"\r\n          :value=\"item.value\"\r\n          :selected=\"item.value === field.value\"\r\n        >\r\n          {{ item.label }}\r\n        </option>\r\n      </select>\r\n    </template>\r\n  </FieldWrapper>\r\n</template>\r\n","<script lang=\"ts\" setup>\r\nimport { Field } from \"../lib/field\";\r\nimport FieldWrapper, { GroupSlots } from \"./base/FieldWrapper.vue\";\r\n\r\ndefineOptions({\r\n  inheritAttrs: false,\r\n});\r\n\r\ndefineSlots<GroupSlots>();\r\n\r\ntype Props = {\r\n  field: Field;\r\n  trueValue?: string | number;\r\n  falseValue?: string | number;\r\n};\r\nconst props = defineProps<Props>();\r\n\r\nconst { field, trueValue = 1, falseValue = 0 } = props;\r\n\r\nconst update = (e) => {\r\n  field.update(e.target.checked ? trueValue : falseValue);\r\n};\r\n\r\nconst touch = (e) => {\r\n  field.touch(e);\r\n};\r\n\r\nconst blur = (e) => {\r\n  field.blur(e);\r\n};\r\n</script>\r\n<template>\r\n  <FieldWrapper :field=\"field\" no-label>\r\n    <template v-for=\"(_, slot) in $slots\" v-slot:[slot]=\"scope\">\r\n      <slot :name=\"slot\" v-bind=\"{ ...scope }\" />\r\n    </template>\r\n    <template #=\"{ id }\">\r\n      <div class=\"form-check form-switch\">\r\n        <input\r\n          :id=\"id\"\r\n          class=\"form-check-input\"\r\n          type=\"checkbox\"\r\n          role=\"switch\"\r\n          :class=\"{ 'is-invalid': field.hasErrors }\"\r\n          :value=\"trueValue\"\r\n          v-bind=\"$attrs\"\r\n          @input=\"update\"\r\n          @focus=\"touch\"\r\n          @blur=\"blur\"\r\n          :checked=\"field.value === trueValue\"\r\n        />\r\n        <label class=\"form-check-label\" :for=\"id\">\r\n          <slot>{{ field.label }}</slot>\r\n        </label>\r\n      </div>\r\n    </template>\r\n  </FieldWrapper>\r\n</template>\r\n","ImageUploader\r\n<script setup lang=\"ts\">\r\nimport { ref } from \"vue\";\r\nimport { Fancybox } from \"@/lib/fancybox\";\r\nimport ImageUploader from \"./ImageUploader.vue\";\r\n// import SortableJS from \"sortablejs\";\r\n// import { Sortable } from \"sortablejs-vue3\";\r\nimport { autoId } from \"@/lib/helper/strings\";\r\n\r\ntype Accept = \"image/jpeg\" | \"image/png\" | \"image/webp\";\r\n\r\ninterface Props {\r\n  list?: any;\r\n  section?: string;\r\n  crop?: boolean;\r\n  aspectRatio?: number | false | undefined;\r\n  accept?: Array<Accept> | Accept;\r\n  width?: number | null;\r\n  height?: number | null;\r\n  max?: number | false;\r\n  direction?: \"row\" | \"column\";\r\n}\r\n\r\nconst {\r\n  list = [],\r\n  section = \"gallery\",\r\n  crop = false,\r\n  aspectRatio = false,\r\n  accept = \"image/jpeg\",\r\n  width = null,\r\n  height = null,\r\n  max = false,\r\n  direction = \"row\",\r\n} = defineProps<Props>();\r\n\r\nconst items = ref<any>(list || []);\r\nconst version = ref<number>(0);\r\n\r\nconst emit = defineEmits([\"touch\", \"blur\", \"update\", \"remove\", \"view\"]);\r\n\r\nconst update = (image: any) => {\r\n  items.value.push(image);\r\n  version.value++;\r\n  emit(\"update\", items.value, image);\r\n};\r\n\r\nconst touch = (type, data) => {\r\n  emit(\"touch\", items.value, type, data);\r\n};\r\n\r\nconst blur = (base64) => {\r\n  emit(\"blur\", items.value, base64);\r\n};\r\n\r\nconst remove = (i: number) => {\r\n  const image = items.value[i];\r\n  items.value.splice(i, 1);\r\n  items.value = items.value.filter((item) => item);\r\n  version.value++;\r\n  emit(\"update\", items.value, image);\r\n  emit(\"remove\", items.value, image);\r\n};\r\n\r\nconst view = (index: number) => {\r\n  const fancybox = Fancybox.show(\r\n    items.value?.map((image: any) => {\r\n      return {\r\n        src: image?.url ?? image,\r\n        type: \"image\",\r\n        caption:\r\n          typeof image.value === \"object\"\r\n            ? `Size: <span class=\"text-primary\">${image.value.size}</span>, Dimension: <span class=\"text-primary\">${image.value.width}x${image.value.height}</span>, Bits: <span class=\"text-primary\">${image.value.bits}</span>, Mime: <span class=\"text-primary\">${image.value.mime}</span>`\r\n            : null,\r\n      };\r\n    }),\r\n    {\r\n      startIndex: index,\r\n    }\r\n  );\r\n  emit(\"view\", fancybox);\r\n};\r\n\r\n// const options: SortableJS.SortableOptions = {\r\n//   group: autoId(),\r\n// };\r\n\r\n// const updated = (event: SortableJS.SortableEvent) => {\r\n//   const { oldIndex, newIndex } = event;\r\n\r\n//   const list = [...items.value];\r\n//   const element = list.splice(oldIndex, 1).at(0);\r\n//   list.splice(newIndex, 0, element);\r\n\r\n//   items.value = [...list];\r\n//   version.value++;\r\n//   emit(\"update\", items.value, element);\r\n// };\r\n</script>\r\n<template>\r\n  <div class=\"gallery\" :key=\"version\" v-bind=\"$attrs\">\r\n    <!--\r\n    <Sortable :list=\"items\" item-key=\"url\" class=\"inner\" @update=\"updated\" :options=\"options\">\r\n      <template #item=\"{ element, index }\">\r\n        <div>\r\n          <ImageUploader v-if=\"element\" :accept=\"accept\" :aspect-ratio=\"aspectRatio\" :crop=\"crop\" :height=\"height\"\r\n            :section=\"section\" :width=\"width\" :url=\"element\" :gallery=\"index\" @add=\"touch\" @image=\"update\" @done=\"blur\"\r\n            @remove=\"() => remove(index)\" @view=\"view(index)\"></ImageUploader>\r\n        </div>\r\n      </template>\r\n    </Sortable>-->\r\n    <template v-for=\"(element, index) in items\" :key=\"index\">\r\n      <div>\r\n        <ImageUploader v-if=\"element\" :accept=\"accept\" :aspect-ratio=\"aspectRatio\" :crop=\"crop\" :height=\"height\"\r\n          :section=\"section\" :width=\"width\" :url=\"element\" :gallery=\"index\" @add=\"touch\" @image=\"update\" @done=\"blur\"\r\n          @remove=\"() => remove(index)\" @view=\"view(index)\"></ImageUploader>\r\n      </div>\r\n    </template>\r\n    <template v-if=\"!max || (max && items.length < max)\">\r\n      <ImageUploader :accept=\"accept\" :aspect-ratio=\"aspectRatio\" :crop=\"crop\" :height=\"height\" :section=\"section\"\r\n        :width=\"width\" @add=\"touch\" @image=\"update\" @done=\"blur\" :class=\"{ 'add-item': items.length > 0 }\">\r\n      </ImageUploader>\r\n    </template>\r\n  </div>\r\n</template>\r\n<style lang=\"scss\">\r\n.gallery {\r\n  display: flex;\r\n  flex-direction: v-bind(direction);\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n  gap: 10px;\r\n  width: 100%;\r\n\r\n  .add-item {\r\n    .add-btn {\r\n      height: 50px;\r\n    }\r\n  }\r\n\r\n  .inner {\r\n    display: inline-flex;\r\n    flex-direction: v-bind(direction);\r\n    flex-wrap: wrap;\r\n    justify-content: center;\r\n    gap: 10px;\r\n    width: 100%;\r\n    user-select: none;\r\n  }\r\n}\r\n</style>","<script lang=\"ts\" setup>\r\nimport { Field } from \"@/modules/form/lib/field\";\r\nimport FieldWrapper, {\r\n  GroupSlots,\r\n} from \"@/modules/form/components/base/FieldWrapper.vue\";\r\nimport GalleryUploader from \"../GalleryUploader.vue\";\r\n\r\ndefineOptions({\r\n  inheritAttrs: false,\r\n});\r\n\r\ndefineSlots<GroupSlots>();\r\n\r\ntype Accept = \"image/jpeg\" | \"image/png\" | \"image/webp\";\r\n\r\ntype Props = {\r\n  field: Field;\r\n  noLabel?: boolean;\r\n  section?: string;\r\n  crop?: boolean;\r\n  aspectRatio?: number | false | undefined;\r\n  accept?: Array<Accept> | Accept;\r\n  width?: number | null;\r\n  height?: number | null;\r\n  max?: number | false;\r\n  direction?: \"row\" | \"column\";\r\n};\r\nconst {\r\n  field,\r\n  noLabel = false,\r\n  section = \"gallery\",\r\n  crop = false,\r\n  aspectRatio = false,\r\n  accept = \"image/jpeg\",\r\n  width = null,\r\n  height = null,\r\n  max = false,\r\n  direction = \"row\",\r\n} = defineProps<Props>();\r\n\r\nconst update = (images: any, image: any) => {\r\n  field.update(images);\r\n};\r\n\r\nconst touch = (images: any, type: any, data: any) => {\r\n  field.touch({ target: { value: images } });\r\n};\r\n\r\nconst blur = (images: any, base64: any) => {\r\n  field.blur({ target: { value: images } });\r\n};\r\n</script>\r\n<template>\r\n  <FieldWrapper :field=\"field\" :no-label=\"noLabel\">\r\n    <template v-for=\"(_, slot) in $slots\" v-slot:[slot]=\"scope\">\r\n      <slot :name=\"slot\" v-bind=\"{ ...scope }\" />\r\n    </template>\r\n    <template #=\"{ id }\">\r\n      <GalleryUploader :list=\"field.value\" :accept=\"accept\" :aspect-ratio=\"aspectRatio\" :crop=\"crop\" :height=\"height\"\r\n        :section=\"section\" :width=\"width\" :max=\"max\" :direction=\"direction\" @add=\"touch\" @update=\"update\" @done=\"blur\">\r\n      </GalleryUploader>\r\n    </template>\r\n  </FieldWrapper>\r\n</template>","const directive = {\r\n    beforeMount(el: any, binding: any, vnode: any) {\r\n      Object.keys(binding.value).forEach((name) => {\r\n        el.style.setProperty(name, binding.value[name])\r\n      })\r\n    },\r\n  };\r\n  \r\n  export const vCssVars = directive;\r\n  ","import { vue3Debounce } from \"vue-debounce\"\r\n\r\n// const directive = {\r\n//   beforeMount(el: any, binding: any, vnode: any) {\r\n//     Object.keys(binding.value).forEach((name) => {\r\n//       el.style.setProperty(name, binding.value[name]);\r\n//     });\r\n//   },\r\n// };\r\n\r\nexport const vDebounce = vue3Debounce({ lock: true });\r\n","<script lang=\"ts\" setup>\r\nimport { random } from \"@/lib/helper/numbers\";\r\nimport { Field } from \"../lib/field\";\r\nimport FieldWrapper, { GroupSlots } from \"./base/FieldWrapper.vue\";\r\nimport { ref, computed } from \"vue\";\r\nimport { api } from \"@/lib/api\";\r\nimport { vCssVars } from \"@/directives/css-vars\";\r\nimport { vDebounce } from \"@/directives/debounce\";\r\nimport Icon from \"@/components/Icon.vue\";\r\nimport { mdiClose } from \"@mdi/js\";\r\nimport { confirm } from \"@/modules/bootstrap/lib/confirm\";\r\n\r\ndefineOptions({\r\n  inheritAttrs: false,\r\n});\r\n\r\ndefineSlots<GroupSlots>();\r\n\r\ntype Props = {\r\n  field: Field;\r\n  noLabel?: boolean;\r\n};\r\nconst props = defineProps<Props>();\r\n\r\nconst { field, noLabel = false } = props;\r\n\r\nconst colors = [\r\n  \"#F44336\",\r\n  \"#FF1744\",\r\n  \"#B71C1C\",\r\n  \"#EC407A\",\r\n  \"#880E4F\",\r\n  \"#F50057\",\r\n  \"#C51162\",\r\n  \"#AB47BC\",\r\n  \"#8E24AA\",\r\n  \"#4A148C\",\r\n  \"#AA00FF\",\r\n  \"#673AB7\",\r\n  \"#311B92\",\r\n  \"#6200EA\",\r\n  \"#651FFF\",\r\n  \"#3F51B5\",\r\n  \"#1A237E\",\r\n  \"#3D5AFE\",\r\n  \"#283593\",\r\n  \"#304FFE\",\r\n  \"#0097A7\",\r\n  \"#00838F\",\r\n  \"#006064\",\r\n  \"#00B8D4\",\r\n  \"#00897B\",\r\n  \"#00796B\",\r\n  \"#00695C\",\r\n  \"#004D40\",\r\n  \"#43A047\",\r\n  \"#388E3C\",\r\n  \"#1B5E20\",\r\n  \"#C0CA33\",\r\n  \"#AFB42B\",\r\n  \"#827717\",\r\n  \"#FDD835\",\r\n  \"#FBC02D\",\r\n  \"#F9A825\",\r\n  \"#F57F17\",\r\n  \"#FF6F00\",\r\n  \"#6D4C41\",\r\n  \"#5D4037\",\r\n  \"#3E2723\",\r\n];\r\n\r\nconst name = ref<string>(\"\");\r\nconst results = ref<any>(null);\r\nconst items = ref<any>(field.value);\r\n\r\nconst searchTags = (name: string) => {\r\n  results.value = null;\r\n  api()\r\n    .get(`/tags?filter[name][like]=${name}`)\r\n    .then(({ data }: any) => {\r\n      const ids = items.value.map((item: any) => +item.id);\r\n      results.value = data?.filter((tag: any) => !ids.includes(+tag.id)) ?? [];\r\n    });\r\n};\r\n\r\nconst canAdd = computed(() => {\r\n  return (\r\n    results.value?.filter?.(\r\n      (item: any) => item.name.toLowerCase() === name.value.toLowerCase()\r\n    )?.length === 0 &&\r\n    items.value?.filter?.(\r\n      (item: any) => item.name.toLowerCase() === name.value.toLowerCase()\r\n    )?.length === 0\r\n  );\r\n});\r\n\r\nconst selected = computed(() => {\r\n  return (\r\n    items.value?.filter?.(\r\n      (item: any) => item.name.toLowerCase() === name.value.toLowerCase()\r\n    )?.length > 0\r\n  );\r\n});\r\n\r\nconst add = () => {\r\n  api()\r\n    .post(\"/tags\", {\r\n      name: name.value,\r\n      color: colors[random(0, colors.length - 1)],\r\n    })\r\n    .then(({ data }: any) => {\r\n      data.name = data.name.toLowerCase();\r\n      select(data);\r\n    });\r\n};\r\n\r\nconst select = (item: any) => {\r\n  items.value.push(item);\r\n  name.value = \"\";\r\n  results.value = null;\r\n  field.update(items.value);\r\n};\r\n\r\nconst remove = async (item: any) => {\r\n  const ok = await confirm(`Remove \"${item.name}\" Tag`, \"Are you Sure?\");\r\n  if (ok) {\r\n    const index = items.value.findIndex((tag: any) => +tag.id === +item.id);\r\n    if (index >= 0) {\r\n      items.value.splice(index, 1);\r\n      field.update(items.value);\r\n    }\r\n  }\r\n};\r\n\r\nconst update = (e) => {\r\n  field.update(e.target.value);\r\n};\r\n\r\nconst touch = (e) => {\r\n  field.touch(e);\r\n};\r\n\r\nconst blur = (e) => {\r\n  field.blur(e);\r\n};\r\n</script>\r\n<template>\r\n  <FieldWrapper :field=\"field\" :no-label=\"noLabel\">\r\n    <template v-for=\"(_, slot) in $slots\" v-slot:[slot]=\"scope\">\r\n      <slot :name=\"slot\" v-bind=\"{ ...scope }\" />\r\n    </template>\r\n    <template #=\"{ id }\">\r\n      <div class=\"tags\">\r\n        <template v-if=\"items.length > 0\">\r\n          <template v-for=\"tag in items\" :key=\"tag.id\">\r\n            <div class=\"tag\" v-css-vars=\"{ '--color': tag.color }\">\r\n              <span class=\"name\">{{ tag.name }}</span>\r\n              <a href=\"#\" @click.prevent=\"remove(tag)\" class=\"close\">\r\n                <Icon :path=\"mdiClose\" />\r\n              </a>\r\n            </div>\r\n          </template>\r\n        </template>\r\n        <div class=\"input-tags\">\r\n          <input\r\n            type=\"text\"\r\n            v-model=\"name\"\r\n            v-debounce:300ms=\"searchTags\"\r\n            placeholder=\"Search Tags...\"\r\n          />\r\n          <div v-if=\"name\" class=\"results\">\r\n            <template v-if=\"results\">\r\n              <template v-for=\"item in results\" :key=\"item.id\">\r\n                <a\r\n                  href=\"#\"\r\n                  v-css-vars=\"{ '--color': item.color }\"\r\n                  @click.prevent=\"select(item)\"\r\n                  class=\"item\"\r\n                  >{{ item.name }}</a\r\n                >\r\n              </template>\r\n              <template v-if=\"canAdd\">\r\n                <a href=\"#\" class=\"item new\" @click.prevent=\"add\"\r\n                  >Add <strong>{{ name }}</strong></a\r\n                >\r\n              </template>\r\n            </template>\r\n            <template v-if=\"selected\">\r\n              <div class=\"selected text-muted\">Already Selected</div>\r\n            </template>\r\n            <template v-else-if=\"name && !results\">\r\n              <div class=\"loader text-muted\">Loading...</div>\r\n            </template>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </template>\r\n  </FieldWrapper>\r\n</template>\r\n<style scoped lang=\"scss\">\r\n@import \"@scss/config\";\r\n@import \"@scss/mixins/dark\";\r\n\r\n.tags {\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n  gap: 5px;\r\n\r\n  .tag {\r\n    display: flex;\r\n    flex-direction: row;\r\n    background: var(--color);\r\n    color: $white;\r\n    border-radius: 5px;\r\n    padding: 5px 7px;\r\n    user-select: none;\r\n    gap: 5px;\r\n\r\n    .close {\r\n      color: $white;\r\n      transition: all 0.25s ease;\r\n\r\n      &:hover {\r\n        scale: 1.1;\r\n      }\r\n    }\r\n  }\r\n\r\n  .input-tags {\r\n    position: relative;\r\n\r\n    input {\r\n      border: none;\r\n      background: transparent;\r\n      color: $gray-8;\r\n      height: 100%;\r\n\r\n      @include dark {\r\n        color: $gray-2;\r\n      }\r\n\r\n      &:focus,\r\n      &:focus-within {\r\n        outline: none;\r\n        box-shadow: none;\r\n      }\r\n    }\r\n\r\n    .results {\r\n      position: absolute;\r\n      top: 36px;\r\n      white-space: nowrap;\r\n      min-width: 200px;\r\n      background: $white;\r\n      padding: 10px;\r\n      border-radius: 5px;\r\n      border: 1px solid $gray-2;\r\n      box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16);\r\n      display: flex;\r\n      flex-direction: column;\r\n      gap: 5px;\r\n      z-index: 999;\r\n\r\n      @include dark {\r\n        background: $gray-9;\r\n        border: 1px solid $gray-7;\r\n      }\r\n\r\n      .item {\r\n        text-decoration: none;\r\n        display: flex;\r\n        flex-direction: row;\r\n        gap: 2px;\r\n        color: $gray-8;\r\n        transition: all 0.25s ease;\r\n        border-radius: 5px;\r\n        padding: 5px 7px;\r\n        user-select: none;\r\n\r\n        &:not(.new) {\r\n          color: var(--color);\r\n        }\r\n\r\n        &.new {\r\n          color: $black;\r\n          @include dark {\r\n            color: $white;\r\n          }\r\n        }\r\n\r\n        &:hover {\r\n          background: $gray-1;\r\n          @include dark {\r\n            background: $gray-8;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { Field } from \"@/modules/form/lib/field\"\r\nimport { Model } from \"@/modules/form/lib/model\"\r\nimport { RequiredRule } from \"@/modules/form/rules/required\"\r\n\r\nexport class AuthorModel extends Model {\r\n\r\n    get name (): Field {\r\n        return this.field('name', 'Name', this.initData?.name ?? \"\", \"The complete name of author\")\r\n    }\r\n\r\n    get bio (): Field {\r\n        return this.field('bio', 'Bio', this.initData?.bio ?? \"\")\r\n    }\r\n\r\n    get image (): Field {\r\n        return this.field('image', 'Image', this.initData?.image ?? null)\r\n    }\r\n\r\n\tget rules(): any[] {\r\n        return [\r\n            [[this.name], RequiredRule]\r\n        ]\r\n\t}\r\n}\r\n","<script lang=\"ts\" setup>\r\nimport { ref, onMounted, onUnmounted } from 'vue';\r\nimport { Field } from \"../lib/field\";\r\nimport FieldWrapper, { GroupSlots } from \"./base/FieldWrapper.vue\";\r\n\r\ndefineOptions({\r\n  inheritAttrs: false,\r\n});\r\n\r\ndefineSlots<GroupSlots>();\r\n\r\ntype Props = {\r\n  field: Field;\r\n  noLabel?: boolean;\r\n};\r\nconst props = defineProps<Props>();\r\n\r\nconst { field, noLabel = false } = props;\r\n\r\nconst initValue = field.value;\r\n\r\nconst input = ref<any>(null);\r\n\r\nconst updateHtml = (html) => {\r\n  const regex = /<div>(.*?)<\\/div>/gm;\r\n\r\n  html = html.replace(regex, function(text, subText){\r\n    return `\\n${subText}`;\r\n  });\r\n\r\n  field.update(html);\r\n}\r\n\r\nconst update = (e) => {\r\n  updateHtml(e.target.innerHTML)\r\n};\r\n\r\nconst touch = (e) => {\r\n  field.touch(e);\r\n};\r\n\r\nconst blur = (e) => {\r\n  field.blur(e);\r\n};\r\n\r\nlet observer: any = null;\r\n\r\nonMounted(() => {\r\n  observer = new MutationObserver((mutationList, observer) => {\r\n    updateHtml(input.value.innerHTML)\r\n  });\r\n\r\n  observer.observe(input.value, {\r\n    subtree: true,\r\n    childList: true,\r\n    //attributes: true,\r\n  });\r\n});\r\n\r\nonUnmounted(() => observer && observer.disconnect());\r\n</script>\r\n<template>\r\n  <FieldWrapper :field=\"field\" :no-label=\"noLabel\">\r\n    <template v-for=\"(_, slot) in $slots\" v-slot:[slot]=\"scope\">\r\n      <slot :name=\"slot\" v-bind=\"{ ...scope }\" />\r\n    </template>\r\n    <template #=\"{ id }\">\r\n      <div\r\n        :id=\"id\"\r\n        contenteditable=\"true\"\r\n        class=\"form-control\"\r\n        :class=\"{ 'is-invalid': field.hasErrors }\"\r\n        v-bind=\"$attrs\"\r\n        @input=\"update\"\r\n        @focus=\"touch\"\r\n        @blur=\"blur\"\r\n        autocomplete=\"off\"\r\n        spellcheck=\"false\"\r\n        v-html=\"initValue\"\r\n        ref=\"input\"\r\n      ></div>\r\n    </template>\r\n  </FieldWrapper>\r\n</template>\r\n<style scoped lang=\"scss\">\r\n.form-control {\r\n  position: relative;\r\n  -moz-appearance: textfield-multiline;\r\n  -webkit-appearance: textarea;\r\n  resize: none;\r\n  white-space: pre-wrap;\r\n  &:before {\r\n    content: attr(placeholder);\r\n    display: block; /* For Firefox */\r\n  }\r\n  &:focus {\r\n    outline: none;\r\n    &:before {\r\n      display: none;\r\n      content: \"\";\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<script setup lang=\"ts\">\r\nimport { createModel } from \"@/modules/form/hooks/model\";\r\nimport { onUnmounted } from \"vue\";\r\nimport { AuthorModel } from \"./author-model\";\r\nimport TextInput from \"@/modules/form/components/TextInput.vue\";\r\nimport ImageInput from \"@/modules/upload/components/form/ImageInput.vue\";\r\nimport EditableInput from \"@/modules/form/components/EditableInput.vue\";\r\nimport { keypress } from '../../../../lib/helper/html';\r\n\r\ntype Props = {\r\n  data?: any;\r\n};\r\n\r\nconst { data = {} } = defineProps<Props>();\r\n\r\nconst [model, newModel, destroyModel] = createModel(AuthorModel);\r\n\r\nnewModel(data);\r\n\r\ndefineExpose({\r\n  validate: () => model.value?.validate(),\r\n  form: () => model.value?.data,\r\n  messages: () => model.value?.errors,\r\n});\r\n\r\nonUnmounted(() => {\r\n  destroyModel();\r\n});\r\n</script>\r\n<template>\r\n  <div v-if=\"model\" class=\"row py-4 m-3 border\">\r\n    <div class=\"col-md-6\">\r\n      <div>\r\n        <EditableInput :field=\"model.name\" @keydown.enter.stop />\r\n        <EditableInput :field=\"model.bio\" @keydown.enter.stop />\r\n      </div>\r\n    </div>\r\n    <div class=\"col-md-6\">\r\n      <ImageInput :field=\"model.image\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n","import { App, createApp, ComponentPublicInstance } from \"vue\"\r\n// import \"./author.scss\"\r\nimport Author from \"./Author.vue\"\r\nimport { dangerToast } from \"@/modules/bootstrap/lib/toast\"\r\n\r\nconst icon = `<svg width=\"17\" height=\"15\" viewBox=\"0 0 336 276\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M291 150V79c0-19-15-34-34-34H79c-19 0-34 15-34 34v42l67-44 81 72 56-29 42 30zm0 52l-43-30-56 30-81-67-66 39v23c0 19 15 34 34 34h178c17 0 31-13 34-29zM79 0h178c44 0 79 35 79 79v118c0 44-35 79-79 79H79c-44 0-79-35-79-79V79C0 35 35 0 79 0z\"/></svg>`\r\n\r\nexport default class author {\r\n    appInstance: any\r\n    data: any\r\n\r\n\tconstructor({ api, config, data, block }) {\r\n        this.data = data\r\n\t}\r\n\r\n\tstatic get toolbox() {\r\n\t\treturn {\r\n\t\t\ttitle: \"Author\",\r\n\t\t\ticon,\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst container: any = document.createElement(\"div\")\r\n        const app: App<Element> = createApp(Author, {data: this.data})\r\n\t\tthis.appInstance = app.mount(container)\r\n\t\treturn container\r\n\t}\r\n\r\n    async save (blockContent) {\r\n        const valid = await this.appInstance?.validate()\r\n        if (valid) {\r\n            return {...this.appInstance?.form()}\r\n        }\r\n        // dangerToast('Error','Invalid Form Data')\r\n        return {};\r\n\t}\r\n}\r\n","import Header from \"editorjs-header-with-alignment\";\r\nimport LinkTool from \"@editorjs/link\";\r\nimport RawTool from \"@editorjs/raw\";\r\nimport Quote from \"@editorjs/quote\";\r\nimport Embed from \"@editorjs/embed\";\r\nimport Checklist from \"@editorjs/checklist\";\r\nimport ImageTool from \"@editorjs/image\";\r\nimport Table from \"@editorjs/table\";\r\nimport Paragraph from \"editorjs-paragraph-with-alignment\";\r\nimport ColorPlugin from \"editorjs-text-color-plugin\";\r\nimport NestedList from \"@editorjs/nested-list\";\r\nimport Underline from \"@editorjs/underline\";\r\nimport TextVariantTune from \"@editorjs/text-variant-tune\";\r\nimport Delimiter from \"@editorjs/delimiter\";\r\nimport Warning from \"@editorjs/warning\";\r\nimport Alert from \"editorjs-alert\";\r\nimport { metadata } from \"@/lib/metadata\";\r\nimport Author from \"@/modules/editor/plugins/author/author\";\r\n\r\nconst colors = [\r\n  \"#F44336\",\r\n  \"#FFEBEE\",\r\n  \"#FFCDD2\",\r\n  \"#EF9A9A\",\r\n  \"#E57373\",\r\n  \"#EF5350\",\r\n  \"#E53935\",\r\n  \"#D32F2F\",\r\n  \"#C62828\",\r\n  \"#B71C1C\",\r\n  \"#FF8A80\",\r\n  \"#FF5252\",\r\n  \"#FF1744\",\r\n  \"#D50000\",\r\n  \"#FCE4EC\",\r\n  \"#F8BBD0\",\r\n  \"#F48FB1\",\r\n  \"#F06292\",\r\n  \"#EC407A\",\r\n  \"#E91E63\",\r\n  \"#D81B60\",\r\n  \"#C2185B\",\r\n  \"#AD1457\",\r\n  \"#880E4F\",\r\n  \"#FF80AB\",\r\n  \"#FF4081\",\r\n  \"#F50057\",\r\n  \"#C51162\",\r\n  \"#F3E5F5\",\r\n  \"#E1BEE7\",\r\n  \"#CE93D8\",\r\n  \"#BA68C8\",\r\n  \"#AB47BC\",\r\n  \"#9C27B0\",\r\n  \"#8E24AA\",\r\n  \"#7B1FA2\",\r\n  \"#6A1B9A\",\r\n  \"#4A148C\",\r\n  \"#EA80FC\",\r\n  \"#E040FB\",\r\n  \"#D500F9\",\r\n  \"#AA00FF\",\r\n  \"#EDE7F6\",\r\n  \"#D1C4E9\",\r\n  \"#B39DDB\",\r\n  \"#9575CD\",\r\n  \"#7E57C2\",\r\n  \"#673AB7\",\r\n  \"#5E35B1\",\r\n  \"#512DA8\",\r\n  \"#4527A0\",\r\n  \"#311B92\",\r\n  \"#B388FF\",\r\n  \"#7C4DFF\",\r\n  \"#651FFF\",\r\n  \"#6200EA\",\r\n  \"#E8EAF6\",\r\n  \"#C5CAE9\",\r\n  \"#9FA8DA\",\r\n  \"#7986CB\",\r\n  \"#5C6BC0\",\r\n  \"#3F51B5\",\r\n  \"#3949AB\",\r\n  \"#303F9F\",\r\n  \"#283593\",\r\n  \"#1A237E\",\r\n  \"#8C9EFF\",\r\n  \"#536DFE\",\r\n  \"#3D5AFE\",\r\n  \"#304FFE\",\r\n  \"#E3F2FD\",\r\n  \"#BBDEFB\",\r\n  \"#90CAF9\",\r\n  \"#64B5F6\",\r\n  \"#42A5F5\",\r\n  \"#2196F3\",\r\n  \"#1E88E5\",\r\n  \"#1976D2\",\r\n  \"#1565C0\",\r\n  \"#0D47A1\",\r\n  \"#82B1FF\",\r\n  \"#448AFF\",\r\n  \"#2979FF\",\r\n  \"#2962FF\",\r\n  \"#E1F5FE\",\r\n  \"#B3E5FC\",\r\n  \"#81D4FA\",\r\n  \"#4FC3F7\",\r\n  \"#29B6F6\",\r\n  \"#03A9F4\",\r\n  \"#039BE5\",\r\n  \"#0288D1\",\r\n  \"#0277BD\",\r\n  \"#01579B\",\r\n  \"#80D8FF\",\r\n  \"#40C4FF\",\r\n  \"#00B0FF\",\r\n  \"#0091EA\",\r\n  \"#E0F7FA\",\r\n  \"#B2EBF2\",\r\n  \"#80DEEA\",\r\n  \"#4DD0E1\",\r\n  \"#26C6DA\",\r\n  \"#00BCD4\",\r\n  \"#00ACC1\",\r\n  \"#0097A7\",\r\n  \"#00838F\",\r\n  \"#006064\",\r\n  \"#84FFFF\",\r\n  \"#18FFFF\",\r\n  \"#00E5FF\",\r\n  \"#00B8D4\",\r\n  \"#E0F2F1\",\r\n  \"#B2DFDB\",\r\n  \"#80CBC4\",\r\n  \"#4DB6AC\",\r\n  \"#26A69A\",\r\n  \"#009688\",\r\n  \"#00897B\",\r\n  \"#00796B\",\r\n  \"#00695C\",\r\n  \"#004D40\",\r\n  \"#A7FFEB\",\r\n  \"#64FFDA\",\r\n  \"#1DE9B6\",\r\n  \"#00BFA5\",\r\n  \"#E8F5E9\",\r\n  \"#C8E6C9\",\r\n  \"#A5D6A7\",\r\n  \"#81C784\",\r\n  \"#66BB6A\",\r\n  \"#4CAF50\",\r\n  \"#43A047\",\r\n  \"#388E3C\",\r\n  \"#2E7D32\",\r\n  \"#1B5E20\",\r\n  \"#B9F6CA\",\r\n  \"#69F0AE\",\r\n  \"#00E676\",\r\n  \"#00C853\",\r\n  \"#F1F8E9\",\r\n  \"#DCEDC8\",\r\n  \"#C5E1A5\",\r\n  \"#AED581\",\r\n  \"#9CCC65\",\r\n  \"#8BC34A\",\r\n  \"#7CB342\",\r\n  \"#689F38\",\r\n  \"#558B2F\",\r\n  \"#33691E\",\r\n  \"#CCFF90\",\r\n  \"#B2FF59\",\r\n  \"#76FF03\",\r\n  \"#64DD17\",\r\n  \"#F9FBE7\",\r\n  \"#F0F4C3\",\r\n  \"#E6EE9C\",\r\n  \"#DCE775\",\r\n  \"#D4E157\",\r\n  \"#CDDC39\",\r\n  \"#C0CA33\",\r\n  \"#AFB42B\",\r\n  \"#9E9D24\",\r\n  \"#827717\",\r\n  \"#F4FF81\",\r\n  \"#EEFF41\",\r\n  \"#C6FF00\",\r\n  \"#AEEA00\",\r\n  \"#FFFDE7\",\r\n  \"#FFF9C4\",\r\n  \"#FFF59D\",\r\n  \"#FFF176\",\r\n  \"#FFEE58\",\r\n  \"#FFEB3B\",\r\n  \"#FDD835\",\r\n  \"#FBC02D\",\r\n  \"#F9A825\",\r\n  \"#F57F17\",\r\n  \"#FFFF8D\",\r\n  \"#FFFF00\",\r\n  \"#FFEA00\",\r\n  \"#FFD600\",\r\n  \"#FFF8E1\",\r\n  \"#FFECB3\",\r\n  \"#FFE082\",\r\n  \"#FFD54F\",\r\n  \"#FFCA28\",\r\n  \"#FFC107\",\r\n  \"#FFB300\",\r\n  \"#FFA000\",\r\n  \"#FF8F00\",\r\n  \"#FF6F00\",\r\n  \"#FFE57F\",\r\n  \"#FFD740\",\r\n  \"#FFC400\",\r\n  \"#FFAB00\",\r\n  \"#FFF3E0\",\r\n  \"#FFE0B2\",\r\n  \"#FFCC80\",\r\n  \"#FFB74D\",\r\n  \"#FFA726\",\r\n  \"#FF9800\",\r\n  \"#FB8C00\",\r\n  \"#F57C00\",\r\n  \"#EF6C00\",\r\n  \"#E65100\",\r\n  \"#FFD180\",\r\n  \"#FFAB40\",\r\n  \"#FF9100\",\r\n  \"#FF6D00\",\r\n  \"#FBE9E7\",\r\n  \"#FFCCBC\",\r\n  \"#FFAB91\",\r\n  \"#FF8A65\",\r\n  \"#FF7043\",\r\n  \"#FF5722\",\r\n  \"#F4511E\",\r\n  \"#E64A19\",\r\n  \"#D84315\",\r\n  \"#BF360C\",\r\n  \"#FF9E80\",\r\n  \"#FF6E40\",\r\n  \"#FF3D00\",\r\n  \"#DD2C00\",\r\n  \"#EFEBE9\",\r\n  \"#D7CCC8\",\r\n  \"#BCAAA4\",\r\n  \"#A1887F\",\r\n  \"#8D6E63\",\r\n  \"#795548\",\r\n  \"#6D4C41\",\r\n  \"#5D4037\",\r\n  \"#4E342E\",\r\n  \"#3E2723\",\r\n  \"#FAFAFA\",\r\n  \"#F5F5F5\",\r\n  \"#EEEEEE\",\r\n  \"#E0E0E0\",\r\n  \"#BDBDBD\",\r\n  \"#9E9E9E\",\r\n  \"#757575\",\r\n  \"#616161\",\r\n  \"#424242\",\r\n  \"#212121\",\r\n  \"#ECEFF1\",\r\n  \"#CFD8DC\",\r\n  \"#B0BEC5\",\r\n  \"#90A4AE\",\r\n  \"#78909C\",\r\n  \"#607D8B\",\r\n  \"#546E7A\",\r\n  \"#455A64\",\r\n  \"#37474F\",\r\n  \"#263238\",\r\n  \"#000000\",\r\n];\r\n\r\nexport default {\r\n  textVariant: TextVariantTune,\r\n  delimiter: Delimiter,\r\n  header: {\r\n    class: Header,\r\n    shortcut: \"CMD+SHIFT+H\",\r\n    inlineToolbar: true,\r\n  },\r\n  paragraph: {\r\n    class: Paragraph,\r\n    shortcut: \"CMD+SHIFT+P\",\r\n    inlineToolbar: true,\r\n  },\r\n  list: {\r\n    class: NestedList,\r\n    shortcut: \"CMD+SHIFT+L\",\r\n    inlineToolbar: true,\r\n    config: {\r\n      defaultStyle: \"unordered\",\r\n    },\r\n  },\r\n  checklist: {\r\n    class: Checklist,\r\n    inlineToolbar: true,\r\n  },\r\n  // quote: {\r\n  //     class: Quote,\r\n  //     inlineToolbar: true,\r\n  //     shortcut: 'CMD+SHIFT+O',\r\n  //     config: {\r\n  //         quotePlaceholder: 'Enter a quote',\r\n  //         captionPlaceholder: 'Quote\\'s author',\r\n  //     },\r\n  // },\r\n  table: {\r\n    class: Table,\r\n    shortcut: \"CMD+SHIFT+T\",\r\n    inlineToolbar: true,\r\n  },\r\n  embed: {\r\n    class: Embed,\r\n    inlineToolbar: true,\r\n    config: {\r\n      services: {\r\n        youtube: true,\r\n        facebook: true,\r\n        twitter: true,\r\n        instagram: true,\r\n        pinterest: true,\r\n        codepen: true,\r\n        miro: true,\r\n        vimeo: true,\r\n        gfycat: true,\r\n        imgur: true,\r\n        vine: true,\r\n        aparat: true,\r\n        coub: true,\r\n        \"yandex-music-track\": true,\r\n        \"twitch-video\": true,\r\n      },\r\n    },\r\n  },\r\n  image: {\r\n    class: ImageTool,\r\n    config: {\r\n      endpoints: {\r\n        byFile: `${metadata()?.url?.api}/uploadImage`, // Your backend file uploader endpoint\r\n        byUrl: `${metadata()?.url?.api}/uploadImage`, // Your endpoint that provides uploading by Url\r\n      },\r\n    },\r\n  },\r\n  raw: RawTool,\r\n  warning: Warning,\r\n  alert: Alert,\r\n  linkTool: {\r\n    class: LinkTool,\r\n    config: {\r\n      endpoint: `${metadata()?.url?.api}/fetchUrl`,\r\n    },\r\n  },\r\n  underline: Underline,\r\n  Color: {\r\n    class: ColorPlugin, // if load from CDN, please try: window.ColorPlugin\r\n    config: {\r\n      colorCollections: colors,\r\n      defaultColor: \"#FF1300\",\r\n      type: \"text\",\r\n    },\r\n  },\r\n  Marker: {\r\n    class: ColorPlugin, // if load from CDN, please try: window.ColorPlugin\r\n    config: {\r\n      defaultColor: \"#FFBF00\",\r\n      type: \"marker\",\r\n    },\r\n  },\r\n  // custom blocks\r\n  Author: {\r\n    class: Author,\r\n    inlineToolbar: true,\r\n  },\r\n};\r\n","<script lang=\"ts\" setup>\r\nimport { Field } from \"@/modules/form/lib/field\";\r\nimport FieldWrapper, {\r\n  GroupSlots,\r\n} from \"@/modules/form/components/base/FieldWrapper.vue\";\r\nimport { onMounted, onUnmounted, ref, computed, nextTick } from \"vue\";\r\nimport EditorJS from \"@editorjs/editorjs\";\r\nimport Modal from \"@/modules/bootstrap/components/Modal.vue\";\r\nimport EditorView from \"@/modules/editor/components/EditorView.vue\";\r\nimport tools from \"@/modules/editor/blocks\";\r\nimport { mdiEye, mdiFullscreen, mdiFullscreenExit } from \"@mdi/js\";\r\nimport Icon from \"@/components/Icon.vue\";\r\n\r\ndefineOptions({\r\n  inheritAttrs: false,\r\n});\r\n\r\ndefineSlots<GroupSlots>();\r\n\r\ntype Props = {\r\n  field: Field;\r\n  noLabel?: boolean;\r\n  rtl?: boolean;\r\n  altitude?: number;\r\n};\r\nconst props = defineProps<Props>();\r\n\r\nconst { field, noLabel = false, rtl = false, altitude = 400 } = props;\r\n\r\nconst container = ref<any>(null);\r\nconst element = ref<any>(null);\r\nconst previewModal = ref<any>(null);\r\nconst editor = ref<EditorJS | null>(null);\r\nconst fullscreen = ref<boolean>(false);\r\nconst content = ref<any>(null);\r\n\r\nconst height = computed(() => `${altitude}px`);\r\n\r\nconst preview = () => {\r\n  content.value = field.value;\r\n  nextTick(() => {\r\n    previewModal.value?.open();\r\n  });\r\n};\r\n\r\nconst previewClose = () => {\r\n  content.value = null;\r\n};\r\n\r\nconst toggleFullscreen = () => {\r\n  fullscreen.value = !fullscreen.value;\r\n};\r\n\r\nonMounted(() => {\r\n  editor.value = new EditorJS({\r\n    holder: element.value,\r\n    tools,\r\n    data: field.value,\r\n    i18n: {\r\n      direction: rtl ? \"rtl\" : \"ltr\",\r\n    },\r\n    tunes: [\"textVariant\"],\r\n    onChange: (api, event) => {\r\n      editor.value\r\n        ?.save()\r\n        ?.then((outputData) => {\r\n          field.update(outputData);\r\n        })\r\n        ?.catch((error) => {\r\n          console.log(\"Saving failed: \", error);\r\n        });\r\n    },\r\n  });\r\n});\r\n\r\nonUnmounted(() => {\r\n  editor.value?.destroy();\r\n});\r\n</script>\r\n<template>\r\n  <FieldWrapper :field=\"field\" :no-label=\"noLabel\">\r\n    <template v-for=\"(_, slot) in $slots\" v-slot:[slot]=\"scope\">\r\n      <slot :name=\"slot\" v-bind=\"{ ...scope }\" />\r\n    </template>\r\n    <template #=\"{ id }\">\r\n      <div\r\n        class=\"editor-wrapper\"\r\n        :class=\"{ fullscreen }\"\r\n        v-bind=\"$attrs\"\r\n        ref=\"container\"\r\n      >\r\n        <div class=\"editor-js\" ref=\"element\"></div>\r\n        <div class=\"actions\">\r\n          <a href=\"#\" @click.prevent=\"preview\">\r\n            <Icon :path=\"mdiEye\" />\r\n          </a>\r\n          <a href=\"#\" @click.prevent=\"toggleFullscreen\">\r\n            <Icon :path=\"fullscreen ? mdiFullscreenExit : mdiFullscreen\" />\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </template>\r\n  </FieldWrapper>\r\n  <Modal\r\n    v-if=\"content && content.blocks?.length > 0\"\r\n    ref=\"previewModal\"\r\n    title=\"Preview\"\r\n    @close=\"previewClose\"\r\n    size=\"xl\"\r\n  >\r\n    <EditorView :content=\"content\" :rtl=\"rtl\" />\r\n  </Modal>\r\n</template>\r\n<style lang=\"scss\">\r\n@import \"@scss/config/colors\";\r\n@import \"@scss/mixins/font-size\";\r\n@import \"@scss/mixins/dark\";\r\n\r\n.editor-wrapper {\r\n  position: relative;\r\n  border: 1px solid $gray-2;\r\n  border-radius: 5px;\r\n  height: v-bind(height);\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n  background: $white;\r\n  display: flex;\r\n  flex-direction: row;\r\n  padding: 10px;\r\n  width: 100%;\r\n  @include dark {\r\n    background: $gray-9;\r\n    border-color: $gray-7;\r\n  }\r\n\r\n  .editor-js {\r\n    position: relative;\r\n    z-index: 0;\r\n    flex: auto;\r\n  }\r\n\r\n  .actions {\r\n    position: sticky;\r\n    top: 0;\r\n    width: 40px;\r\n    min-width: 40px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 5px;\r\n\r\n    > a {\r\n      text-decoration: none;\r\n      display: flex;\r\n      flex-direction: row;\r\n      justify-content: center;\r\n      align-items: center;\r\n      width: 100%;\r\n      height: 40px;\r\n      @include font-size(1.7);\r\n      color: $white;\r\n      background: $black;\r\n      transition: all 0.25s ease;\r\n      border-radius: 50%;\r\n\r\n      @include dark {\r\n        color: $black;\r\n        background: $white;\r\n      }\r\n\r\n      &:hover {\r\n        color: $primary;\r\n      }\r\n    }\r\n  }\r\n\r\n  &.fullscreen {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    z-index: 9999;\r\n  }\r\n\r\n  .codex-editor {\r\n    .ce-toolbar__plus,\r\n    .ce-toolbar__settings-btn {\r\n      @include dark {\r\n        color: $white !important;\r\n      }\r\n      &:hover {\r\n        @include dark {\r\n          color: $black !important;\r\n        }\r\n      }\r\n    }\r\n    &.codex-editor--rtl {\r\n      &.codex-editor--narrow {\r\n        .codex-editor__redactor {\r\n          .ce-block {\r\n            .ce-block__content {\r\n              direction: rtl !important;\r\n            }\r\n          }\r\n        }\r\n        .ce-toolbar__actions {\r\n          right: -86px !important;\r\n          left: auto !important;\r\n\r\n          .ce-popover {\r\n            direction: ltr !important;\r\n          }\r\n        }\r\n      }\r\n      .tc-add-column {\r\n        z-index: 10 !important;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<script setup lang=\"ts\">\r\nimport { Field } from \"../lib/field\";\r\nimport { GroupSlots } from \"./base/FieldWrapper.vue\";\r\nimport FieldWrapper from \"@/modules/form/components/base/FieldWrapper.vue\";\r\nimport { ref, onMounted } from \"vue\";\r\nimport Button from \"@/modules/bootstrap/components/Button.vue\";\r\nimport Icon from \"@/components/Icon.vue\";\r\nimport { mdiClose, mdiPlusThick } from \"@mdi/js\";\r\n\r\ndefineOptions({\r\n    inheritAttrs: false,\r\n});\r\n\r\ndefineSlots<GroupSlots>();\r\n\r\ntype Props = {\r\n    field: Field;\r\n    noLabel?: boolean;\r\n    base?: 10 | 12;\r\n    layout?: any[][];\r\n};\r\nconst props = defineProps<Props>();\r\n\r\nconst { field, noLabel = false, base = 12, layout } = props;\r\n\r\nconst list = ref<any[]>(field.value ?? []);\r\n\r\nconst add = () => {\r\n    const item: any = {};\r\n    layout?.forEach((row) => {\r\n        row.forEach((col) => {\r\n            item[col] = \"\";\r\n        });\r\n    });\r\n    list.value.push(item);\r\n    update();\r\n};\r\n\r\nconst remove = (i: number) => {\r\n    list.value.splice(i, 1);\r\n    list.value = list.value.filter((item) => item);\r\n    update();\r\n};\r\n\r\nconst update = () => {\r\n    field.update(list.value);\r\n};\r\n\r\nconst touch = (e) => {\r\n    field.touch(e);\r\n};\r\n\r\nconst blur = (e) => {\r\n    field.blur(e);\r\n};\r\n\r\nonMounted(() => {\r\n    if (!list.value.length) {\r\n        add();\r\n    }\r\n});\r\n</script>\r\n<template>\r\n    <FieldWrapper :field=\"field\" :no-label=\"noLabel\">\r\n        <template v-for=\"(_, slot) in $slots\" v-slot:[slot]=\"scope\">\r\n            <slot :name=\"slot\" v-bind=\"{ ...scope }\" />\r\n        </template>\r\n        <template #=\"{ id }\">\r\n            <div class=\"repeater-layout d-flex flex-column gap-3\">\r\n                <template v-for=\"(value, v) in list\" :key=\"v\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-md-10\">\r\n                            <div class=\"repeater-item d-flex flex-column gap-3\">\r\n                                <template v-for=\"(row, i) in layout\" :key=\"i\">\r\n                                    <div class=\"row\">\r\n                                        <template v-for=\"(col, c) in row\" :key=\"c\">\r\n                                            <div :class=\"{ [`col-md-${base / row.length}`]: true }\">\r\n                                                <input :id=\"id\" class=\"form-control\" v-model=\"value[col]\" @input=\"update\"\r\n                                                    @focus=\"touch\" @blur=\"blur\" autocomplete=\"off\" spellcheck=\"false\"\r\n                                                    :placeholder=\"col\" />\r\n                                            </div>\r\n                                        </template>\r\n                                    </div>\r\n                                </template>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-md-2\">\r\n                            <template v-if=\"v > 0\">\r\n                                <Button color=\"danger\" @click=\"remove(v)\">\r\n                                    <Icon :path=\"mdiClose\" />\r\n                                </Button>\r\n                            </template>\r\n                            <template v-else>\r\n                                <Button color=\"success\" @click=\"add\">\r\n                                    <Icon :path=\"mdiPlusThick\" />\r\n                                </Button>\r\n                            </template>\r\n                        </div>\r\n                    </div>\r\n                </template>\r\n            </div>\r\n        </template>\r\n    </FieldWrapper>\r\n</template>","<script setup lang=\"ts\">\r\nimport { Field } from \"../lib/field\";\r\nimport RadioInput from \"./RadioInput.vue\";\r\nimport StringInput from \"./StringInput.vue\";\r\nimport TextInput from \"./TextInput.vue\";\r\nimport CheckInput from \"./checkInput.vue\";\r\nimport DateInput from \"@/modules/calendar/components/DateInput.vue\";\r\nimport ImageInput from \"@/modules/upload/components/form/ImageInput.vue\";\r\nimport FileInput from \"@/modules/upload/components/form/FileInput.vue\";\r\nimport RangeInput from \"@/modules/form/components/RangeInput.vue\";\r\nimport SelectInput from \"@/modules/form/components/SelectInput.vue\";\r\nimport ToggleInput from \"@/modules/form/components/ToggleInput.vue\";\r\nimport GalleryInput from \"@/modules/upload/components/form/GalleryInput.vue\";\r\nimport TagsInput from \"@/modules/form/components/TagsInput.vue\";\r\nimport EditorInput from \"@/modules/editor/components/EditorInput.vue\";\r\nimport { computed } from \"vue\";\r\nimport Icon from \"@/components/Icon.vue\";\r\nimport * as icons from \"@mdi/js\";\r\nimport { GroupSlots } from \"./base/FieldWrapper.vue\";\r\nimport RepeaterInput from \"./RepeaterInput.vue\";\r\n\r\ntype Props = {\r\n  type: string;\r\n  field: Field;\r\n  attributes?: any;\r\n  props?: any;\r\n  icon?: false | string;\r\n};\r\n\r\nconst {\r\n  type,\r\n  field,\r\n  attributes = {},\r\n  props = {},\r\n  icon = false,\r\n} = defineProps<Props>();\r\n\r\ntype GroupAttrsSlots = Omit<GroupSlots, \"before\">;\r\n\r\ndefineSlots<GroupAttrsSlots>();\r\n\r\nconst types = {\r\n  string: StringInput,\r\n  text: TextInput,\r\n  radio: RadioInput,\r\n  checkbox: CheckInput,\r\n  date: DateInput,\r\n  image: ImageInput,\r\n  file: FileInput,\r\n  range: RangeInput,\r\n  select: SelectInput,\r\n  toggle: ToggleInput,\r\n  gallery: GalleryInput,\r\n  tags: TagsInput,\r\n  editor: EditorInput,\r\n  repeater: RepeaterInput,\r\n};\r\n\r\nconst data = computed(() => ({ ...(attributes ?? {}), ...(props ?? {}) }));\r\n</script>\r\n<template>\r\n  <component v-if=\"types[type]\" :is=\"types[type]\" :field=\"field\" v-bind=\"data\">\r\n    <template v-for=\"(_, slot) in $slots\" v-slot:[slot]=\"scope\">\r\n      <slot :name=\"slot\" v-bind=\"{ ...scope }\" />\r\n    </template>\r\n    <template v-if=\"icon && Object.hasOwn(icons, icon)\" #before>\r\n      <Icon :path=\"icons[icon]\" />\r\n    </template>\r\n  </component>\r\n</template>\r\n","<script setup lang=\"ts\">\r\nimport { ref } from \"vue\";\r\n\r\ndefineOptions({\r\n  inheritAttrs: false,\r\n});\r\n\r\ntype Props = {\r\n  title?: string;\r\n};\r\n\r\nconst { title = \"Content\" } = defineProps<Props>();\r\n\r\nconst loading = ref<boolean>(false);\r\n\r\nconst start = () => {\r\n  loading.value = true;\r\n};\r\n\r\nconst stop = () => {\r\n  loading.value = false;\r\n};\r\n\r\ndefineExpose({ start, stop });\r\n</script>\r\n<template>\r\n  <template v-if=\"loading\">\r\n    <div class=\"d-flex flex-row gap-4 align-items-center\" v-bind=\"$attrs\">\r\n      <div class=\"spinner-border text-secondary\" role=\"status\">\r\n        <span class=\"visually-hidden\">Loading...</span>\r\n      </div>\r\n      <div class=\"text-muted\">{{ title }} Loading...</div>\r\n    </div>\r\n  </template>\r\n  <template v-else>\r\n    <slot></slot>\r\n  </template>\r\n</template>\r\n"],"names":["items","ref","__props","watch","newList","update","e","value","index","str","emit","touch","blur","chunk","array","size","chunked_arr","displayTree","callback","filterBy","filterValue","prefix","level","delimiter","out","item","children","getDaysCount","month","year","getFirstDay","i","calculateDays","selectedDate","today","daysList","days","firstDay","prevDays","count","toStart","date","getDate","getDateFormat","isActiveDate","toEnd","day","operation","props","view","centerYear","d","setView","name","setYear","y","setMonth","m","setDay","ds","yearsMeta","computed","years","monthsNames","months","v","previous","next","daysNames","field","noLabel","noValue","cleanable","initValue","calendarRef","openCalendar","setDate","dateStr","onCloseCalendar","closeCalendar","_b","_a","clean","__expose","createSlotRef","element","el","popover","target","setTarget","content","setContent","template","setTemplate","toX","key","autoId","onClose","onClosed","onOpen","onOpened","wrapper","body","onInserted","createPopover","Popover","nextTick","_c","_d","_e","_f","toggle","open","close","dispose","_h","_g","_i","_k","_j","header","onMounted","root","onUnmounted","ModalController","createComponent","Modal","createConfirm","title","message","noText","yesText","resolve","id","modal","h","Button","Icon","mdiCheckBold","confirm","cropperModal","cropperWrapper","cropper","image","uploading","dragOver","loadFiles","files","loadFile","handleDragOver","event","handleDragLeave","handleDrop","file","reader","base64","cropImage","imageDataFromBase64","imageData","uploadToServer","Crop","region","saveCrop","c","type","canvas","ctx","dangerToast","swatches","r","g","b","a","colors","color","api","data","closeCropModal","fancybox","Fancybox","remove","confirmed","addBtnHeight","gradient","positions","section","crop","aspectRatio","accept","width","height","options","prompt","optionsList","trueValue","falseValue","version","images","directive","binding","vnode","vCssVars","vDebounce","vue3Debounce","results","searchTags","ids","tag","canAdd","selected","add","random","select","AuthorModel","Model","RequiredRule","input","updateHtml","html","regex","text","subText","observer","mutationList","model","newModel","destroyModel","createModel","icon","author","config","block","__publicField","container","app","createApp","Author","blockContent","tools","TextVariantTune","Delimiter","Header","Paragraph","NestedList","Checklist","Table","Embed","ImageTool","metadata","RawTool","Warning","Alert","LinkTool","Underline","ColorPlugin","rtl","altitude","previewModal","editor","fullscreen","preview","previewClose","toggleFullscreen","EditorJS","outputData","error","base","layout","list","row","col","types","StringInput","TextInput","RadioInput","CheckInput","DateInput","ImageInput","FileInput","RangeInput","SelectInput","ToggleInput","GalleryInput","TagsInput","EditorInput","RepeaterInput","loading"],"mappings":"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,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,SACF,wBAEA,MAA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"}