import{g as $}from"./m0006e5d5f2f1d6ce.js";var O={exports:{}};(function(I,B){(function(N,_){I.exports=_()})(self,function(){return(()=>{var N={384:(a,p,u)=>{u.d(p,{Z:()=>g});var l=u(645),v=u.n(l)()(function(y){return y[1]});v.push([a.id,`.cdx-nested-list {
  margin: 0;
  padding: 0;
  outline: none;
  counter-reset: item;
  list-style: none;
}

  .cdx-nested-list__item {
    line-height: 1.6em;
    display: flex;
    margin: 2px 0;
  }

  .cdx-nested-list__item [contenteditable]{
      outline: none;
    }

  .cdx-nested-list__item-body {
      flex-grow: 2;
    }

  .cdx-nested-list__item-content,
    .cdx-nested-list__item-children {
      flex-basis: 100%;
    }

  .cdx-nested-list__item-content {
      word-break: break-word;
      white-space: pre-wrap;
    }

  .cdx-nested-list__item-children {}

  .cdx-nested-list__item::before {
      counter-increment: item;
      margin-right: 5px;
      white-space: nowrap;
    }

  .cdx-nested-list--ordered > .cdx-nested-list__item::before {
    content: counters(item, ".") ". ";
  }

  .cdx-nested-list--unordered > .cdx-nested-list__item::before {
    content: "â€¢";
  }

  .cdx-nested-list__settings {
    display: flex;
  }

  .cdx-nested-list__settings .cdx-settings-button {
      width: 50%;
    }
`,""]);const g=v},645:a=>{a.exports=function(p){var u=[];return u.toString=function(){return this.map(function(l){var v=p(l);return l[2]?"@media ".concat(l[2]," {").concat(v,"}"):v}).join("")},u.i=function(l,v,g){typeof l=="string"&&(l=[[null,l,""]]);var y={};if(g)for(var b=0;b<this.length;b++){var w=this[b][0];w!=null&&(y[w]=!0)}for(var S=0;S<l.length;S++){var e=[].concat(l[S]);g&&y[e[0]]||(v&&(e[2]?e[2]="".concat(v," and ").concat(e[2]):e[2]=v),u.push(e))}},u}},379:(a,p,u)=>{var l,v=function(){var i={};return function(r){if(i[r]===void 0){var s=document.querySelector(r);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch{s=null}i[r]=s}return i[r]}}(),g=[];function y(i){for(var r=-1,s=0;s<g.length;s++)if(g[s].identifier===i){r=s;break}return r}function b(i,r){for(var s={},d=[],h=0;h<i.length;h++){var f=i[h],m=r.base?f[0]+r.base:f[0],L=s[m]||0,k="".concat(m," ").concat(L);s[m]=L+1;var A=y(k),T={css:f[1],media:f[2],sourceMap:f[3]};A!==-1?(g[A].references++,g[A].updater(T)):g.push({identifier:k,updater:x(T,r),references:1}),d.push(k)}return d}function w(i){var r=document.createElement("style"),s=i.attributes||{};if(s.nonce===void 0){var d=u.nc;d&&(s.nonce=d)}if(Object.keys(s).forEach(function(f){r.setAttribute(f,s[f])}),typeof i.insert=="function")i.insert(r);else{var h=v(i.insert||"head");if(!h)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");h.appendChild(r)}return r}var S,e=(S=[],function(i,r){return S[i]=r,S.filter(Boolean).join(`
`)});function t(i,r,s,d){var h=s?"":d.media?"@media ".concat(d.media," {").concat(d.css,"}"):d.css;if(i.styleSheet)i.styleSheet.cssText=e(r,h);else{var f=document.createTextNode(h),m=i.childNodes;m[r]&&i.removeChild(m[r]),m.length?i.insertBefore(f,m[r]):i.appendChild(f)}}function n(i,r,s){var d=s.css,h=s.media,f=s.sourceMap;if(h?i.setAttribute("media",h):i.removeAttribute("media"),f&&typeof btoa<"u"&&(d+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(f))))," */")),i.styleSheet)i.styleSheet.cssText=d;else{for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(document.createTextNode(d))}}var o=null,c=0;function x(i,r){var s,d,h;if(r.singleton){var f=c++;s=o||(o=w(r)),d=t.bind(null,s,f,!1),h=t.bind(null,s,f,!0)}else s=w(r),d=n.bind(null,s,r),h=function(){(function(m){if(m.parentNode===null)return!1;m.parentNode.removeChild(m)})(s)};return d(i),function(m){if(m){if(m.css===i.css&&m.media===i.media&&m.sourceMap===i.sourceMap)return;d(i=m)}else h()}}a.exports=function(i,r){(r=r||{}).singleton||typeof r.singleton=="boolean"||(r.singleton=(l===void 0&&(l=!!(window&&document&&document.all&&!window.atob)),l));var s=b(i=i||[],r);return function(d){if(d=d||[],Object.prototype.toString.call(d)==="[object Array]"){for(var h=0;h<s.length;h++){var f=y(s[h]);g[f].references--}for(var m=b(d,r),L=0;L<s.length;L++){var k=y(s[L]);g[k].references===0&&(g[k].updater(),g.splice(k,1))}s=m}}}}},_={};function C(a){var p=_[a];if(p!==void 0)return p.exports;var u=_[a]={id:a,exports:{}};return N[a](u,u.exports,C),u.exports}C.n=a=>{var p=a&&a.__esModule?()=>a.default:()=>a;return C.d(p,{a:p}),p},C.d=(a,p)=>{for(var u in p)C.o(p,u)&&!C.o(a,u)&&Object.defineProperty(a,u,{enumerable:!0,get:p[u]})},C.o=(a,p)=>Object.prototype.hasOwnProperty.call(a,p);var E={};return(()=>{function a(S,e=null,t={}){const n=document.createElement(S);Array.isArray(e)?n.classList.add(...e):e&&n.classList.add(e);for(const o in t)n[o]=t[o];return n}function p(S){const e=a("div");return e.appendChild(S),e.innerHTML}function u(S){let e;return S.nodeType!==Node.ELEMENT_NODE?e=S.textContent:(e=S.innerHTML,e=e.replaceAll("<br>","")),e.trim().length===0}C.d(E,{default:()=>w});class l{constructor(){this.savedFakeCaret=void 0}save(){const e=l.range,t=a("span");t.hidden=!0,e.insertNode(t),this.savedFakeCaret=t}restore(){if(!this.savedFakeCaret)return;const e=window.getSelection(),t=new Range;t.setStartAfter(this.savedFakeCaret),t.setEndAfter(this.savedFakeCaret),e.removeAllRanges(),e.addRange(t),setTimeout(()=>{this.savedFakeCaret.remove()},150)}static get range(){const e=window.getSelection();return e&&e.rangeCount?e.getRangeAt(0):null}static extractFragmentFromCaretPositionTillTheEnd(){const e=window.getSelection();if(!e.rangeCount)return;const t=e.getRangeAt(0);let n=t.startContainer;n.nodeType!==Node.ELEMENT_NODE&&(n=n.parentNode);const o=n.closest("[contenteditable]");t.deleteContents();const c=t.cloneRange();return c.selectNodeContents(o),c.setStart(t.endContainer,t.endOffset),c.extractContents()}static focus(e,t=!0){const n=document.createRange(),o=window.getSelection();n.selectNodeContents(e),n.collapse(t),o.removeAllRanges(),o.addRange(n)}static isAtStart(){const e=window.getSelection();if(e.focusOffset>0)return!1;const t=e.focusNode;return l.getHigherLevelSiblings(t,"left").every(n=>u(n))}static getHigherLevelSiblings(e,t="left"){let n=e;const o=[];for(;n.parentNode&&n.parentNode.contentEditable!=="true";)n=n.parentNode;const c=t==="left"?"previousSibling":"nextSibling";for(;n[c];)n=n[c],o.push(n);return o}}const v='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>';var g=C(379),y=C.n(g),b=C(384);y()(b.Z,{insert:"head",singleton:!1}),b.Z.locals;class w{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return{icon:v,title:"List"}}constructor({data:e,config:t,api:n,readOnly:o}){this.nodes={wrapper:null},this.api=n,this.readOnly=o,this.config=t,this.defaultListStyle=this.config.defaultStyle==="ordered"?"ordered":"unordered";const c={style:this.defaultListStyle,items:[]};this.data=e&&Object.keys(e).length?e:c,this.caret=new l}render(){return this.nodes.wrapper=this.makeListWrapper(this.data.style,[this.CSS.baseBlock]),this.data.items.length?this.appendItems(this.data.items,this.nodes.wrapper):this.appendItems([{content:"",items:[]}],this.nodes.wrapper),this.readOnly||this.nodes.wrapper.addEventListener("keydown",e=>{switch(e.key){case"Enter":this.enterPressed(e);break;case"Backspace":this.backspace(e);break;case"Tab":e.shiftKey?this.shiftTab(e):this.addTab(e)}},!1),this.nodes.wrapper}renderSettings(){return[{name:"unordered",label:this.api.i18n.t("Unordered"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>'},{name:"ordered",label:this.api.i18n.t("Ordered"),icon:v}].map(e=>({name:e.name,icon:e.icon,label:e.label,isActive:this.data.style===e.name,closeOnActivate:!0,onActivate:()=>{this.listStyle=e.name}}))}static get pasteConfig(){return{tags:["OL","UL","LI"]}}onPaste(e){const t=e.detail.data;this.data=this.pasteHandler(t);const n=this.nodes.wrapper;n&&n.parentNode.replaceChild(this.render(),n)}pasteHandler(e){const{tagName:t}=e;let n,o;switch(t){case"OL":n="ordered",o="ol";break;case"UL":case"LI":n="unordered",o="ul"}const c={style:n,items:[]},x=i=>Array.from(i.querySelectorAll(":scope > li")).map(r=>{var h;const s=r.querySelector(`:scope > ${o}`),d=s?x(s):[];return{content:((h=r==null?void 0:r.firstChild)==null?void 0:h.textContent)||"",items:d}});return c.items=x(e),c}appendItems(e,t){e.forEach(n=>{const o=this.createItem(n.content,n.items);t.appendChild(o)})}createItem(e,t=[]){const n=a("li",this.CSS.item),o=a("div",this.CSS.itemBody),c=a("div",this.CSS.itemContent,{innerHTML:e,contentEditable:!this.readOnly});return o.appendChild(c),n.appendChild(o),t&&t.length>0&&this.addChildrenList(n,t),n}save(){const e=t=>Array.from(t.querySelectorAll(`:scope > .${this.CSS.item}`)).map(n=>{const o=n.querySelector(`.${this.CSS.itemChildren}`);return{content:this.getItemContent(n),items:o?e(o):[]}});return{style:this.data.style,items:e(this.nodes.wrapper)}}addChildrenList(e,t){const n=e.querySelector(`.${this.CSS.itemBody}`),o=this.makeListWrapper(void 0,[this.CSS.itemChildren]);this.appendItems(t,o),n.appendChild(o)}makeListWrapper(e=this.listStyle,t=[]){const n=e==="ordered"?"ol":"ul",o=e==="ordered"?this.CSS.wrapperOrdered:this.CSS.wrapperUnordered;return t.push(o),a(n,[this.CSS.wrapper,...t])}get CSS(){return{baseBlock:this.api.styles.block,wrapper:"cdx-nested-list",wrapperOrdered:"cdx-nested-list--ordered",wrapperUnordered:"cdx-nested-list--unordered",item:"cdx-nested-list__item",itemBody:"cdx-nested-list__item-body",itemContent:"cdx-nested-list__item-content",itemChildren:"cdx-nested-list__item-children",settingsWrapper:"cdx-nested-list__settings",settingsButton:this.api.styles.settingsButton,settingsButtonActive:this.api.styles.settingsButtonActive}}get listStyle(){return this.data.style||this.defaultListStyle}set listStyle(e){const t=Array.from(this.nodes.wrapper.querySelectorAll(`.${this.CSS.wrapper}`));t.push(this.nodes.wrapper),t.forEach(n=>{n.classList.toggle(this.CSS.wrapperUnordered,e==="unordered"),n.classList.toggle(this.CSS.wrapperOrdered,e==="ordered")}),this.data.style=e}get currentItem(){let e=window.getSelection().anchorNode;return e.nodeType!==Node.ELEMENT_NODE&&(e=e.parentNode),e.closest(`.${this.CSS.item}`)}enterPressed(e){const t=this.currentItem;e.stopPropagation(),e.preventDefault();const n=this.getItemContent(t).trim().length===0,o=t.parentNode===this.nodes.wrapper,c=t.nextElementSibling===null;if(o&&c&&n)return void this.getOutOfList();if(c&&n)return void this.unshiftItem();const x=p(l.extractFragmentFromCaretPositionTillTheEnd()),i=t.querySelector(`.${this.CSS.itemChildren}`),r=this.createItem(x,void 0);i&&Array.from(i.querySelectorAll(`.${this.CSS.item}`)).length>0?i.prepend(r):t.after(r),this.focusItem(r)}unshiftItem(){const e=this.currentItem,t=e.parentNode.closest(`.${this.CSS.item}`);if(!t)return;this.caret.save(),t.after(e),this.caret.restore();const n=t.querySelector(`.${this.CSS.itemChildren}`);n.children.length===0&&n.remove()}getItemContent(e){const t=e.querySelector(`.${this.CSS.itemContent}`);return u(t)?"":t.innerHTML}focusItem(e,t=!0){const n=e.querySelector(`.${this.CSS.itemContent}`);l.focus(n,t)}getOutOfList(){this.currentItem.remove(),this.api.blocks.insert(),this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex())}backspace(e){if(!l.isAtStart())return;e.preventDefault();const t=this.currentItem,n=t.previousSibling,o=t.parentNode.closest(`.${this.CSS.item}`);if(!n&&!o)return;let c;if(e.stopPropagation(),n){const s=n.querySelectorAll(`.${this.CSS.item}`);c=Array.from(s).pop()||n}else c=o;const x=p(l.extractFragmentFromCaretPositionTillTheEnd()),i=c.querySelector(`.${this.CSS.itemContent}`);l.focus(i,!1),this.caret.save(),i.insertAdjacentHTML("beforeend",x);let r=t.querySelectorAll(`.${this.CSS.itemChildren} > .${this.CSS.item}`);r=Array.from(r),r=r.filter(s=>s.parentNode.closest(`.${this.CSS.item}`)===t),r.reverse().forEach(s=>{n?c.after(s):t.after(s)}),t.remove(),this.caret.restore()}addTab(e){e.stopPropagation(),e.preventDefault();const t=this.currentItem,n=t.previousSibling;if(!n)return;const o=n.querySelector(`.${this.CSS.itemChildren}`);if(this.caret.save(),o)o.appendChild(t);else{const c=this.makeListWrapper(void 0,[this.CSS.itemChildren]),x=n.querySelector(`.${this.CSS.itemBody}`);c.appendChild(t),x.appendChild(c)}this.caret.restore()}shiftTab(e){e.stopPropagation(),e.preventDefault(),this.unshiftItem()}static joinRecursive(e){return e.items.map(t=>`${t.content} ${w.joinRecursive(t)}`).join("")}static get conversionConfig(){return{export:e=>w.joinRecursive(e),import:e=>({items:[{content:e,items:[]}],style:"unordered"})}}}})(),E.default})()})})(O);var M=O.exports;const j=$(M);export{j as N};
//# sourceMappingURL=mfe9c7759b05c1c34.js.map
