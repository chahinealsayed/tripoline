{"version":3,"file":"EditorView.js","sources":["../../../../resources/js/modules/editor/core/view.ts","../../../../resources/js/modules/editor/views/header.ts","../../../../resources/js/modules/editor/views/paragraph.ts","../../../../resources/js/modules/editor/views/image.ts","../../../../resources/js/modules/editor/views/raw.ts","../../../../resources/js/modules/editor/views/table.ts","../../../../resources/js/modules/editor/views/embed.ts","../../../../resources/js/modules/editor/views/delimiter.ts","../../../../resources/js/modules/editor/views/quote.ts","../../../../resources/js/modules/editor/views/list.ts","../../../../resources/js/modules/editor/views/checklist.ts","../../../../resources/js/modules/editor/views/alert.ts","../../../../resources/js/modules/editor/views/warning.ts","../../../../resources/js/modules/editor/views/link-tool.ts","../../../../resources/js/modules/editor/views/author.ts","../../../../resources/js/modules/editor/tunes/text-variant.ts","../../../../resources/js/modules/editor/core/tunes.ts","../../../../resources/js/modules/editor/core/renderer.ts","../../../../resources/js/modules/editor/components/EditorView.vue"],"sourcesContent":["import { autoId } from \"@/lib/helper/strings\"\r\n\r\nexport abstract class View {\r\n\t#id: string\r\n\r\n\tconstructor(protected block: any) {\r\n\t\tthis.#id = autoId(\"block\")\r\n\t}\r\n\r\n\tget id(): string {\r\n\t\treturn `${this.#id}-${this.block.id}`\r\n\t}\r\n\tabstract render(): string\r\n\r\n\tget classes(): string[] {\r\n\t\treturn []\r\n\t}\r\n}\r\n","import { View } from \"@/modules/editor/core/view\"\r\n\r\nexport default class extends View {\r\n\trender(): string {\r\n\t\tconst { text, level, alignment } = this.block.data\r\n\r\n\t\treturn `\r\n            <h${level} style=\"text-align: ${alignment};\">${text}</h${level}>\r\n        `\r\n\t}\r\n}\r\n","import { View } from \"@/modules/editor/core/view\"\r\n\r\nexport default class extends View {\r\n\trender(): string {\r\n\t\tconst { text, alignment } = this.block.data\r\n\r\n\t\treturn `\r\n            <p style=\"text-align: ${alignment};\">${text}</p>\r\n        `\r\n\t}\r\n}\r\n","import { View } from \"@/modules/editor/core/view\"\r\n\r\nexport default class extends View {\r\n\trender(): string {\r\n\t\tconst { file, caption } =\r\n\t\t\tthis.block.data\r\n\r\n\t\treturn `\r\n            <figure class=\"figure\" data-size=\"${file.size}\" data-width=\"${\r\n\t\t\tfile.width\r\n\t\t}\" data-height=\"${file.height}\" data-mime=\"${file.mime}\" data-bit=\"${\r\n\t\t\tfile.bit\r\n\t\t}\">\r\n                <img src=\"${file.url}\" alt=\"${\r\n\t\t\tcaption || file.url\r\n\t\t}\" style=\"max-width: 100%;\" >\r\n                ${(caption && `<figcaption>${caption}</figcaption>`) || \"\"}\r\n            </figure>\r\n        `\r\n\t}\r\n\r\n\tget classes(): string[] {\r\n\t\tconst { withBorder, stretched, withBackground } = this.block.data\r\n\r\n\t\tconst out: string[] = []\r\n\t\tif (withBorder) {\r\n\t\t\tout.push(\"image-border\")\r\n\t\t}\r\n\t\tif (stretched) {\r\n\t\t\tout.push(\"image-stretched\")\r\n\t\t}\r\n\t\tif (withBackground) {\r\n\t\t\tout.push(\"image-bg\")\r\n\t\t}\r\n\t\treturn out\r\n\t}\r\n}\r\n","import { View } from \"@/modules/editor/core/view\"\r\n\r\nexport default class extends View {\r\n\trender(): string {\r\n\t\tconst { html } = this.block.data\r\n\r\n\t\treturn `\r\n            ${html}\r\n        `\r\n\t}\r\n}\r\n","import { View } from \"@/modules/editor/core/view\"\r\n\r\nexport default class extends View {\r\n\trender(): string {\r\n\t\tconst { withHeadings, content } = this.block.data\r\n\r\n\t\tlet header = \"\"\r\n\t\tif (withHeadings === \"true\") {\r\n\t\t\theader = `\r\n                <thead>\r\n                    <tr>\r\n                        ${content?.[0]?.map((text: string) => `<th>${text}</th>`)?.join('') ?? \"\"}\r\n                    </tr>\r\n                </thead>\r\n            `\r\n\t\t\tcontent.splice(0, 1)\r\n\t\t}\r\n\r\n\t\treturn `\r\n            <div class=\"table-responsive\">\r\n                <table class=\"table table-bordered table-hover\">\r\n                    ${header}\r\n                    <tbody>\r\n                        ${content?.map((line: string[]) => `\r\n                            <tr>${line?.map((text: string) => `<td>${text}</td>`)?.join('') ?? \"\"}</tr>\r\n                        `)?.join('') ?? \"\"}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        `\r\n\t}\r\n}\r\n","import { View } from \"@/modules/editor/core/view\"\r\n\r\nexport default class extends View {\r\n\trender(): string {\r\n\t\tconst {\r\n\t\t\tservice,\r\n\t\t\tsource,\r\n\t\t\tembed,\r\n\t\t\twidth = 700,\r\n\t\t\theight = 400,\r\n\t\t\tcaption,\r\n\t\t} = this.block.data\r\n\r\n\t\treturn `\r\n            <div style=\"display: flex; width: 100%; height: ${height}px; flex-direction: column; overflow: hidden;\">\r\n                <iframe src=\"${embed}\" width=\"${width}\" height=\"${height}\" style=\"--width:${width}px;--height:${height}px; flex-grow: 1; border: none; margin: 0; padding: 0;\" data-url=\"${source}\"></iframe>\r\n                ${caption ? `<div class=\"caption\">${caption}</div>` : ''}\r\n            </div>\r\n        `\r\n\t}\r\n\r\n\tget classes(): string[] {\r\n\t\tconst { service } = this.block.data\r\n\t\treturn [service]\r\n\t}\r\n}\r\n","import { View } from \"@/modules/editor/core/view\"\r\n\r\nexport default class extends View {\r\n\trender(): string {\r\n\t\treturn ``\r\n\t}\r\n}\r\n","import { View } from \"@/modules/editor/core/view\"\r\n\r\nexport default class extends View {\r\n\trender(): string {\r\n\t\tconst { text, caption, alignment } = this.block.data\r\n\r\n\t\treturn `\r\n            <div class=\"text\" style=\"text-align:${alignment}\">${text}</div>\r\n            <div class=\"caption\">${caption}</div>\r\n        `\r\n\t}\r\n}\r\n","import { View } from \"@/modules/editor/core/view\"\r\n\r\nexport default class extends View {\r\n\trender(): string {\r\n\t\tconst { items, style } = this.block.data\r\n\r\n        const tg = style === 'ordered' ? 'ol' : 'ul'\r\n\r\n\t\treturn renderList(tg, items)\r\n\t}\r\n}\r\n\r\nfunction renderList(tg, items){\r\n    return `\r\n            <${tg}>\r\n                ${items.map(({ content, items = [] }: any) => `<li><div>${content}</div>${renderList(tg, items)}</li>`).join('')}\r\n            </${tg}>\r\n        `\r\n}\r\n","import { icon } from \"@/lib/helper/strings\"\r\nimport { View } from \"@/modules/editor/core/view\"\r\nimport {  mdiCheckboxBlankOutline, mdiCheckboxMarkedOutline } from \"@mdi/js\"\r\n\r\nexport default class extends View {\r\n\trender(): string {\r\n\t\tconst { items, style } = this.block.data\r\n\r\n        const tg = style === 'ordered' ? 'ol' : 'ul'\r\n\r\n\t\treturn `\r\n            <${tg}>\r\n                ${items.map(({ text, checked }: any) => `<li class=\"${checked?'checked':''}\">${icon({path: checked?mdiCheckboxMarkedOutline:mdiCheckboxBlankOutline})}&nbsp;${text}</li>`).join('')}\r\n            </${tg}>\r\n        `\r\n\t}\r\n}\r\n","import { View } from \"@/modules/editor/core/view\"\r\n\r\nexport default class extends View {\r\n\trender(): string {\r\n\t\tconst { type, message } = this.block.data\r\n\r\n\t\treturn `\r\n            <div class=\"alert alert-${type}\">${message}</div>\r\n        `\r\n\t}\r\n}\r\n","import { View } from \"@/modules/editor/core/view\"\r\n\r\nexport default class extends View {\r\n\trender(): string {\r\n\t\tconst { title, message } = this.block.data\r\n\r\n\t\treturn `\r\n            <div class=\"alert alert-warning\">\r\n                <h3>${title}</h3>\r\n                <p>${message}</p>\r\n            </div>\r\n        `\r\n\t}\r\n}\r\n","import { View } from \"@/modules/editor/core/view\"\r\n\r\nexport default class extends View {\r\n\trender(): string {\r\n\t\tconst { link, meta : { image : { url }, title, description, keywords, site_name } } = this.block.data\r\n\r\n\t\treturn `\r\n            <a href=\"${link}\" target=\"_blank\" class=\"link-view\">\r\n                <div class=\"image\" style=\"--image: url(${url});\"></div>\r\n                <div class=\"info\">\r\n                    <h4 class=\"title\">${title}</h4>\r\n                    <p class=\"description\">${description}</p>\r\n                    <div class=\"keywords\">${keywords}</div>\r\n                    <div class=\"site\">${site_name}</div>\r\n                </div>\r\n            </a>\r\n        `\r\n\t}\r\n}\r\n","import { nl2br } from '@/lib/helper/strings';\r\nimport { View } from \"@/modules/editor/core/view\"\r\n\r\nexport default class extends View {\r\n\trender(): string {\r\n\t\tconst { name, bio, image } = this.block.data\r\n\r\n\t\treturn `\r\n            <div class=\"card\">\r\n                <img src=\"${image.url}\" class=\"card-img-top\" >\r\n                <div class=\"card-body\">\r\n                    <h5 class=\"card-title\">${nl2br(name)}</h5>\r\n                    <p class=\"card-text\">${nl2br(bio)}</p>\r\n                </div>\r\n            </div>\r\n        `\r\n\t}\r\n}\r\n","export default {\r\n    'call-out' : (content: string) => `<div class=\"tunes tunes-call-out\">${content}</div>`,\r\n    citation : (content: string) => `<div class=\"tunes tunes-citation\">${content}</div>`,\r\n    details : (content: string) => `<div class=\"tunes tunes-details\">${content}</div>`,\r\n}\r\n","import * as list from \"@/modules/editor/tunes\"\r\n\r\nexport function tunes(content: string, block: any) {\r\n\tif (\r\n\t\tObject.hasOwn(block.tunes, \"textVariant\") &&\r\n\t\tObject.hasOwn(list, \"textVariant\")\r\n\t) {\r\n\t\tconst variant = list.textVariant.default?.[block.tunes?.textVariant] ?? null\r\n\t\tif (variant) {\r\n\t\t\treturn variant(content)\r\n\t\t}\r\n\t}\r\n\treturn content\r\n}\r\n","import * as list from \"@/modules/editor/views\"\r\nimport { tunes } from \"./tunes\"\r\n\r\nexport type Content = {\r\n\ttime: string\r\n\tversion: string\r\n\tblocks: any[]\r\n}\r\n\r\nexport function render(content: Content) {\r\n\tconst out: string[] = []\r\n\tcontent?.blocks?.forEach?.((item: any) => {\r\n\t\tif (Object.hasOwn(list, item.type)) {\r\n\t\t\tconst cls = list[item.type].default\r\n\t\t\tconst block = new cls(item)\r\n\t\t\tout.push(`\r\n                <div id=\"${block.id}\" class=\"block block-${item.type} ${block.classes.join(' ')}\">\r\n                    ${tunes(block.render(), item)}\r\n                </div>\r\n            `)\r\n\t\t}\r\n\t})\r\n\treturn out.join(\"\") ?? \"\"\r\n}\r\n","<script setup lang=\"ts\">\r\nimport { computed, onMounted, ref } from \"vue\";\r\nimport { render, Content } from \"../core/renderer\";\r\n\r\ntype Props = {\r\n  content: Content;\r\n  rtl?: boolean;\r\n};\r\n\r\nconst { content, rtl = false } = defineProps<Props>();\r\n\r\nconst container = ref<any>(null);\r\n\r\nconst direction = rtl ? \"rtl\" : \"ltr\";\r\nconst align = rtl ? \"right !important\" : \"left\";\r\n\r\nconst html = computed(() => render(content));\r\n\r\nconst adjustEmbedIframes = () => {\r\n  const embeds = container.value?.querySelectorAll?.(\".block-embed\") ?? [];\r\n  embeds.forEach((node: any) => {\r\n    const iframe = node.querySelector(\"iframe\");\r\n    if (iframe) {\r\n      iframe.addEventListener(\"load\", (e: any) => {\r\n        // iframe.style.height = '900px'\r\n        // setTimeout(() => {\r\n        //     // iframe.style.height = iframe.contentWindow.document.body.scrollHeight + 'px'\r\n        //     iframe.style.height = iframe.contentWindow.document.scrollingElement + 'px'\r\n        // }, 2000)\r\n      });\r\n    }\r\n  });\r\n};\r\n\r\nonMounted(() => {\r\n  adjustEmbedIframes();\r\n});\r\n</script>\r\n<template>\r\n  <div class=\"editor-view-wrapper\">\r\n    <div ref=\"container\" v-html=\"html\" class=\"editor-view\"></div>\r\n  </div>\r\n</template>\r\n<style lang=\"scss\">\r\n@import \"@scss/config/colors\";\r\n@import \"@scss/mixins/font-size\";\r\n@import \"@scss/mixins/dark\";\r\n\r\n.editor-view-wrapper {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  .editor-view {\r\n    position: relative;\r\n    padding: 10px;\r\n    background: $white;\r\n    width: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    direction: v-bind(direction);\r\n    text-align: v-bind(align);\r\n    @include dark {\r\n      background: $gray-9;\r\n    }\r\n\r\n    .tunes {\r\n      position: relative;\r\n\r\n      &-call-out {\r\n        padding: 10px;\r\n        border: 1px solid #f44336;\r\n        outline: 5px solid #ffcdd2;\r\n        border-radius: 10px;\r\n      }\r\n\r\n      &-citation {\r\n        font-style: italic;\r\n      }\r\n\r\n      &-details {\r\n        @include font-size(0.9);\r\n      }\r\n    }\r\n\r\n    .block {\r\n      position: relative;\r\n      width: 920px;\r\n      max-width: 100%;\r\n\r\n      &-delimiter {\r\n        height: 50px;\r\n      }\r\n\r\n      &-header {\r\n        position: relative;\r\n\r\n        h1,\r\n        h2,\r\n        h3,\r\n        h4,\r\n        h5,\r\n        h6 {\r\n          margin: 0;\r\n          padding: 0;\r\n        }\r\n      }\r\n\r\n      &-paragraph {\r\n        @include font-size(1);\r\n        color: $gray-7;\r\n        line-height: 25px;\r\n        @include dark {\r\n          color: $gray-2;\r\n        }\r\n\r\n        p {\r\n          margin: 0;\r\n          padding: 0;\r\n        }\r\n      }\r\n\r\n      &-quote {\r\n        .text {\r\n          @include font-size(1);\r\n          color: $gray-7;\r\n          line-height: 25px;\r\n          padding: 5px 0;\r\n          @include dark {\r\n            color: $gray-2;\r\n          }\r\n        }\r\n\r\n        .caption {\r\n          font-weight: bold;\r\n          @include font-size(1);\r\n          color: $gray-7;\r\n          @include dark {\r\n            color: $gray-2;\r\n          }\r\n        }\r\n      }\r\n\r\n      &-image {\r\n        position: relative;\r\n\r\n        &.image-bg {\r\n          padding: 50px;\r\n          background: #883997;\r\n        }\r\n\r\n        &.image-border {\r\n          border: 1px solid $gray-5;\r\n          @include dark {\r\n            color: $gray-3;\r\n          }\r\n        }\r\n\r\n        &.image-stretched {\r\n          width: 100%;\r\n          display: flex;\r\n          flex-direction: column;\r\n          align-items: center;\r\n        }\r\n\r\n        .figure {\r\n          position: relative;\r\n\r\n          img {\r\n            display: block;\r\n            max-width: 100%;\r\n            border-radius: 5px;\r\n          }\r\n\r\n          figcaption {\r\n            background: $white;\r\n            color: $gray-8;\r\n            padding: 5px;\r\n            margin-top: 5px;\r\n            border-radius: 5px;\r\n            text-align: center;\r\n            @include dark {\r\n              color: $gray-1;\r\n              background: $gray-9;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      &-linkTool {\r\n        position: relative;\r\n\r\n        .link-view {\r\n          position: relative;\r\n          display: flex;\r\n          flex-direction: row;\r\n          width: 100%;\r\n          text-decoration: none;\r\n          gap: 10px;\r\n\r\n          .image {\r\n            min-width: 150px;\r\n            aspect-ratio: 1;\r\n            background: var(--image) no-repeat center;\r\n            background-size: 100% auto;\r\n          }\r\n\r\n          .info {\r\n            flex: auto;\r\n            display: flex;\r\n            flex-direction: column;\r\n            gap: 5px;\r\n\r\n            .title {\r\n              @include font-size(1.2);\r\n              color: $gray-8;\r\n              font-weight: bold;\r\n              margin: 0;\r\n              padding: 0;\r\n              @include dark {\r\n                color: $gray-1;\r\n              }\r\n            }\r\n\r\n            .description {\r\n              color: $gray-6;\r\n              @include font-size(0.9);\r\n              margin: 0;\r\n              padding: 0;\r\n              line-height: 22px;\r\n              @include dark {\r\n                color: $gray-2;\r\n              }\r\n            }\r\n\r\n            .keywords {\r\n              color: $gray-5;\r\n              @include font-size(0.8);\r\n              @include dark {\r\n                color: $gray-2;\r\n              }\r\n            }\r\n\r\n            .site {\r\n              color: $primary;\r\n              font-weight: bold;\r\n              @include font-size(1);\r\n              @include dark {\r\n                color: $info;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      &-embed {\r\n        position: relative;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: center;\r\n        align-items: center;\r\n        gap: 10px;\r\n\r\n        iframe {\r\n          max-width: 100%;\r\n          height: 100%;\r\n        }\r\n\r\n        .caption {\r\n          background: $white;\r\n          color: $gray-8;\r\n          padding: 5px;\r\n          border-radius: 5px;\r\n          text-align: center;\r\n          @include dark {\r\n            color: $gray-1;\r\n            background: $black;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"names":["View","block","__privateAdd","_id","__privateSet","autoId","__privateGet","header","text","level","alignment","paragraph","image","file","caption","withBorder","stretched","withBackground","out","raw","html","table","withHeadings","content","_b","_a","_c","line","embed","service","source","width","height","delimiter","quote","list$2","items","style","renderList","tg","checklist","checked","icon","mdiCheckboxMarkedOutline","mdiCheckboxBlankOutline","alert","type","message","warning","title","linkTool","link","url","description","keywords","site_name","author","name","bio","nl2br","textVariant","tunes","list","variant","list.textVariant.default","render","item","cls","container","ref","direction","__props","align","computed","adjustEmbedIframes","node","iframe","e","onMounted"],"mappings":"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"}