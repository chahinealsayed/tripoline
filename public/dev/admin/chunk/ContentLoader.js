var et=Object.defineProperty;var tt=(t,l,e)=>l in t?et(t,l,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[l]=e;var ye=(t,l,e)=>(tt(t,typeof l!="symbol"?l+"":l,e),e);import{R as at}from"./RadioInput.js";import{F as ae,S as Ae,B as ie,d as lt,e as ke,b as fe,M as ot,a as nt,c as st}from"./StringInput.js";import{T as rt}from"./TextInput.js";import{I as j}from"./Icon.js";import{t as he,q as it,r as ut,j as me,C as ct,D as Ie,a as Le,E as dt,F as pt,G as vt,i as Me}from"./m6cd080c8112b9076.js";import{d as P,w as we,k as v,l as x,B as W,t as I,q as k,u as M,m as J,s as f,p as g,F as S,C as oe,v as H,c as ee,a as B,r as te,o as ge,f as Fe,T as ft,n as Te,G as be,z as We,A as qe,y as de,D as ht}from"./mc55b2a42316522d6.js";import{r as w,u as s}from"./m6bdda40d8bd2cf5a.js";import{J as K,x as U,K as V,y as mt}from"./ma6cfd38af5d4c661.js";import{_ as z}from"./_plugin-vue_export-helper.js";import{M as _e}from"./Modal.js";import{w as q,u as Se,v as Je,a as Re,c as gt}from"./m78c574d5c3843a3d.js";import{i as Q,t as Ft,m as Ce}from"./index.js";import{P as _t}from"./m3fc8d974e5d8216d.js";import{b as Ke,r as yt}from"./strings.js";import{C as bt}from"./md74f29767a891470.js";import{_ as Xe}from"./md825331c71ee2150.js";import{v as Ct}from"./mb498c278f04b6af0.js";import{f as $t}from"./m9d53afba68c66192.js";import{E as Et}from"./EditorView.js";import{H as Dt}from"./me2dc73ba3ddff3a0.js";import{L as kt}from"./m91cc365b03266d60.js";import{R as wt}from"./m83ea0bef6cab8431.js";import{E as Bt}from"./m2386e084f602c82c.js";import{C as At}from"./mb8063646094169aa.js";import{I as It}from"./m739ab1bf02c2db17.js";import{T as Lt}from"./mdbebdd5e57731077.js";import{P as Tt}from"./mab64b07d054bfd6d.js";import{C as Ve}from"./m7d7a7c6d011d9316.js";import{N as St}from"./mfe9c7759b05c1c34.js";import{U as xt}from"./m00b1a7b3e0dbba07.js";import{T as Mt}from"./m89ff8ec026ac6cd4.js";import{D as Rt}from"./m5ac4d662e96449dd.js";import{W as Vt}from"./m0006e5d5f2f1d6ce.js";import{A as Pt}from"./m80659984369ac5fa.js";const zt={class:"options"},Ht=["name","id","value","checked"],Ut=["for"],jt=["innerHTML"],Nt=P({inheritAttrs:!1,__name:"checkInput",props:{field:{},noLabel:{type:Boolean,default:!1},options:{},inline:{type:Boolean,default:!1}},emits:["change","remove"],setup(t,{emit:l}){const e=w(t.options);we(()=>t.options,a=>{e.value=a},{deep:!0});const o=a=>{let d=t.field.value;if(Array.isArray(d)||(d=[]),a.target.checked)d=[...new Set([...d,a.target.value])];else{const h=d.findIndex(r=>`${r}`==`${a.target.value}`);h>=0&&d.splice(h,1)}t.field.update(d),l("change",d)},n=a=>{t.field.touch(a)},i=a=>{t.field.blur(a)};return(a,d)=>(v(),x(ae,{field:a.field,"no-label":a.noLabel},W({default:k(({id:h})=>[f("div",zt,[(v(!0),g(S,null,I(e.value,(r,u)=>{var c,p;return v(),g(S,{key:u},[r==="delimiter"?(v(),g("div",{key:0,class:U({delimiter:!0,inline:a.inline})},null,2)):(v(),g("div",{key:1,class:U(["form-check",{"form-check-inline":a.inline}])},[f("input",oe({class:"form-check-input",type:"checkbox",name:`${a.field.name}[${u}]`,id:`${h}-${u}`,value:r.value},a.$attrs,{onInput:o,onFocus:n,onBlur:i,checked:((p=(c=a.field)==null?void 0:c.value)==null?void 0:p.includes(r.value))??!1}),null,16,Ht),f("label",{class:"form-check-label position-relative",for:`${h}-${u}`},[f("div",{innerHTML:r.label,class:U({"ps-3":r.deletable})},null,10,jt),r.deletable?(v(),x(j,{key:0,path:s(he),color:"danger",class:"position-absolute top-0 start-0"},null,8,["path"])):H("",!0)],8,Ut)],2))],64)}),128))])]),_:2},[I(a.$slots,(h,r)=>({name:r,fn:k(u=>[M(a.$slots,r,K(J({...u})),void 0,!0)])}))]),1032,["field","no-label"]))}});const Ot=z(Nt,[["__scopeId","data-v-d384a385"],["__file","checkInput.vue"]]);function pe(t,l){const e=[];let o=0;for(;o<t.length;)e.push(t.slice(o,l+o)),o+=l;return e}function Gt(t,l,{filterBy:e="parent_id",filterValue:o=null,prefix:n="",level:i=0,delimiter:a="|__"}){let d=[];return l.filter(r=>r[e]===o).forEach(r=>{const u=Gt(t,l,{filterBy:e,filterValue:r.id,prefix:`${n}${a}`,level:i+1,delimiter:a});d.push(t(r,n,i,u.length>0)),d=[...d,...u]}),d}function Pe(t,l){return t<0?(t=11,l--):t>11&&(t=0,l++),32-new Date(l,t,32).getDate()}function Yt(t,l){let o=new Date(l,t,1).getDay()-1;return o<0&&(o=6),o}function Wt(t,l,e){const o=new Date,n=[],i=Pe(t,l),a=Yt(t,l),d=Pe(t-1,l);let h=0,r=d-a;for(let c=0;c<a;c++){r++;let p=$e(l,t,r,"--");n.push({text:r,today:p.toDateString()===o.toDateString(),type:"previous",date:ve(p),day:p.getDate(),active:Ee(p,e)}),h++}for(let c=1;c<=i;c++){let p=$e(l,t,c);n.push({text:c,today:p.toDateString()===o.toDateString(),type:"current",date:ve(p),day:p.getDate(),active:Ee(p,e)}),h++}let u=42-h;for(let c=0;c<u;c++){let p=$e(l,t,c+1,"++");n.push({text:c+1,today:p.toDateString()===o.toDateString(),type:"next",date:ve(p),day:p.getDate(),active:Ee(p,e)})}return n}function $e(t,l,e,o=""){return o==="--"?l--:o==="++"&&l++,l<0?(l=11,t--):l>11&&(l=0,t++),new Date(t,l,e)}function ve(t){return`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")}`}function Ee(t,l){return t.getFullYear()===l.getFullYear()&&t.getMonth()===l.getMonth()&&t.getDate()===l.getDate()}const qt={class:"calendar-component"},Jt={class:"card"},Kt={class:"card-header"},Xt={class:"row"},Qt={class:"col text-center"},Zt={class:"col-sm-8"},ea={class:"heading"},ta={class:"col text-center"},aa={class:"card-body"},la=["onClick"],oa=["onClick"],na={class:"row"},sa={class:"day-name"},ra=["onClick"],ia=P({__name:"Calendar",props:{date:{type:[String,Object],default:()=>new Date}},emits:["change","done"],setup(t,{emit:l}){const e=t;let o=w(e.date?e.date instanceof Date?e.date:new Date(e.date):new Date);const n=w(o.value.getDate()),i=w(o.value.getMonth()),a=w(o.value.getFullYear()),d=w("dates"),h=w(a.value);we(o,A=>{l("change",ve(A))},{immediate:!0}),we(a,A=>{h.value=A});const r=A=>{d.value=A},u=A=>{a.value=A,o.value=new Date(a.value,i.value,n.value),r("months")},c=(A,O)=>{i.value=A,a.value=O,o.value=new Date(a.value,i.value,n.value),r("dates")},p=A=>{o.value=new Date(A),n.value=o.value.getDate(),i.value=o.value.getMonth(),a.value=o.value.getFullYear(),l("done")},m=ee(()=>({from:h.value-7,to:h.value+7})),F=ee(()=>{const A=[];for(let O=m.value.from;O<=m.value.to;O++)A.push(O);return pe(A,3)}),_=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],b=ee(()=>{const A=_.map((O,Y)=>({value:Y,name:O}));return pe(A,3)}),$=()=>{d.value==="years"?h.value-=15:d.value==="months"?a.value--:d.value==="dates"&&(i.value--,i.value<0&&(i.value=11,a.value--)),o.value=new Date(a.value,i.value,n.value)},T=()=>{d.value==="years"?h.value+=15:d.value==="months"?a.value++:d.value==="dates"&&(i.value++,i.value>11&&(i.value=0,a.value++)),o.value=new Date(a.value,i.value,n.value)},R=["Mo","Tu","We","Th","Fr","Sa","Su"],N=ee(()=>pe(Wt(i.value,a.value,o.value),7));return(A,O)=>(v(),g("div",qt,[f("div",Jt,[f("div",Kt,[f("div",Xt,[f("div",Qt,[B(j,{path:s(it),onClick:O[0]||(O[0]=q(Y=>$(),["stop","prevent"]))},null,8,["path"])]),f("div",Zt,[f("div",ea,[d.value==="years"?(v(),g(S,{key:0},[f("strong",{class:U({"text-dark":!s(Q)(),"text-light":s(Q)()})},V(m.value.from),3),te(" - "),f("strong",{class:U({"text-dark":!s(Q)(),"text-light":s(Q)()})},V(m.value.to),3)],64)):H("",!0),d.value==="months"?(v(),g("strong",{key:1,class:U({"text-dark":!s(Q)(),"text-light":s(Q)()}),onClick:O[1]||(O[1]=q(Y=>r("years"),["stop","prevent"]))},V(a.value),3)):H("",!0),d.value==="dates"?(v(),g("div",{key:2,onClick:O[2]||(O[2]=q(Y=>r("months"),["stop","prevent"]))},[f("strong",{class:U({"text-dark":!s(Q)(),"text-light":s(Q)()})},V(s(o).getDate().toString().padStart(2,"0")),3),te("   "),f("strong",{class:U({"text-dark":!s(Q)(),"text-light":s(Q)()})},V(_[s(o).getMonth()]),3),te("   "),f("strong",{class:U({"text-dark":!s(Q)(),"text-light":s(Q)()})},V(s(o).getFullYear()),3)])):H("",!0)])]),f("div",ta,[B(j,{path:s(ut),onClick:O[3]||(O[3]=q(Y=>T(),["stop","prevent"]))},null,8,["path"])])])]),f("div",aa,[f("div",{class:U(["view-layout view-years",{active:d.value==="years"}])},[(v(!0),g(S,null,I(F.value,(Y,C)=>(v(),g("div",{key:C,class:"row no-full-height"},[(v(!0),g(S,null,I(Y,y=>(v(),g("div",{key:y,class:"col"},[f("a",{href:"#",class:U(["item year",{active:y===a.value}]),onClick:q(E=>u(y),["stop","prevent"])},V(y),11,la)]))),128))]))),128))],2),f("div",{class:U(["view-layout view-months",{active:d.value==="months"}])},[(v(!0),g(S,null,I(b.value,(Y,C)=>(v(),g("div",{key:C,class:"row no-full-height"},[(v(!0),g(S,null,I(Y,y=>(v(),g("div",{key:y,class:"col"},[f("a",{href:"#",class:U(["item month",{active:y.value===i.value}]),onClick:q(E=>c(y.value,a.value),["stop","prevent"])},V(y.name),11,oa)]))),128))]))),128))],2),f("div",{class:U(["view-layout view-dates",{active:d.value==="dates"}])},[f("div",na,[(v(),g(S,null,I(R,Y=>f("div",{key:Y,class:"col px-0"},[f("div",sa,V(Y),1)])),64))]),(v(!0),g(S,null,I(N.value,(Y,C)=>(v(),g("div",{key:C,class:"row"},[(v(!0),g(S,null,I(Y,y=>(v(),g("div",{key:y.date,class:"col px-0"},[f("div",{class:U(["day-date",{active:y.active,today:y.today,[y.type]:!0}]),onClick:q(E=>p(y.date),["stop","prevent"])},V(y.text),11,ra)]))),128))]))),128))],2)])])]))}});const Qe=z(ia,[["__scopeId","data-v-31ebbc62"],["__file","Calendar.vue"]]),ua=P({inheritAttrs:!1,__name:"DateModalInput",props:{field:{},noLabel:{type:Boolean},noValue:{type:Boolean},cleanable:{type:Boolean}},emits:["open","change","close"],setup(t,{expose:l,emit:e}){const o=t,{field:n,noLabel:i=!1,noValue:a=!1,cleanable:d=!1}=o,h=w(!a),r=w(null),u=()=>{r.value.open(),e("open")},c=_=>{h.value&&(n.update(_),e("change",_)),h.value=!0},p=()=>{e("close",n.value)},m=()=>{var _,b;(b=(_=r.value)==null?void 0:_.close)==null||b.call(_)},F=()=>{n.update(null),e("change",null),m()};return l({open:u,close:m}),(_,b)=>(v(),g(S,null,[B(Ae,{field:s(n),"no-label":s(i),onFocus:b[0]||(b[0]=$=>u())},W({_:2},[I(_.$slots,($,T)=>({name:T,fn:k(R=>[M(_.$slots,T,K(J({...R})))])}))]),1032,["field","no-label"]),B(_e,{title:s(n).label,"default-size":"",ref_key:"calendarRef",ref:r,onClose:p,padding:"0"},W({default:k(()=>[B(Qe,{date:s(n).value,onChange:c,onDone:m},null,8,["date"])]),_:2},[s(d)?{name:"buttons",fn:k(()=>[B(ie,{color:"danger",onClick:F},{default:k(()=>[B(j,{path:s(me)},null,8,["path"]),te("Remove ")]),_:1})]),key:"0"}:void 0]),1032,["title"])],64))}}),ca=z(ua,[["__file","DateModalInput.vue"]]),De=()=>{const t=w(null);return[t,e=>{t.value=e}]},da=f("div",{class:"popover-arrow"},null,-1),pa=f("h3",{class:"popover-header"},null,-1),va=f("div",{class:"popover-body"},null,-1),fa=[da,pa,va],ha=P({inheritAttrs:!1,__name:"Popover",props:{title:{default:""},trigger:{default:"hover"},animation:{type:Boolean,default:!1},delay:{default:0},customClass:{default:""},container:{default:!1},disabled:{type:Boolean,default:!1},placement:{default:"auto"},offset:{type:[String,Function,Array],default:[0,8]},width:{default:"auto"},controller:{default:null},padding:{default:"1rem"}},emits:["open","opened","close","closed","inserted"],setup(t,{expose:l,emit:e}){const o=w(null),[n,i]=De(),[a,d]=De(),[h,r]=De(),u=w(null),c=Ke("popover"),p=D=>{e("close",D)},m=D=>{e("closed",D),t.controller&&t.controller.removeController()},F=D=>{e("open",D)},_=D=>{e("opened",D);const L=document.querySelector(`.${c}`);if(L){L.style.setProperty("--bs-popover-max-width",t.width),L.style.setProperty("width",t.width);const G=L.querySelector(".popover-body");G&&(G.style.setProperty("--bs-popover-body-padding-x",t.padding),G.style.setProperty("--bs-popover-body-padding-y",t.padding))}},b=D=>{e("inserted",D)},$=()=>{o.value=new _t(n.value,{title:t.title,content:a.value,trigger:t.trigger,animation:t.animation,delay:t.delay,customClass:t.customClass,container:t.container,placement:t.placement,template:h.value.outerHTML,offset:t.offset,html:!0}),Te(()=>{var D,L,G,ne,le,se;(D=n.value)==null||D.addEventListener("show.bs.popover",F),(L=n.value)==null||L.addEventListener("shown.bs.popover",_),(G=n.value)==null||G.addEventListener("hide.bs.popover",p),(ne=n.value)==null||ne.addEventListener("hidden.bs.popover",m),(le=n.value)==null||le.addEventListener("inserted.bs.popover",b),(se=u.value)==null||se.remove()})},T=()=>{o.value.toggle()},R=()=>{o.value.show()},N=()=>{o.value.hide()},A=()=>{var D,L,G,ne,le,se,X,ue,Z,re,ce;(L=(D=n.value)==null?void 0:D.removeEventListener)==null||L.call(D,"hide.bs.popover",p),(ne=(G=n.value)==null?void 0:G.removeEventListener)==null||ne.call(G,"hidden.bs.popover",m),(se=(le=n.value)==null?void 0:le.removeEventListener)==null||se.call(le,"show.bs.popover",F),(ue=(X=n.value)==null?void 0:X.removeEventListener)==null||ue.call(X,"shown.bs.popover",_),(Z=n.value)==null||Z.addEventListener("inserted.bs.popover",b),(ce=(re=o.value)==null?void 0:re.dispose)==null||ce.call(re)};return l({open:R,close:N,toggle:T,dispose:A,disable:()=>{o.value.disable()},enable:()=>{o.value.enable()},updateContent:(D=null,L=null)=>{o.value.setContent()},toggleEnabled:()=>{o.value.toggleEnabled()},update:()=>{o.value.update()}}),ge(()=>{$(),setTimeout(()=>{var L,G;const D=((G=(L=a.value)==null?void 0:L.parentElement)==null?void 0:G.parentElement)??null;D&&(D.style.width="100%",D.style.maxWidth=t.width)},500)}),Fe(()=>{A()}),(D,L)=>(v(),g(S,null,[M(D.$slots,"default",{element:s(i)},()=>[B(ie,{ref:s(i)},{default:k(()=>[te(V(D.title),1)]),_:1},512)]),(v(),x(ft,{to:"body"},[f("div",{style:{display:"none"},ref_key:"toX",ref:u},[M(D.$slots,"content",{element:s(d)}),M(D.$slots,"template",{element:s(r)},()=>[f("div",{class:U({popover:!0,[`popover-${D.width}`]:!0,[s(c)]:!0}),role:"tooltip",ref:s(r),style:mt({"--bs-popover-max-width":"auto",width:D.width})},fa,6)])],512)]))],64))}}),ma=z(ha,[["__file","Popover.vue"]]),ga={class:"d-flex flex-horizontal gap-3 p-3 mt-3 justify-content-end border-top"},Fa=P({inheritAttrs:!1,__name:"DatePopoverInput",props:{field:{},noLabel:{type:Boolean},noValue:{type:Boolean},cleanable:{type:Boolean}},emits:["open","change","close"],setup(t,{expose:l,emit:e}){const o=t,{field:n,noLabel:i=!1,noValue:a=!1,cleanable:d=!1}=o,h=w(!a),r=w(null),u=()=>{r.value.open(),e("open")},c=_=>{h.value&&(n.update(_),e("change",_)),h.value=!0},p=()=>{e("close",n.value)},m=()=>{var _,b;(b=(_=r.value)==null?void 0:_.close)==null||b.call(_)},F=()=>{n.update(null),e("change",null),m()};return l({open:u,close:m}),(_,b)=>(v(),x(ma,{title:s(n).label,ref_key:"calendarRef",ref:r,onClose:p,trigger:"manual",width:"500px",padding:"0"},{default:k(({element:$})=>[f("div",{ref:$},[B(Ae,{field:s(n),"no-label":s(i),onClick:u},W({_:2},[I(_.$slots,(T,R)=>({name:R,fn:k(N=>[M(_.$slots,R,K(J({...N})))])}))]),1032,["field","no-label"])],512)]),content:k(({element:$})=>[f("div",{ref:$},[B(Qe,{date:s(n).value,onChange:c,onDone:m},null,8,["date"]),f("div",ga,[B(ie,{color:"dark",onClick:m},{default:k(()=>[B(j,{path:s(he)},null,8,["path"]),te("Close ")]),_:1}),s(d)?(v(),x(ie,{key:0,color:"danger",onClick:F},{default:k(()=>[B(j,{path:s(me)},null,8,["path"]),te("Remove ")]),_:1})):H("",!0)])],512)]),_:3},8,["title"]))}}),_a=z(Fa,[["__file","DatePopoverInput.vue"]]),ya=P({inheritAttrs:!1,__name:"DateInput",props:{field:{},noLabel:{type:Boolean},noValue:{type:Boolean},cleanable:{type:Boolean},popover:{type:Boolean}},emits:["open","change","close"],setup(t,{expose:l,emit:e}){const o=t,{field:n,noLabel:i=!1,noValue:a=!1,cleanable:d=!1,popover:h=!1}=o;w(!a);const r=w(null),u=()=>{r.value.open(),e("open")},c=()=>{e("close",n.value)};return l({openCalendar:u,closeCalendar:()=>{var m,F;(F=(m=r.value)==null?void 0:m.close)==null||F.call(m)}}),(m,F)=>s(h)?(v(),x(_a,{key:0,ref_key:"calendarRef",ref:r,field:s(n),"no-label":s(i),"no-value":s(a),cleanable:s(d),onClose:c},null,8,["field","no-label","no-value","cleanable"])):(v(),x(ca,{key:1,ref_key:"calendarRef",ref:r,field:s(n),"no-label":s(i),"no-value":s(a),cleanable:s(d),onClose:c},null,8,["field","no-label","no-value","cleanable"]))}}),ba=z(ya,[["__file","DateInput.vue"]]),Ca=lt(_e),$a=(t,l,e="No",o="Yes")=>new Promise(async n=>{const i=Ke("confirm"),a=await Ca({title:t,closeText:e,onOpened:()=>{var d;(d=document.querySelector(`#${i}`))==null||d.addEventListener("click",()=>{a.close(),n(!0)})},onDismiss:()=>{n(!1)}},{...l?{default:()=>be("p",{},l)}:{},buttons:()=>[be(ie,{class:["btn","btn-primary"],id:i},[be(j,{path:ct,color:"success"},""),o])]});a.open()});function xe(t,l){return $a(t,l)}const Ea=t=>(We("data-v-15bfa886"),t=t(),qe(),t),Da=["src"],ka={key:0,class:"uploading"},wa=Ea(()=>f("div",{class:"spinner-border text-primary",role:"status",style:{width:"3rem",height:"3rem"}},[f("span",{class:"visually-hidden"},"Loading...")],-1)),Ba=[wa],Aa={key:1,class:"actions"},Ia={key:0,class:"drop-zone"},La=["accept"],Ta={class:"add-btn"},Sa=P({__name:"ImageUploader",props:{section:{default:"images"},crop:{type:Boolean,default:!1},aspectRatio:{type:[Number,Boolean],default:!1},accept:{default:"image/jpeg"},width:{default:null},height:{default:null},url:{default:null},gallery:{default:()=>-1}},emits:["image","add","remove","done","view","cancel"],setup(t,{expose:l,emit:e}){Se(C=>({"25e1fe7a":Y.value,"7aa0c9d6":O.value}));const o=w(null),n=w(null),i=w(null),a=w(t.url||null),d=w(!1),h=w(!1),r=C=>{const y=C.target.files;y.length>0?m(y[0]):e("cancel")},u=C=>{C.preventDefault(),h.value=!0},c=C=>{C.preventDefault(),h.value=!1},p=C=>{var E;C.preventDefault();const y=((E=C.dataTransfer)==null?void 0:E.files)??[];y.length>0?m(y[0]):e("cancel")},m=C=>{e("add","file",C);const y=new FileReader;y.onload=E=>{const D=E.target.result;e("add","base64",D),t.crop&&!["image/svg+xml"].includes(C.type)?F(D):b(D).then(L=>{T(D,L)})},y.onerror=()=>{console.error(`Error occurred reading file: ${C.name}`)},y.readAsDataURL(C)},F=C=>{var y;(y=o.value)==null||y.open(),Te(()=>{setTimeout(()=>{i.value=bt.create({parent:n.value,image:C,bounds:{width:"100%",height:"auto"},backgroundColors:["#ffffff","#f3f3f3"],selection:{color:"#045892",activeColor:"#034b7c",aspectRatio:t.aspectRatio,minWidth:t.width||200,minHeight:t.height||300,width:t.width||400,height:t.height||500,x:0,y:0},onInit:()=>{console.log("Initial")}}),i.value.on("start",function(E){console.log("Start",E)}).on("move",function(E){console.log("Move",E)}).on("resize",function(E){console.log("Resize",E)}).on("change",function(E){console.log("Change",E)}).on("end",function(E){console.log("End",E)})},300)})},_=()=>{var C,y,E,D,L,G,ne,le,se;if(i.value){const X=((E=(y=(C=i.value)==null?void 0:C.selectionLayer)==null?void 0:y.selection)==null?void 0:E.region)??null;if(X){const ue=(G=(L=(D=i.value)==null?void 0:D.image)==null?void 0:L.src)==null?void 0:G.split(";")[0].split("/")[1],Z=document.createElement("canvas");Z.width=X.right-X.left,Z.height=X.bottom-X.top;const re=Z.getContext("2d");re.drawImage((le=(ne=i.value)==null?void 0:ne.image)==null?void 0:le.source,-X.left,-X.top);const ce=re.getImageData(0,0,Z.width,Z.height);(se=o.value)==null||se.close(),T((Z==null?void 0:Z.toDataURL(`image/${ue}`))??null,ce)}else ke("Something went wrong")}},b=C=>new Promise(y=>{const E=document.createElement("canvas"),D=E.getContext("2d"),L=new Image;L.onload=function(){D.drawImage(L,0,0);const G=D.getImageData(0,0,E.width,E.height);y(G)},L.src=C}),$=C=>Object.entries(pe([...C.data],4).map(([y,E,D,L])=>`rgba(${y},${E},${D},${L})`).reduce((y,E)=>(Object.hasOwn(y,E)||(y[E]=0),y[E]++,y),{})).filter(([y,E])=>E>1).sort(([,y],[,E])=>E-y).slice(0,10).map(([y])=>y),T=(C,y)=>{C?(d.value=!0,a.value=C,fe().post("/media/image",{section:t.section,base64:C}).then(({data:E})=>{E={...E,palette:y?$(y):[]},a.value=E,e("image",E)}).finally(()=>{d.value=!1,e("done",C)})):ke("Something went wrong")},R=()=>{i.value=null,n.value&&(n.value.innerHTML="")},N=()=>{var C;if(t.gallery!==void 0&&t.gallery>=0)e("view",t.gallery);else{const y=Xe.show([{src:((C=a.value)==null?void 0:C.url)??a.value,caption:typeof a.value=="object"?`Size: <span class="text-primary">${a.value.size}</span>, Dimension: <span class="text-primary">${a.value.width}x${a.value.height}</span>, Bits: <span class="text-primary">${a.value.bits}</span>, Mime: <span class="text-primary">${a.value.mime}</span>`:void 0}]);e("view",y)}},A=()=>{xe("Remove Image").then(C=>{C&&(a.value=null,e("image",null),e("remove"))})},O=ee(()=>t.aspectRatio?`${200/t.aspectRatio}px`:"100px"),Y=ee(()=>{if(a.value&&Array.isArray(a.value.palette)&&a.value.palette.length>0){const C=["to top left","to top","to top right","to left","to bottom left","to right","to bottom left","to bottom","to bottom right","to top right"];return`${a.value.palette.map((y,E)=>`linear-gradient(${C[E]},  transparent, ${y})`).join(", ")}`}return"#ffffff"});return l({image:()=>a.value}),(C,y)=>{var E;return v(),g(S,null,[a.value?(v(),g("div",{key:0,class:U(["image",{[a.value.extension]:!0}])},[f("img",{src:((E=a.value)==null?void 0:E.url)??a.value,loading:"lazy",class:"img-fluid"},null,8,Da),d.value?(v(),g("div",ka,Ba)):H("",!0),d.value?H("",!0):(v(),g("div",Aa,[f("button",{type:"button",class:"btn btn-primary btn-sm",onClick:N},[B(j,{path:s(Ie)},null,8,["path"])]),f("button",{type:"button",class:"btn btn-danger btn-sm",onClick:A},[B(j,{path:s(me)},null,8,["path"])])]))],2)):(v(),g("label",{key:1,class:"media-input-wrapper",onDragover:u,onDragleave:c,onDrop:p},[h.value?(v(),g("div",Ia,"Drop an image to upload")):(v(),g(S,{key:1},[f("input",{type:"file",onInput:r,class:"file-input",accept:Array.isArray(C.accept)?C.accept.join(","):C.accept},null,40,La),M(C.$slots,"add",{},()=>[f("div",Ta,[B(j,{path:s(Le)},null,8,["path"])])],!0)],64))],32)),C.crop?(v(),x(_e,{key:2,title:"Crop Image",ref_key:"cropperModal",ref:o,size:"xl",onClose:R},{buttons:k(()=>[f("button",{type:"button",class:"btn btn-primary",onClick:_},[B(j,{path:s(dt)},null,8,["path"]),te(" "+V(s(Ft)("Crop")),1)])]),default:k(()=>[f("div",{class:"image-crop-wrapper",ref_key:"cropperWrapper",ref:n},null,512)]),_:1},512)):H("",!0)],64)}}});const Be=z(Sa,[["__scopeId","data-v-15bfa886"],["__file","ImageUploader.vue"]]),xa=P({inheritAttrs:!1,__name:"ImageInput",props:{field:{},noLabel:{type:Boolean},section:{},crop:{type:Boolean},aspectRatio:{type:[Number,Boolean]},accept:{},width:{},height:{}},setup(t){const l=t,{field:e,noLabel:o=!1,section:n="images",crop:i=!1,aspectRatio:a=!1,accept:d="image/jpeg",width:h=null,height:r=null}=l,u=m=>{e.update(m)},c=(m,F)=>{e.touch({target:{value:F}})},p=m=>{e.blur({target:{value:m}})};return(m,F)=>(v(),x(ae,{field:s(e),"no-label":s(o)},W({default:k(({id:_})=>[B(Be,{accept:s(d),"aspect-ratio":s(a),crop:s(i),height:s(r),section:s(n),width:s(h),url:s(e).value??null,onAdd:c,onImage:u,onDone:p},{add:k(()=>[M(m.$slots,"add")]),_:3},8,["accept","aspect-ratio","crop","height","section","width","url"])]),_:2},[I(m.$slots,(_,b)=>({name:b,fn:k($=>[M(m.$slots,b,K(J({...$})))])}))]),1032,["field","no-label"]))}}),Ze=z(xa,[["__file","ImageInput.vue"]]),Ma=t=>(We("data-v-26f3a92b"),t=t(),qe(),t),Ra={class:"select-file-component"},Va={class:"file-output"},Pa={class:"extension"},za={class:"mime"},Ha={class:"size"},Ua={class:"name"},ja={key:0,class:"uploading"},Na=Ma(()=>f("div",{class:"spinner-border text-primary",role:"status",style:{width:"3rem",height:"3rem"}},[f("span",{class:"visually-hidden"},"Loading...")],-1)),Oa=[Na],Ga={key:1,class:"actions"},Ya={key:1,class:"file-input"},Wa=["accept"],qa={class:"add-btn"},Ja=P({__name:"SelectFile",props:{section:{default:"files"},accept:{default:"*"},url:{default:null}},emits:["file","add","remove","done","view","cancel"],setup(t,{emit:l}){const e=t,o=w(e.url||null),n=w(!1),i=u=>{const c=u.target.files;c.length>0?a(c[0]):l("cancel")},a=u=>{l("add","file",u);const c=new FileReader;c.onload=p=>{const m=p.target.result;l("add","base64",m),d(m,u.name)},c.onerror=()=>{console.error(`Error occurred reading file: ${u.name}`)},c.readAsDataURL(u)},d=(u,c)=>{u?(n.value=!0,o.value=u,fe().post("/media/file",{section:e.section,base64:u,name:c}).then(({data:p})=>{p={...p},o.value=p,l("file",p)}).finally(()=>{n.value=!1,l("done",u)})):ke("Something went wrong")},h=()=>{o.value&&window.open(o.value.url,"_blank")},r=()=>{xe("Remove File").then(u=>{u&&(o.value=null,l("file",null),l("remove"))})};return(u,c)=>(v(),g("div",Ra,[o.value?(v(),g(S,{key:0},[f("div",Va,[f("div",{class:U({icon:!0,[o.value.extension]:!0})},[f("div",Pa,V(o.value.extension),1),f("div",za,V(o.value.mime),1),f("div",Ha,V(o.value.size),1)],2),f("div",Ua,V(o.value.name),1)]),n.value?(v(),g("div",ja,Oa)):H("",!0),n.value?H("",!0):(v(),g("div",Ga,[f("button",{type:"button",class:"btn btn-primary btn-sm",onClick:h},[B(j,{path:s(Ie)},null,8,["path"])]),f("button",{type:"button",class:"btn btn-danger btn-sm",onClick:r},[B(j,{path:s(me)},null,8,["path"])])]))],64)):(v(),g("label",Ya,[f("input",{type:"file",onInput:i,class:"file-input",accept:Array.isArray(u.accept)?u.accept.join(","):u.accept},null,40,Wa),M(u.$slots,"add",{},()=>[f("div",qa,[B(j,{path:s(Le)},null,8,["path"])])],!0)]))]))}});const Ka=z(Ja,[["__scopeId","data-v-26f3a92b"],["__file","SelectFile.vue"]]),Xa=P({inheritAttrs:!1,__name:"FileInput",props:{field:{},noLabel:{type:Boolean},section:{},accept:{}},setup(t){const l=t,{field:e,noLabel:o=!1,section:n="files",accept:i="*"}=l,a=r=>{e.update(r)},d=(r,u)=>{e.touch({target:{value:u}})},h=r=>{e.blur({target:{value:r}})};return(r,u)=>(v(),x(ae,{field:s(e),"no-label":s(o)},W({default:k(({id:c})=>[B(Ka,{id:c,accept:s(i),section:s(n),url:s(e).value??null,onAdd:d,onFile:a,onDone:h},{add:k(()=>[M(r.$slots,"add")]),_:2},1032,["id","accept","section","url"])]),_:2},[I(r.$slots,(c,p)=>({name:p,fn:k(m=>[M(r.$slots,p,K(J({...m})))])}))]),1032,["field","no-label"]))}}),Qa=z(Xa,[["__file","FileInput.vue"]]),Za=["id","value","list"],el=["id"],tl=["value","label"],al=P({inheritAttrs:!1,__name:"RangeInput",props:{field:{},noLabel:{type:Boolean},options:{}},setup(t){const l=t,{field:e,noLabel:o=!1,options:n=[]}=l,i=h=>{e.update(h.target.value)},a=h=>{e.touch(h)},d=h=>{e.blur(h)};return(h,r)=>(v(),x(ae,{field:s(e),"no-label":s(o)},W({default:k(({id:u})=>[f("input",oe({id:u,class:{"is-invalid":s(e).hasErrors},value:s(e).value,type:"range"},h.$attrs,{onInput:i,onFocus:a,onBlur:d,autocomplete:"off",spellcheck:"false",list:`list-of-${u}`}),null,16,Za),s(n).length>0?(v(),g("datalist",{key:0,id:`list-of-${u}`},[(v(!0),g(S,null,I(s(n),c=>(v(),g("option",{key:c,value:c,label:`${c}`},null,8,tl))),128))],8,el)):H("",!0)]),_:2},[I(h.$slots,(u,c)=>({name:c,fn:k(p=>[M(h.$slots,c,K(J({...p})))])}))]),1032,["field","no-label"]))}}),ll=z(al,[["__file","RangeInput.vue"]]),ol=["id"],nl=["value","selected"],sl=P({inheritAttrs:!1,__name:"SelectInput",props:{field:{},noLabel:{type:Boolean},options:{},prompt:{type:[String,Boolean]}},setup(t){const l=t,{field:e,noLabel:o=!1,options:n,prompt:i=!1}=l,a=u=>{e.update(u.target.value)},d=u=>{e.touch(u)},h=u=>{e.blur(u)},r=ee(()=>i?[{value:"",label:i},...n]:n);return(u,c)=>(v(),x(ae,{field:s(e),"no-label":s(o)},W({default:k(({id:p})=>[f("select",oe({id:p,class:["form-control",{"is-invalid":s(e).hasErrors}]},u.$attrs,{onInput:a,onClick:d,onBlur:h}),[(v(!0),g(S,null,I(r.value,m=>(v(),g("option",{key:m.value,value:m.value,selected:m.value===s(e).value},V(m.label),9,nl))),128))],16,ol)]),_:2},[I(u.$slots,(p,m)=>({name:m,fn:k(F=>[M(u.$slots,m,K(J({...F})))])}))]),1032,["field","no-label"]))}}),rl=z(sl,[["__file","SelectInput.vue"]]),il={class:"form-check form-switch"},ul=["id","value","checked"],cl=["for"],dl=P({inheritAttrs:!1,__name:"ToggleInput",props:{field:{},trueValue:{},falseValue:{}},setup(t){const l=t,{field:e,trueValue:o=1,falseValue:n=0}=l,i=h=>{e.update(h.target.checked?o:n)},a=h=>{e.touch(h)},d=h=>{e.blur(h)};return(h,r)=>(v(),x(ae,{field:s(e),"no-label":""},W({default:k(({id:u})=>[f("div",il,[f("input",oe({id:u,class:["form-check-input",{"is-invalid":s(e).hasErrors}],type:"checkbox",role:"switch",value:s(o)},h.$attrs,{onInput:i,onFocus:a,onBlur:d,checked:s(e).value===s(o)}),null,16,ul),f("label",{class:"form-check-label",for:u},[M(h.$slots,"default",{},()=>[te(V(s(e).label),1)])],8,cl)])]),_:2},[I(h.$slots,(u,c)=>({name:c,fn:k(p=>[M(h.$slots,c,K(J({...p})))])}))]),1032,["field"]))}}),pl=z(dl,[["__file","ToggleInput.vue"]]),vl=P({__name:"GalleryUploader",props:{list:{default:()=>[]},section:{default:"gallery"},crop:{type:Boolean,default:!1},aspectRatio:{type:[Number,Boolean],default:!1},accept:{default:"image/jpeg"},width:{default:null},height:{default:null},max:{type:[Number,Boolean],default:!1},direction:{default:"row"}},emits:["touch","blur","update","remove","view"],setup(t,{emit:l}){Se(r=>({"69bdf1a1":r.direction}));const e=w(t.list||[]),o=w(0),n=r=>{e.value.push(r),o.value++,l("update",e.value,r)},i=(r,u)=>{l("touch",e.value,r,u)},a=r=>{l("blur",e.value,r)},d=r=>{const u=e.value[r];e.value.splice(r,1),e.value=e.value.filter(c=>c),o.value++,l("update",e.value,u),l("remove",e.value,u)},h=r=>{var c;const u=Xe.show((c=e.value)==null?void 0:c.map(p=>({src:(p==null?void 0:p.url)??p,type:"image",caption:typeof p.value=="object"?`Size: <span class="text-primary">${p.value.size}</span>, Dimension: <span class="text-primary">${p.value.width}x${p.value.height}</span>, Bits: <span class="text-primary">${p.value.bits}</span>, Mime: <span class="text-primary">${p.value.mime}</span>`:null})),{startIndex:r});l("view",u)};return(r,u)=>(v(),g("div",oe({class:"gallery",key:o.value},r.$attrs),[(v(!0),g(S,null,I(e.value,(c,p)=>(v(),g("div",{key:p},[c?(v(),x(Be,{key:0,accept:r.accept,"aspect-ratio":r.aspectRatio,crop:r.crop,height:r.height,section:r.section,width:r.width,url:c,gallery:p,onAdd:i,onImage:n,onDone:a,onRemove:()=>d(p),onView:m=>h(p)},null,8,["accept","aspect-ratio","crop","height","section","width","url","gallery","onRemove","onView"])):H("",!0)]))),128)),!r.max||r.max&&e.value.length<r.max?(v(),x(Be,{key:0,accept:r.accept,"aspect-ratio":r.aspectRatio,crop:r.crop,height:r.height,section:r.section,width:r.width,onAdd:i,onImage:n,onDone:a,class:U({"add-item":e.value.length>0})},null,8,["accept","aspect-ratio","crop","height","section","width","class"])):H("",!0)],16))}});const fl=z(vl,[["__file","GalleryUploader.vue"]]),hl=P({inheritAttrs:!1,__name:"GalleryInput",props:{field:{},noLabel:{type:Boolean,default:!1},section:{default:"gallery"},crop:{type:Boolean,default:!1},aspectRatio:{type:[Number,Boolean],default:!1},accept:{default:"image/jpeg"},width:{default:null},height:{default:null},max:{type:[Number,Boolean],default:!1},direction:{default:"row"}},setup(t){const l=(n,i)=>{t.field.update(n)},e=(n,i,a)=>{t.field.touch({target:{value:n}})},o=(n,i)=>{t.field.blur({target:{value:n}})};return(n,i)=>(v(),x(ae,{field:n.field,"no-label":n.noLabel},W({default:k(({id:a})=>[B(fl,{list:n.field.value,accept:n.accept,"aspect-ratio":n.aspectRatio,crop:n.crop,height:n.height,section:n.section,width:n.width,max:n.max,direction:n.direction,onAdd:e,onUpdate:l,onDone:o},null,8,["list","accept","aspect-ratio","crop","height","section","width","max","direction"])]),_:2},[I(n.$slots,(a,d)=>({name:d,fn:k(h=>[M(n.$slots,d,K(J({...h})))])}))]),1032,["field","no-label"]))}}),ml=z(hl,[["__file","GalleryInput.vue"]]),gl={beforeMount(t,l,e){Object.keys(l.value).forEach(o=>{t.style.setProperty(o,l.value[o])})}},ze=gl,Fl=Ct.vue3Debounce({lock:!0}),_l={class:"tags"},yl={class:"name"},bl=["onClick"],Cl={class:"input-tags"},$l={key:0,class:"results"},El=["onClick"],Dl=["onClick"],kl={key:1,class:"selected text-muted"},wl={key:2,class:"loader text-muted"},Bl=P({inheritAttrs:!1,__name:"TagsInput",props:{field:{},noLabel:{type:Boolean}},setup(t){const l=t,{field:e,noLabel:o=!1}=l,n=["#F44336","#FF1744","#B71C1C","#EC407A","#880E4F","#F50057","#C51162","#AB47BC","#8E24AA","#4A148C","#AA00FF","#673AB7","#311B92","#6200EA","#651FFF","#3F51B5","#1A237E","#3D5AFE","#283593","#304FFE","#0097A7","#00838F","#006064","#00B8D4","#00897B","#00796B","#00695C","#004D40","#43A047","#388E3C","#1B5E20","#C0CA33","#AFB42B","#827717","#FDD835","#FBC02D","#F9A825","#F57F17","#FF6F00","#6D4C41","#5D4037","#3E2723"],i=w(""),a=w(null),d=w(e.value),h=F=>{a.value=null,fe().get(`/tags?filter[name][like]=${F}`).then(({data:_})=>{const b=d.value.map($=>+$.id);a.value=(_==null?void 0:_.filter($=>!b.includes(+$.id)))??[]})},r=ee(()=>{var F,_,b,$,T,R;return((b=(_=(F=a.value)==null?void 0:F.filter)==null?void 0:_.call(F,N=>N.name.toLowerCase()===i.value.toLowerCase()))==null?void 0:b.length)===0&&((R=(T=($=d.value)==null?void 0:$.filter)==null?void 0:T.call($,N=>N.name.toLowerCase()===i.value.toLowerCase()))==null?void 0:R.length)===0}),u=ee(()=>{var F,_,b;return((b=(_=(F=d.value)==null?void 0:F.filter)==null?void 0:_.call(F,$=>$.name.toLowerCase()===i.value.toLowerCase()))==null?void 0:b.length)>0}),c=()=>{fe().post("/tags",{name:i.value,color:n[yt(0,n.length-1)]}).then(({data:F})=>{F.name=F.name.toLowerCase(),p(F)})},p=F=>{d.value.push(F),i.value="",a.value=null,e.update(d.value)},m=async F=>{if(await xe(`Remove "${F.name}" Tag`,"Are you Sure?")){const b=d.value.findIndex($=>+$.id==+F.id);b>=0&&(d.value.splice(b,1),e.update(d.value))}};return(F,_)=>(v(),x(ae,{field:s(e),"no-label":s(o)},W({default:k(({id:b})=>[f("div",_l,[d.value.length>0?(v(!0),g(S,{key:0},I(d.value,$=>de((v(),g("div",{key:$.id,class:"tag"},[f("span",yl,V($.name),1),f("a",{href:"#",onClick:q(T=>m($),["prevent"]),class:"close"},[B(j,{path:s(he)},null,8,["path"])],8,bl)])),[[s(ze),{"--color":$.color}]])),128)):H("",!0),f("div",Cl,[de(f("input",{type:"text","onUpdate:modelValue":_[0]||(_[0]=$=>i.value=$),placeholder:"Search Tags..."},null,512),[[Je,i.value],[s(Fl),h,"300ms"]]),i.value?(v(),g("div",$l,[a.value?(v(),g(S,{key:0},[(v(!0),g(S,null,I(a.value,$=>de((v(),g("a",{key:$.id,href:"#",onClick:q(T=>p($),["prevent"]),class:"item"},[te(V($.name),1)],8,El)),[[s(ze),{"--color":$.color}]])),128)),r.value?(v(),g("a",{key:0,href:"#",class:"item new",onClick:q(c,["prevent"])},[te("Add "),f("strong",null,V(i.value),1)],8,Dl)):H("",!0)],64)):H("",!0),u.value?(v(),g("div",kl,"Already Selected")):i.value&&!a.value?(v(),g("div",wl,"Loading...")):H("",!0)])):H("",!0)])])]),_:2},[I(F.$slots,(b,$)=>({name:$,fn:k(T=>[M(F.$slots,$,K(J({...T})),void 0,!0)])}))]),1032,["field","no-label"]))}});const Al=z(Bl,[["__scopeId","data-v-cd66f6b7"],["__file","TagsInput.vue"]]);class Il extends ot{get name(){var l;return this.field("name","Name",((l=this.initData)==null?void 0:l.name)??"","The complete name of author")}get bio(){var l;return this.field("bio","Bio",((l=this.initData)==null?void 0:l.bio)??"")}get image(){var l;return this.field("image","Image",((l=this.initData)==null?void 0:l.image)??null)}get rules(){return[[[this.name],nt]]}}const Ll=["id","innerHTML"],Tl=P({inheritAttrs:!1,__name:"EditableInput",props:{field:{},noLabel:{type:Boolean}},setup(t){const l=t,{field:e,noLabel:o=!1}=l,n=e.value,i=w(null),a=c=>{const p=/<div>(.*?)<\/div>/gm;c=c.replace(p,function(m,F){return`
${F}`}),e.update(c)},d=c=>{a(c.target.innerHTML)},h=c=>{e.touch(c)},r=c=>{e.blur(c)};let u=null;return ge(()=>{u=new MutationObserver((c,p)=>{a(i.value.innerHTML)}),u.observe(i.value,{subtree:!0,childList:!0})}),Fe(()=>u&&u.disconnect()),(c,p)=>(v(),x(ae,{field:s(e),"no-label":s(o)},W({default:k(({id:m})=>[f("div",oe({id:m,contenteditable:"true",class:["form-control",{"is-invalid":s(e).hasErrors}]},c.$attrs,{onInput:d,onFocus:h,onBlur:r,autocomplete:"off",spellcheck:"false",innerHTML:s(n),ref_key:"input",ref:i}),null,16,Ll)]),_:2},[I(c.$slots,(m,F)=>({name:F,fn:k(_=>[M(c.$slots,F,K(J({..._})),void 0,!0)])}))]),1032,["field","no-label"]))}});const He=z(Tl,[["__scopeId","data-v-8e17700a"],["__file","EditableInput.vue"]]),Sl={key:0,class:"row py-4 m-3 border"},xl={class:"col-md-6"},Ml={class:"col-md-6"},Rl=P({__name:"Author",props:{data:{default:()=>({})}},setup(t,{expose:l}){const[e,o,n]=st(Il);return o(t.data),l({validate:()=>{var i;return(i=e.value)==null?void 0:i.validate()},form:()=>{var i;return(i=e.value)==null?void 0:i.data},messages:()=>{var i;return(i=e.value)==null?void 0:i.errors}}),Fe(()=>{n()}),(i,a)=>s(e)?(v(),g("div",Sl,[f("div",xl,[f("div",null,[B(He,{field:s(e).name,onKeydown:a[0]||(a[0]=Re(q(()=>{},["stop"]),["enter"]))},null,8,["field"]),B(He,{field:s(e).bio,onKeydown:a[1]||(a[1]=Re(q(()=>{},["stop"]),["enter"]))},null,8,["field"])])]),f("div",Ml,[B(Ze,{field:s(e).image},null,8,["field"])])])):H("",!0)}}),Vl=z(Rl,[["__file","Author.vue"]]),Pl='<svg width="17" height="15" viewBox="0 0 336 276" xmlns="http://www.w3.org/2000/svg"><path d="M291 150V79c0-19-15-34-34-34H79c-19 0-34 15-34 34v42l67-44 81 72 56-29 42 30zm0 52l-43-30-56 30-81-67-66 39v23c0 19 15 34 34 34h178c17 0 31-13 34-29zM79 0h178c44 0 79 35 79 79v118c0 44-35 79-79 79H79c-44 0-79-35-79-79V79C0 35 35 0 79 0z"/></svg>';class zl{constructor({api:l,config:e,data:o,block:n}){ye(this,"appInstance");ye(this,"data");this.data=o}static get toolbox(){return{title:"Author",icon:Pl}}render(){const l=document.createElement("div"),e=gt(Vl,{data:this.data});return this.appInstance=e.mount(l),l}async save(l){var o,n;return await((o=this.appInstance)==null?void 0:o.validate())?{...(n=this.appInstance)==null?void 0:n.form()}:{}}}const Hl=["#F44336","#FFEBEE","#FFCDD2","#EF9A9A","#E57373","#EF5350","#E53935","#D32F2F","#C62828","#B71C1C","#FF8A80","#FF5252","#FF1744","#D50000","#FCE4EC","#F8BBD0","#F48FB1","#F06292","#EC407A","#E91E63","#D81B60","#C2185B","#AD1457","#880E4F","#FF80AB","#FF4081","#F50057","#C51162","#F3E5F5","#E1BEE7","#CE93D8","#BA68C8","#AB47BC","#9C27B0","#8E24AA","#7B1FA2","#6A1B9A","#4A148C","#EA80FC","#E040FB","#D500F9","#AA00FF","#EDE7F6","#D1C4E9","#B39DDB","#9575CD","#7E57C2","#673AB7","#5E35B1","#512DA8","#4527A0","#311B92","#B388FF","#7C4DFF","#651FFF","#6200EA","#E8EAF6","#C5CAE9","#9FA8DA","#7986CB","#5C6BC0","#3F51B5","#3949AB","#303F9F","#283593","#1A237E","#8C9EFF","#536DFE","#3D5AFE","#304FFE","#E3F2FD","#BBDEFB","#90CAF9","#64B5F6","#42A5F5","#2196F3","#1E88E5","#1976D2","#1565C0","#0D47A1","#82B1FF","#448AFF","#2979FF","#2962FF","#E1F5FE","#B3E5FC","#81D4FA","#4FC3F7","#29B6F6","#03A9F4","#039BE5","#0288D1","#0277BD","#01579B","#80D8FF","#40C4FF","#00B0FF","#0091EA","#E0F7FA","#B2EBF2","#80DEEA","#4DD0E1","#26C6DA","#00BCD4","#00ACC1","#0097A7","#00838F","#006064","#84FFFF","#18FFFF","#00E5FF","#00B8D4","#E0F2F1","#B2DFDB","#80CBC4","#4DB6AC","#26A69A","#009688","#00897B","#00796B","#00695C","#004D40","#A7FFEB","#64FFDA","#1DE9B6","#00BFA5","#E8F5E9","#C8E6C9","#A5D6A7","#81C784","#66BB6A","#4CAF50","#43A047","#388E3C","#2E7D32","#1B5E20","#B9F6CA","#69F0AE","#00E676","#00C853","#F1F8E9","#DCEDC8","#C5E1A5","#AED581","#9CCC65","#8BC34A","#7CB342","#689F38","#558B2F","#33691E","#CCFF90","#B2FF59","#76FF03","#64DD17","#F9FBE7","#F0F4C3","#E6EE9C","#DCE775","#D4E157","#CDDC39","#C0CA33","#AFB42B","#9E9D24","#827717","#F4FF81","#EEFF41","#C6FF00","#AEEA00","#FFFDE7","#FFF9C4","#FFF59D","#FFF176","#FFEE58","#FFEB3B","#FDD835","#FBC02D","#F9A825","#F57F17","#FFFF8D","#FFFF00","#FFEA00","#FFD600","#FFF8E1","#FFECB3","#FFE082","#FFD54F","#FFCA28","#FFC107","#FFB300","#FFA000","#FF8F00","#FF6F00","#FFE57F","#FFD740","#FFC400","#FFAB00","#FFF3E0","#FFE0B2","#FFCC80","#FFB74D","#FFA726","#FF9800","#FB8C00","#F57C00","#EF6C00","#E65100","#FFD180","#FFAB40","#FF9100","#FF6D00","#FBE9E7","#FFCCBC","#FFAB91","#FF8A65","#FF7043","#FF5722","#F4511E","#E64A19","#D84315","#BF360C","#FF9E80","#FF6E40","#FF3D00","#DD2C00","#EFEBE9","#D7CCC8","#BCAAA4","#A1887F","#8D6E63","#795548","#6D4C41","#5D4037","#4E342E","#3E2723","#FAFAFA","#F5F5F5","#EEEEEE","#E0E0E0","#BDBDBD","#9E9E9E","#757575","#616161","#424242","#212121","#ECEFF1","#CFD8DC","#B0BEC5","#90A4AE","#78909C","#607D8B","#546E7A","#455A64","#37474F","#263238","#000000"];var Ue,je,Ne,Oe,Ge,Ye;const Ul={textVariant:Mt,delimiter:Rt,header:{class:Dt,shortcut:"CMD+SHIFT+H",inlineToolbar:!0},paragraph:{class:Tt,shortcut:"CMD+SHIFT+P",inlineToolbar:!0},list:{class:St,shortcut:"CMD+SHIFT+L",inlineToolbar:!0,config:{defaultStyle:"unordered"}},checklist:{class:At,inlineToolbar:!0},table:{class:Lt,shortcut:"CMD+SHIFT+T",inlineToolbar:!0},embed:{class:Bt,inlineToolbar:!0,config:{services:{youtube:!0,facebook:!0,twitter:!0,instagram:!0,pinterest:!0,codepen:!0,miro:!0,vimeo:!0,gfycat:!0,imgur:!0,vine:!0,aparat:!0,coub:!0,"yandex-music-track":!0,"twitch-video":!0}}},image:{class:It,config:{endpoints:{byFile:`${(je=(Ue=Ce())==null?void 0:Ue.url)==null?void 0:je.api}/uploadImage`,byUrl:`${(Oe=(Ne=Ce())==null?void 0:Ne.url)==null?void 0:Oe.api}/uploadImage`}}},raw:wt,warning:Vt,alert:Pt,linkTool:{class:kt,config:{endpoint:`${(Ye=(Ge=Ce())==null?void 0:Ge.url)==null?void 0:Ye.api}/fetchUrl`}},underline:xt,Color:{class:Ve,config:{colorCollections:Hl,defaultColor:"#FF1300",type:"text"}},Marker:{class:Ve,config:{defaultColor:"#FFBF00",type:"marker"}},Author:{class:zl,inlineToolbar:!0}},jl={class:"actions"},Nl=["onClick"],Ol=["onClick"],Gl=P({inheritAttrs:!1,__name:"EditorInput",props:{field:{},noLabel:{type:Boolean},rtl:{type:Boolean},altitude:{}},setup(t){const l=t;Se(b=>({"7240ec47":p.value}));const{field:e,noLabel:o=!1,rtl:n=!1,altitude:i=400}=l,a=w(null),d=w(null),h=w(null),r=w(null),u=w(!1),c=w(null),p=ee(()=>`${i}px`),m=()=>{c.value=e.value,Te(()=>{var b;(b=h.value)==null||b.open()})},F=()=>{c.value=null},_=()=>{u.value=!u.value};return ge(()=>{r.value=new $t({holder:d.value,tools:Ul,data:e.value,i18n:{direction:n?"rtl":"ltr"},tunes:["textVariant"],onChange:(b,$)=>{var T,R,N;(N=(R=(T=r.value)==null?void 0:T.save())==null?void 0:R.then(A=>{e.update(A)}))==null||N.catch(A=>{console.log("Saving failed: ",A)})}})}),Fe(()=>{var b;(b=r.value)==null||b.destroy()}),(b,$)=>{var T;return v(),g(S,null,[B(ae,{field:s(e),"no-label":s(o)},W({default:k(({id:R})=>[f("div",oe({class:["editor-wrapper",{fullscreen:u.value}]},b.$attrs,{ref_key:"container",ref:a}),[f("div",{class:"editor-js",ref_key:"element",ref:d},null,512),f("div",jl,[f("a",{href:"#",onClick:q(m,["prevent"])},[B(j,{path:s(Ie)},null,8,["path"])],8,Nl),f("a",{href:"#",onClick:q(_,["prevent"])},[B(j,{path:u.value?s(pt):s(vt)},null,8,["path"])],8,Ol)])],16)]),_:2},[I(b.$slots,(R,N)=>({name:N,fn:k(A=>[M(b.$slots,N,K(J({...A})))])}))]),1032,["field","no-label"]),c.value&&((T=c.value.blocks)==null?void 0:T.length)>0?(v(),x(_e,{key:0,ref_key:"previewModal",ref:h,title:"Preview",onClose:F,size:"xl"},{default:k(()=>[B(Et,{content:c.value,rtl:s(n)},null,8,["content","rtl"])]),_:1},512)):H("",!0)],64)}}});const Yl=z(Gl,[["__file","EditorInput.vue"]]),Wl={class:"repeater-layout d-flex flex-column gap-3"},ql={class:"col-md-10"},Jl={class:"repeater-item d-flex flex-column gap-3"},Kl=["id","onUpdate:modelValue","placeholder"],Xl={class:"col-md-2"},Ql=P({inheritAttrs:!1,__name:"RepeaterInput",props:{field:{},noLabel:{type:Boolean},base:{},layout:{}},setup(t){const l=t,{field:e,noLabel:o=!1,base:n=12,layout:i}=l,a=w(e.value??[]),d=()=>{const p={};i==null||i.forEach(m=>{m.forEach(F=>{p[F]=""})}),a.value.push(p),r()},h=p=>{a.value.splice(p,1),a.value=a.value.filter(m=>m),r()},r=()=>{e.update(a.value)},u=p=>{e.touch(p)},c=p=>{e.blur(p)};return ge(()=>{a.value.length||d()}),(p,m)=>(v(),x(ae,{field:s(e),"no-label":s(o)},W({default:k(({id:F})=>[f("div",Wl,[(v(!0),g(S,null,I(a.value,(_,b)=>(v(),g("div",{key:b,class:"row"},[f("div",ql,[f("div",Jl,[(v(!0),g(S,null,I(s(i),($,T)=>(v(),g("div",{key:T,class:"row"},[(v(!0),g(S,null,I($,(R,N)=>(v(),g("div",{key:N,class:U({[`col-md-${s(n)/$.length}`]:!0})},[de(f("input",{id:F,class:"form-control","onUpdate:modelValue":A=>_[R]=A,onInput:r,onFocus:u,onBlur:c,autocomplete:"off",spellcheck:"false",placeholder:R},null,40,Kl),[[Je,_[R]]])],2))),128))]))),128))])]),f("div",Xl,[b>0?(v(),x(ie,{key:0,color:"danger",onClick:$=>h(b)},{default:k(()=>[B(j,{path:s(he)},null,8,["path"])]),_:2},1032,["onClick"])):(v(),x(ie,{key:1,color:"success",onClick:d},{default:k(()=>[B(j,{path:s(Le)},null,8,["path"])]),_:1}))])]))),128))])]),_:2},[I(p.$slots,(F,_)=>({name:_,fn:k(b=>[M(p.$slots,_,K(J({...b})))])}))]),1032,["field","no-label"]))}}),Zl=z(Ql,[["__file","RepeaterInput.vue"]]),eo=P({__name:"AttrsInput",props:{type:{},field:{},attributes:{default:()=>({})},props:{default:()=>({})},icon:{type:[Boolean,String],default:!1}},setup(t){const l={string:Ae,text:rt,radio:at,checkbox:Ot,date:ba,image:Ze,file:Qa,range:ll,select:rl,toggle:pl,gallery:ml,tags:Al,editor:Yl,repeater:Zl},e=ee(()=>({...t.attributes??{},...t.props??{}}));return(o,n)=>l[o.type]?(v(),x(ht(l[o.type]),oe({key:0,field:o.field},e.value),W({_:2},[I(o.$slots,(i,a)=>({name:a,fn:k(d=>[M(o.$slots,a,K(J({...d})))])})),o.icon&&Object.hasOwn(Me,o.icon)?{name:"before",fn:k(()=>[B(j,{path:Me[o.icon]},null,8,["path"])]),key:"0"}:void 0]),1040,["field"])):H("",!0)}}),Ho=z(eo,[["__file","AttrsInput.vue"]]),to=f("div",{class:"spinner-border text-secondary",role:"status"},[f("span",{class:"visually-hidden"},"Loading...")],-1),ao={class:"text-muted"},lo=P({inheritAttrs:!1,__name:"ContentLoader",props:{title:{default:"Content"}},setup(t,{expose:l}){const e=w(!1);return l({start:()=>{e.value=!0},stop:()=>{e.value=!1}}),(i,a)=>e.value?(v(),g("div",oe({key:0,class:"d-flex flex-row gap-4 align-items-center"},i.$attrs),[to,f("div",ao,V(i.title)+" Loading...",1)],16)):M(i.$slots,"default",{key:1})}}),Uo=z(lo,[["__file","ContentLoader.vue"]]);export{Ho as A,Uo as C,Yl as E,Ot as a,xe as c,Gt as d};
//# sourceMappingURL=ContentLoader.js.map
